---
title: fast-format
badge:
    text: Performance
    variant: success
description: Runs oxfmt during linting and can apply fixes with --fix.
---

import { Aside, Code, LinkCard, CardGrid, Card, Tabs, TabItem, Badge, Steps } from "@astrojs/starlight/components";

Formats code with `oxfmt` as part of linting.

## Rule Details :badge[Performance]{variant=success}

This rule runs `oxfmt` during linting. When your file doesn't match the formatter output, it reports a small set of
edits (`INSERT`, `DELETE`, `REPLACE`) and can apply them with `--fix`.

<Aside type="tip" title="Fast enough for every save">
	`oxfmt` is usually much faster than Prettier. Wiring it into ESLint keeps formatting in the same pass as the rest of
	your lint rules.
</Aside>

## How it Works

<Steps>
1. **Source Analysis**
   The rule reads your file and identifies its language (TS, JS, TSX, JSX).

2. **Oxfmt Execution** It runs `oxfmt` on the file content.

3. **Diff Generation** It computes a minimal diff (Insert/Delete/Replace) to match the formatted output.

4. **Auto-Fix** ESLint applies these edits automatically when running with the `--fix` flag.

{/* oxfmt-ignore */}

</Steps>

## Features

<CardGrid stagger>
	<Card title="Rust-Powered" icon="bolt">
		`oxfmt` is written in Rust and runs fast.
	</Card>
	<Card title="LRU Caching" icon="setting">
		Skips unchanged files using a small LRU cache.
	</Card>
	<Card title="Auto-Fix" icon="approve-check">
		Fully compatible with `eslint --fix` and `bun run lint:fix`.
	</Card>
	<Card title="Unified Tooling" icon="rocket">
		No separate formatter step; it runs with your normal lint command.
	</Card>
</CardGrid>

## Usage

<Tabs>
	<TabItem label="Command Line" icon="terminal">
		### Fixing Issues
		Run the fix command to automatically format your entire project.

    	<Code code={["bun run lint:fix", "eslint --fix src/"].join("\n")} lang="bash" />
    </TabItem>
    <TabItem label="Configuration" icon="seti:typescript">
    	### ESLint Setup
    	Include the plugin and enable the rule in your configuration.

    	<Code
    		code={[
    			'import ceaseNonsense from "@pobammer-ts/eslint-cease-nonsense-rules";',
    			"",
    			"export default [",
    			"\t{",
    			"\t\tplugins: {",
    			'\t\t\t"cease-nonsense": ceaseNonsense,',
    			"\t\t},",
    			"\t\trules: {",
    			'\t\t\t"cease-nonsense/fast-format": "error",',
    			"\t\t},",
    			"\t},",
    			"];",
    		].join("\n")}
    		lang="tsx"
    	/>
    </TabItem>

</Tabs>

## Performance Internals

### LRU Cache Strategy

The rule keeps a Least Recently Used (LRU) cache (default capacity: 32 files) so it can skip unchanged files:

- **Cache keys**: Filename + hashed source content.
- **Eviction**: Drops older entries to keep memory down.
- **Support**: Works on `.js`, `.jsx`, `.ts`, `.tsx`, `.mjs`, `.cjs`.

## Message Types

| Type      | Description                       | Example                        |
| :-------- | :-------------------------------- | :----------------------------- |
| `INSERT`  | Missing whitespace or punctuation | `Insert " " at position 42`    |
| `DELETE`  | Extra or incorrect characters     | `Delete ";" at position 10`    |
| `REPLACE` | Swapping styles (e.g., quotes)    | `Replace 'hello' with "hello"` |

## Related Rules

<CardGrid>
	<LinkCard
		title="no-commented-code"
		description="Clean up old code blocks"
		href="/eslint-cease-nonsense-rules/rules/no-commented-code/"
	/>
	<LinkCard
		title="naming-convention"
		description="Enforce fast naming standards"
		href="/eslint-cease-nonsense-rules/rules/naming-convention/"
	/>
</CardGrid>

## Further Reading

<CardGrid>
	<LinkCard
		title="oxfmt Documentation"
		description="Official guide to the oxc formatter"
		href="https://oxc-project.github.io/docs/guide/usage/linter/oxfmt.html"
	/>
	<LinkCard
		title="ESLint Formatters"
		description="Understanding how ESLint handles formatting"
		href="https://eslint.org/docs/latest/use/formatters/"
	/>
</CardGrid>
