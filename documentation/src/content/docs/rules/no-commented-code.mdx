---
title: no-commented-code
---

import { Code } from "@astrojs/starlight/components";

Detects and reports commented-out code blocks.

## Rule Details

Commented-out code clutters the codebase, causes confusion, and should be removed. Version control systems like Git preserve code history, making commented code unnecessary. This rule uses heuristic detection combined with parsing to identify commented code while minimizing false positives.

## Options

This rule has no configuration options.

## Examples

### ❌ Incorrect

<Code
	code={[
		"function calculate(x: number) {",
		"\t// const result = x * 2;",
		"\t// return result;",
		"",
		"\t/* if (x > 10) {",
		"    return x;",
		"  } */",
		"",
		"\treturn x + 1;",
		"}",
	].join("\n")}
	lang="typescript"
	key="function-calculate-x-3hj1dd"
/>

<Code
	code={[
		"class UserService {",
		"\t// async fetchUser(id: number) {",
		"\t//   const response = await fetch(`/api/users/${id}`);",
		"\t//   return response.json();",
		"\t// }",
		"",
		"\tfetchUserSync(id: number) {",
		"\t\treturn userCache.get(id);",
		"\t}",
		"}",
	].join("\n")}
	lang="typescript"
	key="class-userservice-2k2luf"
/>

<Code
	code={[
		"const config = {",
		"\ttimeout: 5000,",
		"\t// retryCount: 3,",
		"\t// retryDelay: 1000,",
		"\t// onError: (err) => console.error(err),",
		"};",
	].join("\n")}
	lang="typescript"
	key="const-config-31t8rd"
/>

### ✅ Correct

<Code
	code={[
		"function calculate(x: number) {",
		"\t// TODO: Consider multiplying by 2 instead",
		"\t// Note: This is a simplified version",
		"\treturn x + 1;",
		"}",
	].join("\n")}
	lang="typescript"
	key="function-calculate-x-175mp2"
/>

<Code
	code={[
		"class UserService {",
		"\t// Fetches user data synchronously from cache",
		"\t// Returns undefined if user is not in cache",
		"\tfetchUserSync(id: number) {",
		"\t\treturn userCache.get(id);",
		"\t}",
		"}",
	].join("\n")}
	lang="typescript"
	key="class-userservice-oppfqe"
/>

<Code
	code={[
		"const config = {",
		"\ttimeout: 5000,",
		"\t// Configuration note: retry logic is handled by the network layer",
		"\t// See NetworkManager.ts for retry implementation",
		"};",
	].join("\n")}
	lang="typescript"
	key="const-config-9koaov"
/>

## Detection Algorithm

### Step 1: Comment Grouping

The rule groups adjacent line comments and individual block comments:

<Code
	code={[
		"// These three comments are grouped together",
		"// because they are adjacent line comments",
		"// on consecutive lines",
		"",
		"/* This block comment is its own group */",
	].join("\n")}
	lang="typescript"
	key="these-three-comments-1qqr3o"
/>

### Step 2: Heuristic Filtering

Uses pattern-based detection to identify code-like content:

- Contains JavaScript keywords (`function`, `const`, `if`, `return`, etc.)
- Has code-like structure (braces, parentheses, operators)
- Matches common code patterns

<Code
	code={[
		"// ✅ Not flagged (natural language)",
		"// This function handles user authentication",
		"",
		"// ❌ Flagged (code-like)",
		"// function handleAuth(user) { return user.isValid(); }",
	].join("\n")}
	lang="typescript"
	key="not-flagged-natural--8cei2z"
/>

### Step 3: Parse Validation

Attempts to parse the comment content as JavaScript/TypeScript to confirm it's valid code:

<Code
	code={[
		"// ❌ Flagged - parses successfully as code",
		"// const x = 42;",
		"// return x + 1;",
		"",
		"// ✅ Not flagged - doesn't parse as valid code",
		"// To do this properly you need to first validate",
	].join("\n")}
	lang="typescript"
	key="flagged-parses-succe-3ujlke"
/>

### Step 4: Exclusion Rules

Certain patterns are excluded even if they parse as code:

**Single statements** that are likely false positives:

- `break`
- `continue`
- `return` (without complex expression)
- Single identifiers
- String or number literals

<Code
	code={["// ✅ Not flagged (exclusions)", "// return;", "// continue;", "// MAX_COUNT;", '// "debug mode";'].join(
		"\n",
	)}
	lang="typescript"
	key="not-flagged-exclusio-3nvkue"
/>

## Suggestions

The rule provides a suggestion to automatically remove commented code:

<Code
	code={[
		'// ESLint suggestion: "Remove this commented out code"',
		"",
		"// const unused = fetchData();",
		"// processData(unused);",
		"",
		"// Click the suggestion to remove these lines",
	].join("\n")}
	lang="typescript"
	key="eslint-suggestion-re-1mfw2t"
/>

## Advanced Examples

### Multi-Line Comments

<Code
	code={[
		"// ❌ Flagged - multiple lines of code",
		"// function processUser(user) {",
		"//   const data = transform(user);",
		"//   save(data);",
		"//   return data;",
		"// }",
		"",
		"// ✅ Not flagged - multi-line documentation",
		"// This function processes user data by:",
		"// 1. Transforming the input",
		"// 2. Saving to database",
		"// 3. Returning the result",
	].join("\n")}
	lang="typescript"
	key="flagged-multiple-lin-y986oy"
/>

### Block Comments

<Code
	code={[
		"// ❌ Flagged",
		"/*",
		"const config = {",
		"  host: 'localhost',",
		"  port: 3000",
		"};",
		"*/",
		"",
		"// ✅ Not flagged",
		"/*",
		" * Configuration options:",
		" * - host: Server hostname",
		" * - port: Server port number",
		" */",
	].join("\n")}
	lang="typescript"
	key="flagged-16iels"
/>

### JSX Comments

<Code
	code={[
		"// ❌ Flagged",
		"{",
		"\t/* <Button onClick={handleClick}>",
		"  <Text>Submit</Text>",
		"</Button> */",
		"}",
		"",
		"// ✅ Not flagged",
		"{",
		"\t/* TODO: Add button here */",
		"}",
	].join("\n")}
	lang="typescript"
	key="flagged-1qvva2"
/>

### Mixed Content

<Code
	code={[
		"// ❌ Flagged (contains code)",
		"// The old implementation used this approach:",
		"// if (user.age > 18) { return true; }",
		"",
		"// ✅ Not flagged (mainly documentation)",
		"// The old implementation used a different approach",
		"// involving age validation and permission checks",
	].join("\n")}
	lang="typescript"
	key="flagged-contains-cod-3af2qu"
/>

## Edge Cases

### Missing Braces

The rule intelligently injects missing braces to handle partially commented code:

<Code
	code={["// ❌ Still flagged even with missing closing brace", "// if (condition) {", "//   doSomething();"].join(
		"\n",
	)}
	lang="typescript"
	key="still-flagged-even-w-1togv4"
/>

### Syntax Errors

Comments with minor syntax errors may still be detected:

<Code
	code={["// ❌ Flagged despite missing semicolon", "// const x = 42", "// return x"].join("\n")}
	lang="typescript"
	key="flagged-despite-miss-7f57qt"
/>

### TypeScript-Specific

The rule handles both JavaScript and TypeScript:

<Code
	code={[
		"// ❌ Flagged (TypeScript code)",
		"// const user: User = {",
		"//   id: 1,",
		"//   name: 'John'",
		"// };",
		"",
		"// ❌ Flagged (JSX/TSX code)",
		'// <div className="container">',
		"//   <span>Hello</span>",
		"// </div>",
	].join("\n")}
	lang="typescript"
	key="flagged-typescript-c-jtxlym"
/>

## When Not To Use It

Consider disabling this rule if:

- You frequently use commented code for debugging during development
- Your team uses commented code to show examples in documentation
- You have a legacy codebase with extensive commented code that needs gradual cleanup

For these scenarios, consider:

- Using `// eslint-disable-next-line no-commented-code` for specific cases
- Creating a separate branch for cleanup
- Using IDE features for temporary code disabling instead of comments

## False Positives

The rule is designed to minimize false positives, but some may occur:

### Documentation with Code-Like Syntax

<Code
	code={["// ✅ Might be incorrectly flagged", "// The API returns: { status: 200, data: {...} }"].join("\n")}
	lang="typescript"
	key="might-be-incorrectly-c3m24q"
/>

**Solution**: Rephrase to be less code-like:

<Code
	code={["// ✅ Better documentation", "// The API returns an object with status and data properties"].join("\n")}
	lang="typescript"
	key="better-documentation-2ohf2t"
/>

### Regular Expressions in Documentation

<Code
	code={[
		"// ✅ Might be incorrectly flagged",
		"// Use pattern: /^[A-Z]/",
		"",
		"// ✅ Better",
		"// Use a regex pattern starting with capital letters",
	].join("\n")}
	lang="typescript"
	key="might-be-incorrectly-1gktbw"
/>

## Best Practices

### Use Version Control

Instead of commenting code:

<Code
	code={[
		"// ❌ Bad",
		"// function oldImplementation() {",
		"//   return legacyLogic();",
		"// }",
		"",
		"function newImplementation() {",
		"\treturn modernLogic();",
		"}",
	].join("\n")}
	lang="typescript"
	key="bad-360ge5"
/>

<Code
	code={[
		"// ✅ Good - just delete it",
		"function newImplementation() {",
		"\treturn modernLogic();",
		"}",
		"",
		"// Git history preserves the old implementation",
	].join("\n")}
	lang="typescript"
	key="good-just-delete-it-378gek"
/>

### Use TODO Comments

For future implementation:

<Code
	code={[
		"// ❌ Bad",
		"// function featureNotReady() {",
		"//   return implementation();",
		"// }",
		"",
		"// ✅ Good",
		"// TODO: Implement feature",
		"// See ticket #123 for requirements",
	].join("\n")}
	lang="typescript"
	key="bad-1qle76"
/>

### Use Feature Flags

For conditional code:

<Code
	code={[
		"// ❌ Bad",
		"// if (USE_NEW_FEATURE) {",
		"//   return newLogic();",
		"// }",
		"return oldLogic();",
		"",
		"// ✅ Good",
		'if (featureFlags.isEnabled("newFeature")) {',
		"\treturn newLogic();",
		"}",
		"return oldLogic();",
	].join("\n")}
	lang="typescript"
	key="bad-3fpohq"
/>

## Related Rules

- [no-console](https://eslint.org/docs/rules/no-console) - Prevents debug console statements
- [no-debugger](https://eslint.org/docs/rules/no-debugger) - Prevents debugger statements

## Further Reading

- [Clean Code: Comments](https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882)
- [Code Comments Best Practices](https://stackoverflow.blog/2021/12/23/best-practices-for-writing-code-comments/)
- [Why Commented Code is Bad](https://kentcdodds.com/blog/please-dont-commit-commented-out-code)
