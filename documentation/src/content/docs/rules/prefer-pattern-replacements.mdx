---
title: prefer-pattern-replacements
badge:
    text: Advanced
    variant: caution
description:
    Enforces replacement of verbose constructor/method patterns with simpler alternatives using a capture system.
---

import { Aside, Code, LinkCard, CardGrid, Card, Tabs, TabItem, Badge, Steps } from "@astrojs/starlight/components";

Replace verbose constructor/method patterns with configured shorthands.

## Rule Details :badge[Advanced]{variant=caution}

This rule matches constructor or method calls against patterns you define and rewrites them to simpler equivalents.
It supports captures, optional arguments, wildcards, and scope-aware fixes.

<Aside type="caution" title="Complexity Note">
	This is an orchestration rule. You define the patterns and replacements, and the rule keeps the rewrite consistent
	across the codebase.
</Aside>

## Features

<CardGrid stagger>
	<Card title="Auto-Fix" icon="rocket">
		Rewrites matched patterns during linting.
	</Card>
	<Card title="Captures" icon="magnifier">
		Use `$x` or `$name` to capture values and reuse them in the replacement.
	</Card>
	<Card title="Wildcards" icon="bolt">
		Use `_` to match any value without capturing it.
	</Card>
	<Card title="Scope Aware" icon="warning">
		Skips fixes if the replacement name would shadow an existing local variable.
	</Card>
</CardGrid>

## Pattern Syntax

### Capture System

Capture a value and reuse it in the replacement:

- **Match**: `new Vector2($x, $y)`
- **Replacement**: `Vector2.create($x, $y)`

### Optional Arguments

Use `?` to treat a literal `0` as optional (or allow the argument to be omitted):

- **Match**: `new Vector2($x, 0?)`
- **Replacement**: `fromX($x)`

### Conditions (`when`)

Add constraints on captured values:

<Code
	code={[
		"pattern({",
		'\tmatch: "new Vector2($x, $x)",',
		'\treplacement: "fromUniform($x)",',
		'\twhen: { x: "!= 0" }',
		"});",
	].join("\n")}
	lang="typescript"
/>

### Ordering

Put the most specific patterns first so they win over general fallbacks. For example:

<Code
	code={[
		"pattern({",
		'\tmatch: "UDim2.fromScale(1, 1)",',
		'\treplacement: "oneScale",',
		"}),",
		"pattern({",
		'\tmatch: "UDim2.fromScale($x, $x)",',
		'\treplacement: "scale($x)",',
		"}),",
	].join("\n")}
	lang="typescript"
/>

## Common Use Cases

<Tabs>
	<TabItem label="Roblox UDim2" icon="laptop">
		### Simplifying UDim2
		Replace full constructors with your preferred shorthands.

    	<Code
    		code={[
    			"// Match: new UDim2($x, 0, $y, 0)",
    			"// Replacement: UDim2.fromScale($x, $y)",
    			"",
    			"const scale = new UDim2(1, 0, 1, 0);",
    			"// Fixes to: UDim2.fromScale(1, 1);",
    		].join("\n")}
    		lang="tsx"
    	/>
    </TabItem>
	<TabItem label="Vector2/3" icon="bolt">
		### Uniform Vectors
		Replace identical coordinates with a uniform helper.

    	<Code
    		code={[
    			"// Match: new Vector2($x, $x)",
    			"// Replacement: fromUniform($x)",
    			"",
    			"const vec = new Vector2(5, 5);",
    			"// Fixes to: fromUniform(5);",
    		].join("\n")}
    		lang="tsx"
    	/>
    </TabItem>

</Tabs>

## Related Rules

<CardGrid>
	<LinkCard
		title="no-color3-constructor"
		description="Bans Color3 constructor specifically"
		href="/eslint-cease-nonsense-rules/rules/no-color3-constructor/"
	/>
	<LinkCard
		title="prefer-udim2-shorthand"
		description="Simpler UDim2 logic"
		href="/eslint-cease-nonsense-rules/rules/prefer-udim2-shorthand/"
	/>
</CardGrid>

## Further Reading

<CardGrid>
	<LinkCard
		title="roblox-ts Patterns"
		description="Common shorthand patterns in roblox-ts"
		href="https://roblox-ts.com/"
	/>
</CardGrid>
