#!/usr/bin/env bun
// @bun
var DE=Object.create;var{getPrototypeOf:VE,defineProperty:uH,getOwnPropertyNames:GE}=Object;var $E=Object.prototype.hasOwnProperty;var t8=(w,Q,Y)=>{Y=w!=null?DE(VE(w)):{};let z=Q||!w||!w.__esModule?uH(Y,"default",{value:w,enumerable:!0}):Y;for(let H of GE(w))if(!$E.call(z,H))uH(z,H,{get:()=>w[H],enumerable:!0});return z};var pH=(w,Q)=>()=>(Q||w((Q={exports:{}}).exports,Q),Q.exports);var y6=(w,Q)=>{for(var Y in Q)uH(w,Y,{get:Q[Y],enumerable:!0,configurable:!0,set:(z)=>Q[Y]=()=>z})};var PE=(w,Q)=>()=>(w&&(Q=w(w=0)),Q);var l4=import.meta.require;var qX={};y6(qX,{translate:()=>Q_,init:()=>aI,deinit:()=>tI,before:()=>w_,after:()=>eI});import hw from"os";import{createRequire as nI}from"module";import{spawnSync as sI}from"child_process";function aI(){ow.init()}function tI(){ow.deinit()}function eI(){ow.after()}function w_(){ow.before()}function Q_(w=1,Q=1){if(hw.platform()==="darwin"){let Y=ow.translate(),z={min:Y.FIXED_CYCLES.min/w,max:Y.FIXED_CYCLES.max/w,avg:Y.FIXED_CYCLES.total/w/Q,stalls:{min:Y.MAP_STALL.min/w,max:Y.MAP_STALL.max/w,avg:Y.MAP_STALL.total/w/Q}},H=!Y.INST_BRANCH?null:{min:Y.INST_BRANCH.min/w,max:Y.INST_BRANCH.max/w,avg:Y.INST_BRANCH.total/w/Q,mispredicted:{min:Y.BRANCH_MISPRED_NONSPEC.min/w,max:Y.BRANCH_MISPRED_NONSPEC.max/w,avg:Y.BRANCH_MISPRED_NONSPEC.total/w/Q}},W={min:Y.FIXED_INSTRUCTIONS.min/w,max:Y.FIXED_INSTRUCTIONS.max/w,avg:Y.FIXED_INSTRUCTIONS.total/w/Q,loads_and_stores:!Y.INST_LDST?null:{min:Y.INST_LDST.min/w,max:Y.INST_LDST.max/w,avg:Y.INST_LDST.total/w/Q}};return{l1:{miss_loads:!Y.L1D_CACHE_MISS_LD_NONSPEC?null:{min:Y.L1D_CACHE_MISS_LD_NONSPEC.min/w,max:Y.L1D_CACHE_MISS_LD_NONSPEC.max/w,avg:Y.L1D_CACHE_MISS_LD_NONSPEC.total/w/Q},miss_stores:!Y.L1D_CACHE_MISS_ST_NONSPEC?null:{min:Y.L1D_CACHE_MISS_ST_NONSPEC.min/w,max:Y.L1D_CACHE_MISS_ST_NONSPEC.max/w,avg:Y.L1D_CACHE_MISS_ST_NONSPEC.total/w/Q}},cycles:z,branches:H,instructions:W}}if(hw.platform()==="linux"){let Y=ow.translate(),z={min:Y.CPU_CYCLES.min/w,max:Y.CPU_CYCLES.max/w,avg:Y.CPU_CYCLES.total/w/Q},H={min:Y.INSTRUCTIONS.min/w,max:Y.INSTRUCTIONS.max/w,avg:Y.INSTRUCTIONS.total/w/Q},W=!Y.BRANCH_MISSES?null:{min:Y.BRANCH_MISSES.min/w,max:Y.BRANCH_MISSES.max/w,avg:Y.BRANCH_MISSES.total/w/Q},X=!Y.BRANCH_INSTRUCTIONS?null:{mispredicted:W,min:Y.BRANCH_INSTRUCTIONS.min/w,max:Y.BRANCH_INSTRUCTIONS.max/w,avg:Y.BRANCH_INSTRUCTIONS.total/w/Q};return{cache:!Y.CACHE_REFERENCES?null:{min:Y.CACHE_REFERENCES.min/w,max:Y.CACHE_REFERENCES.max/w,avg:Y.CACHE_REFERENCES.total/w/Q,misses:!Y.CACHE_MISSES?null:{min:Y.CACHE_MISSES.min/w,max:Y.CACHE_MISSES.max/w,avg:Y.CACHE_MISSES.total/w/Q}},cycles:z,branches:X,_bmispred:W,instructions:H}}}var ow=null;var OX=PE(()=>{if(!globalThis.Bun)ow=nI(import.meta.url)(`../dist/${hw.arch()}-${hw.platform()}.node`);else{let{dlopen:w,CString:Q}=globalThis.Bun.FFI,Y=new URL(`../dist/${hw.arch()}-${hw.platform()}.node`,import.meta.url),z=w(Y.pathname,{libcounters_load:{args:[],returns:"i32"},libcounters_init:{args:[],returns:"i32"},libcounters_after:{args:[],returns:"i32"},libcounters_deinit:{args:[],returns:"i32"},libcounters_before:{args:[],returns:"i32"},libcounters_translate:{args:[],returns:"i32"},libcounters_translate_len:{args:[],returns:"u32"},libcounters_translate_ptr:{args:[],returns:"ptr"},libcounters_translate_free:{args:[],returns:"void"}});ow={load(){if(z.symbols.libcounters_load())throw Error("failed to load libcounters")},init(){if(z.symbols.libcounters_init())throw Error("failed to init libcounters")},after(){if(z.symbols.libcounters_after())throw Error("failed to after libcounters")},deinit(){if(z.symbols.libcounters_deinit())throw Error("failed to deinit libcounters")},before(){if(z.symbols.libcounters_before())throw Error("failed to before libcounters")},translate(){if(z.symbols.libcounters_translate())throw Error("failed to translate libcounters");let H=z.symbols.libcounters_translate_len(),W=z.symbols.libcounters_translate_ptr(),X=JSON.parse(new Q(W,0,H));return z.symbols.libcounters_translate_free(),X}}}ow.load();if(hw.platform()==="darwin"){let w=import.meta.url.replace("file://","").replace("/lib.mjs",""),Q=["xctrace","/Applications/Xcode.app/Contents/Developer/usr/bin/xctrace","/Applications/Xcode-beta.app/Contents/Developer/usr/bin/xctrace"],Y=["record","--output","/tmp","--template","../dist/l1cache.template","--launch","--","/bin/echo","cpu counters"];for(let z of Q)try{if(globalThis.Bun){if(Bun.spawnSync([z,...Y],{cwd:w,stdin:null,stdout:null,stderr:null}).success)break}else if(sI(z,Y,{cwd:w,stdio:"ignore"}).status===0)break}catch{}}});var OV=pH((Gr0,qV)=>{function y4(w){this._maxSize=w,this.clear()}y4.prototype.clear=function(){this._size=0,this._values=Object.create(null)};y4.prototype.get=function(w){return this._values[w]};y4.prototype.set=function(w,Q){if(this._size>=this._maxSize&&this.clear(),!(w in this._values))this._size++;return this._values[w]=Q};var Vu=/[^.^\]^[]+|(?=\[\]|\.\.)/g,UV=/^\d+$/,Gu=/^\d/,$u=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Pu=/^\s*(['"]?)(.*?)(\1)\s*$/,PJ=512,XV=new y4(PJ),JV=new y4(PJ),LV=new y4(PJ);qV.exports={Cache:y4,split:$J,normalizePath:GJ,setter:function(w){var Q=GJ(w);return JV.get(w)||JV.set(w,function(z,H){var W=0,X=Q.length,L=z;while(W<X-1){var U=Q[W];if(U==="__proto__"||U==="constructor"||U==="prototype")return z;L=L[Q[W++]]}L[Q[W]]=H})},getter:function(w,Q){var Y=GJ(w);return LV.get(w)||LV.set(w,function(H){var W=0,X=Y.length;while(W<X)if(H!=null||!Q)H=H[Y[W++]];else return;return H})},join:function(w){return w.reduce(function(Q,Y){return Q+(EJ(Y)||UV.test(Y)?"["+Y+"]":(Q?".":"")+Y)},"")},forEach:function(w,Q,Y){Eu(Array.isArray(w)?w:$J(w),Q,Y)}};function GJ(w){return XV.get(w)||XV.set(w,$J(w).map(function(Q){return Q.replace(Pu,"$2")}))}function $J(w){return w.match(Vu)||[""]}function Eu(w,Q,Y){var z=w.length,H,W,X,L;for(W=0;W<z;W++)if(H=w[W],H){if(Iu(H))H='"'+H+'"';L=EJ(H),X=!L&&/^\d+$/.test(H),Q.call(Y,H,L,X,W,w)}}function EJ(w){return typeof w==="string"&&w&&["'",'"'].indexOf(w.charAt(0))!==-1}function Su(w){return w.match(Gu)&&!w.match(UV)}function bu(w){return $u.test(w)}function Iu(w){return!EJ(w)&&(Su(w)||bu(w))}});var FV=pH(($r0,NV)=>{var _u=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,OH=(w)=>w.match(_u)||[],ZH=(w)=>w[0].toUpperCase()+w.slice(1),SJ=(w,Q)=>OH(w).join(Q).toLowerCase(),ZV=(w)=>OH(w).reduce((Q,Y)=>`${Q}${!Q?Y.toLowerCase():Y[0].toUpperCase()+Y.slice(1).toLowerCase()}`,""),ju=(w)=>ZH(ZV(w)),ku=(w)=>SJ(w,"_"),gu=(w)=>SJ(w,"-"),fu=(w)=>ZH(SJ(w," ")),xu=(w)=>OH(w).map(ZH).join(" ");NV.exports={words:OH,upperFirst:ZH,camelCase:ZV,pascalCase:ju,snakeCase:ku,kebabCase:gu,sentenceCase:fu,titleCase:xu}});var BV=pH((Pr0,bJ)=>{bJ.exports=function(w){return KV(vu(w),w)};bJ.exports.array=KV;function KV(w,Q){var Y=w.length,z=Array(Y),H={},W=Y,X=yu(Q),L=mu(w);Q.forEach(function(q){if(!L.has(q[0])||!L.has(q[1]))throw Error("Unknown node. There is an unknown node in the supplied edges.")});while(W--)if(!H[W])U(w[W],W,new Set);return z;function U(q,Z,K){if(K.has(q)){var B;try{B=", node was:"+JSON.stringify(q)}catch(T){B=""}throw Error("Cyclic dependency"+B)}if(!L.has(q))throw Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(q));if(H[Z])return;H[Z]=!0;var A=X.get(q)||new Set;if(A=Array.from(A),Z=A.length){K.add(q);do{var M=A[--Z];U(M,L.get(M),K)}while(Z);K.delete(q)}z[--Y]=q}}function vu(w){var Q=new Set;for(var Y=0,z=w.length;Y<z;Y++){var H=w[Y];Q.add(H[0]),Q.add(H[1])}return Array.from(Q)}function yu(w){var Q=new Map;for(var Y=0,z=w.length;Y<z;Y++){var H=w[Y];if(!Q.has(H[0]))Q.set(H[0],new Set);if(!Q.has(H[1]))Q.set(H[1],new Set);Q.get(H[0]).add(H[1])}return Q}function mu(w){var Q=new Map;for(var Y=0,z=w.length;Y<z;Y++)Q.set(w[Y],Y);return Q}});import{readFile as el}from"fs/promises";var X8=(w)=>Array.isArray(w)?w:[w],$L=(w,Q)=>{let Y=[[],[]];for(let z of w)if(Q(z))Y[0].push(z);else Y[1].push(z);return Y},Lz=Array,g9=(w,Q)=>w.includes(Q),PL=(w,Q=0)=>[...Array(w)].map((Y,z)=>z+Q),D0=(w,Q,Y)=>{if(w===void 0)return Q===void 0?[]:Array.isArray(Q)?Q:[Q];if(Y?.prepend)if(Array.isArray(Q))w.unshift(...Q);else w.unshift(Q);else if(Array.isArray(Q))w.push(...Q);else w.push(Q);return w},gw=(w,Q)=>{if(Q===void 0||Q===null)return w??[];if(w===void 0||w===null)return X8(Q);return w.concat(Q)},EL=(...w)=>w.reduce(gw,[]),Jw=(w,Q,Y)=>{if(w===void 0)return Array.isArray(Q)?Q:[Q];let z=Y?.isEqual??((H,W)=>H===W);for(let H of X8(Q))if(!w.some((W)=>z(W,H)))w.push(H);return w},SL=(w,Q)=>w.reduce((Y,z)=>{let H=z[Q];return Y[H]=D0(Y[H],z),Y},{}),fw=(w,Q,Y)=>w.length===Q.length&&w.every(Y?.isEqual?(z,H)=>Y.isEqual(z,Q[H]):(z,H)=>z===Q[H]);var L9=(w,Q)=>G6(w)===Q,G6=(w)=>{let Q=typeof w;return Q==="object"?w===null?"null":"object":Q==="function"?"object":Q},U9={boolean:"boolean",null:"null",undefined:"undefined",bigint:"a bigint",number:"a number",object:"an object",string:"a string",symbol:"a symbol"},bL={...U9,function:"a function"};class IL extends Error{}var b0=(w)=>e8(w,IL),e8=(w,Q=Error)=>{throw new Q(w)};class zY extends Error{name="ParseError"}var V=(w)=>e8(w,zY),o9=(w)=>` ${w}`,_L="\u200B";var W0=(w,Q)=>{let Y={},z=Array.isArray(w),H=!1;for(let[W,X]of Object.entries(w).entries()){let L=z?Q(W,X[1]):Q(...X,W);H||=typeof L[0]==="number";let U=Array.isArray(L[0])||L.length===0?L:[L];for(let[q,Z]of U)if(typeof q==="object")Y[q.group]=D0(Y[q.group],Z);else Y[q]=Z}return H?Object.values(Y):Y};var lH=Object.entries;var $6=(w,Q)=>(w in Q),r4=(w,Q)=>(Q in w);class rH{constructor(w){Object.assign(this,w)}}var jL=class{};class HY extends jL{}var EE=(w,Q)=>{let Y={},z={},H;for(H in w)if(H in Q)Y[H]=w[H];else z[H]=w[H];return[Y,z]};var Uz=(w,Q)=>EE(w,Q)[1],Lw=(w)=>Object.keys(w).length===0,w4=(w)=>[...Object.entries(w),...Object.getOwnPropertySymbols(w).map((Q)=>[Q,w[Q]])],kL=(w,Q)=>Object.defineProperties(w,Object.getOwnPropertyDescriptors(Q)),gL=(w)=>{let Q=Object.keys(w).sort(),Y={};for(let z=0;z<Q.length;z++)Y[Q[z]]=w[Q[z]];return Y};var q9=o9(`unset${_L}`),fL=(w)=>Object.values(w).filter((Q)=>{if(typeof Q==="number")return!0;return typeof w[Q]!=="number"});var cH={Array,Boolean,Date,Error,Function,Map,Number,Promise,RegExp,Set,String,WeakMap,WeakSet},dH=globalThis.File??Blob,iH={ArrayBuffer,Blob,File:dH,FormData,Headers,Request,Response,URL},SE={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array},Q4={...cH,...iH,...SE,String,Number,Boolean},WY=(w)=>{let Q=Object.getPrototypeOf(w);while(Q?.constructor&&(!$6(Q.constructor.name,Q4)||!(w instanceof Q4[Q.constructor.name])))Q=Object.getPrototypeOf(Q);let Y=Q?.constructor?.name;if(Y===void 0||Y==="Object")return;return Y},XY=(w)=>typeof w==="object"&&w!==null?WY(w)??"object":G6(w);var y0=Array.isArray,bE={Array:"an array",Function:"a function",Date:"a Date",RegExp:"a RegExp",Error:"an Error",Map:"a Map",Set:"a Set",String:"a String object",Number:"a Number object",Boolean:"a Boolean object",Promise:"a Promise",WeakMap:"a WeakMap",WeakSet:"a WeakSet"},IE={ArrayBuffer:"an ArrayBuffer instance",Blob:"a Blob instance",File:"a File instance",FormData:"a FormData instance",Headers:"a Headers instance",Request:"a Request instance",Response:"a Response instance",URL:"a URL instance"},_E={Int8Array:"an Int8Array",Uint8Array:"a Uint8Array",Uint8ClampedArray:"a Uint8ClampedArray",Int16Array:"an Int16Array",Uint16Array:"a Uint16Array",Int32Array:"an Int32Array",Uint32Array:"a Uint32Array",Float32Array:"a Float32Array",Float64Array:"a Float64Array",BigInt64Array:"a BigInt64Array",BigUint64Array:"a BigUint64Array"},xL={...bE,...IE,..._E},JY=(w)=>{let Q=Object(w).name??null;return Q&&$6(Q,Q4)&&Q4[Q]===w?Q:null};var nH=(w,Q)=>{let Y=w.prototype;while(Y!==null){if(Y===Q.prototype)return!0;Y=Object.getPrototypeOf(Y)}return!1};var vL=(w)=>yL(w,new Map),yL=(w,Q)=>{if(typeof w!=="object"||w===null)return w;if(Q?.has(w))return Q.get(w);let Y=JY(w.constructor);if(Y==="Date")return new Date(w.getTime());if(Y&&Y!=="Array")return w;let z=Array.isArray(w)?w.slice():Object.create(Object.getPrototypeOf(w)),H=Object.getOwnPropertyDescriptors(w);if(Q){Q.set(w,z);for(let W in H){let X=H[W];if("get"in X||"set"in X)continue;X.value=yL(X.value,Q)}}return Object.defineProperties(z,H),z};var jE=(w)=>{let Q=q9;return()=>Q===q9?Q=w():Q},J8=(w)=>typeof w==="function"&&w.length===0;var mL=class extends Function{constructor(...w){let Q=w.slice(0,-1),Y=w[w.length-1];try{super(...Q,Y)}catch(z){return b0(`Encountered an unexpected error while compiling your definition:
                Message: ${z} 
                Source: (${w.slice(0,-1)}) => {
                    ${w[w.length-1]}
                }`)}}};class O9{constructor(w,...[Q]){return Object.assign(Object.setPrototypeOf(w.bind(Q?.bind??this),this.constructor.prototype),Q?.attach)}}var hL=jE(()=>{try{return Function("return false")()}catch{return!0}});var Er=o9("brand");var oL=o9("arkInferred");var Ir=o9("args");class m6{constructor(){}}var kE=()=>{try{return((Error().stack?.split(`
`)[2]?.trim()||"").match(/\(?(.+?)(?::\d+:\d+)?\)?$/)?.[1]||"unknown").replace(/^file:\/\//,"")}catch{return"unknown"}},gE=globalThis.process?.env??{},uL={fileName:kE,env:gE};var pL=(w)=>w[0].toUpperCase()+w.slice(1),lL=(w)=>w[0].toLowerCase()+w.slice(1),sH=(w)=>new RegExp(fE(w),typeof w==="string"?"":w.flags);var fE=(w)=>{return`^(?:${typeof w==="string"?w:w.source})$`};var xw={negativeLookahead:(w)=>`(?!${w})`,nonCapturingGroup:(w)=>`(?:${w})`},Y4="\\",L8={" ":1,"\n":1,"\t":1};var xE=/^-0\.?0*$/.source,cL=/[1-9]\d*/.source,vE=/\.\d+/.source,yE=/\.\d*[1-9]/.source,dL=(w)=>sH(xw.negativeLookahead(xE)+xw.nonCapturingGroup("-?"+xw.nonCapturingGroup(xw.nonCapturingGroup("0|"+cL)+xw.nonCapturingGroup(w.decimalPattern)+"?")+(w.allowDecimalOnly?"|"+w.decimalPattern:"")+"?")),rL=dL({decimalPattern:yE,allowDecimalOnly:!1}),mE=rL.test.bind(rL),qz=dL({decimalPattern:vE,allowDecimalOnly:!0}),vr=qz.test.bind(qz),hE=/^-?\d*\.?\d*$/,oE=(w)=>w.length!==0&&hE.test(w),LY=sH(xw.negativeLookahead("^-0$")+"-?"+xw.nonCapturingGroup(xw.nonCapturingGroup("0|"+cL))),uE=LY.test.bind(LY),aH=/^-?\d+$/,pE=aH.test.bind(aH),iL={number:"a number",bigint:"a bigint",integer:"an integer"},nL=(w,Q)=>`'${w}' was parsed as ${iL[Q]} but could not be narrowed to a literal value. Avoid unnecessary leading or trailing zeros and other abnormal notation`,lE=(w,Q)=>Q==="number"?mE(w):uE(w),rE=(w,Q)=>Q==="number"?Number(w):Number.parseInt(w),cE=(w,Q)=>Q==="number"?oE(w):pE(w),sL=(w,Q)=>tH(w,"number",Q),aL=(w,Q)=>tH(w,"number",{...Q,strict:!0}),tL=(w,Q)=>tH(w,"integer",Q),tH=(w,Q,Y)=>{let z=rE(w,Q);if(!Number.isNaN(z)){if(cE(w,Q)){if(Y?.strict)return lE(w,Q)?z:V(nL(w,Q));return z}}return Y?.errorOnFail?V(Y?.errorOnFail===!0?`Failed to parse ${iL[Q]} from '${w}'`:Y?.errorOnFail):void 0},eL=(w)=>{if(w[w.length-1]!=="n")return;let Q=w.slice(0,-1),Y;try{Y=BigInt(Q)}catch{return}if(LY.test(Q))return Y;if(aH.test(Q))return V(nL(w,"bigint"))};var dE="0.56.0",iE={version:dE,filename:uL.fileName(),FileConstructor:dH},z4=iE,wU=new Map,eH=Object.create(null),UY=(w)=>{let Q=wU.get(w);if(Q)return Q;let Y=nE(w);if(eH[Y])Y=`${Y}${eH[Y]++}`;else eH[Y]=1;return z4[Y]=w,wU.set(w,Y),Y},U8=(w)=>/^[$A-Z_a-z][\w$]*$/.test(w),nE=(w)=>{switch(typeof w){case"object":{if(w===null)break;let Q=WY(w)??"object";return Q[0].toLowerCase()+Q.slice(1)}case"function":return U8(w.name)?w.name:"fn";case"symbol":return w.description&&U8(w.description)?w.description:"symbol"}return b0(`Unexpected attempt to register serializable value of type ${G6(w)}`)};var qY=(w)=>typeof w==="string"?JSON.stringify(w):typeof w==="bigint"?`${w}n`:`${w}`;var QU=(w,Q={})=>OY(w,{onUndefined:"$ark.undefined",onBigInt:(Y)=>`$ark.bigint-${Y}`,...Q},[]);var X0=(w,Q)=>{switch(G6(w)){case"object":let Y=w,z=Y.constructor?.name??"Object";return z==="Object"||z==="Array"?Q?.quoteKeys===!1?Oz(Y,Q?.indent??0,""):JSON.stringify(OY(Y,c4,[]),null,Q?.indent):Oz(Y,Q?.indent??0,"");case"symbol":return c4.onSymbol(w);default:return qY(w)}},Oz=(w,Q,Y)=>{if(typeof w==="function")return c4.onFunction(w);if(typeof w!=="object"||w===null)return qY(w);let z=Y+" ".repeat(Q);if(Array.isArray(w)){if(w.length===0)return"[]";let W=w.map((X)=>Oz(X,Q,z)).join(`,
`+z);return Q?`[
${z}${W}
${Y}]`:`[${W}]`}let H=w.constructor?.name??"Object";if(H==="Object"){let W=w4(w).map(([X,L])=>{let U=typeof X==="symbol"?c4.onSymbol(X):U8(X)?X:JSON.stringify(X),q=Oz(L,Q,z);return`${z}${U}: ${q}`});if(W.length===0)return"{}";return Q?`{
${W.join(`,
`)}
${Y}}`:`{${W.join(", ")}}`}if(w instanceof Date)return H4(w);if("expression"in w&&typeof w.expression==="string")return w.expression;return H},c4={onCycle:()=>"(cycle)",onSymbol:(w)=>`Symbol(${UY(w)})`,onFunction:(w)=>`Function(${UY(w)})`},OY=(w,Q,Y)=>{switch(G6(w)){case"object":{let z=w;if("toJSON"in z&&typeof z.toJSON==="function")return z.toJSON();if(typeof z==="function")return c4.onFunction(z);if(Y.includes(z))return"(cycle)";let H=[...Y,z];if(Array.isArray(z))return z.map((X)=>OY(X,Q,H));if(z instanceof Date)return z.toDateString();let W={};for(let X in z)W[X]=OY(z[X],Q,H);for(let X of Object.getOwnPropertySymbols(z))W[Q.onSymbol?.(X)??X.toString()]=OY(z[X],Q,H);return W}case"symbol":return c4.onSymbol(w);case"bigint":return Q.onBigInt?.(w)??`${w}n`;case"undefined":return Q.onUndefined??"undefined";case"string":return w.replace(/\\/g,"\\\\");default:return w}},H4=(w)=>{let Q=w.getFullYear(),Y=w.getMonth(),z=w.getDate(),H=w.getHours(),W=w.getMinutes(),X=w.getSeconds(),L=w.getMilliseconds();if(Y===0&&z===1&&H===0&&W===0&&X===0&&L===0)return`${Q}`;let U=`${sE[Y]} ${z}, ${Q}`;if(H===0&&W===0&&X===0&&L===0)return U;let q=w.toLocaleTimeString(),Z=q.endsWith(" AM")||q.endsWith(" PM")?q.slice(-3):"";if(Z)q=q.slice(0,-Z.length);if(L)q+=`.${tE(L,3)}`;else if(aE.test(q))q=q.slice(0,-3);return`${q+Z}, ${U}`},sE=["January","February","March","April","May","June","July","August","September","October","November","December"],aE=/:\d\d:00$/,tE=(w,Q)=>String(w).padStart(Q,"0");var YU=(w,Q,...[Y])=>{let z=Y?.stringifySymbol??X0,H=w;switch(typeof Q){case"string":H=U8(Q)?w===""?Q:`${w}.${Q}`:`${w}[${JSON.stringify(Q)}]`;break;case"number":H=`${w}[${Q}]`;break;case"symbol":H=`${w}[${z(Q)}]`;break;default:if(Y?.stringifyNonKey)H=`${w}[${Y.stringifyNonKey(Q)}]`;else V(`${X0(Q)} must be a PropertyKey or stringifyNonKey must be passed to options`)}return H},vw=(w,...Q)=>w.reduce((Y,z)=>YU(Y,z,...Q),"");class ZY extends Lz{cache={};constructor(...w){super();this.push(...w)}toJSON(){if(this.cache.json)return this.cache.json;this.cache.json=[];for(let w=0;w<this.length;w++)this.cache.json.push(typeof this[w]==="symbol"?X0(this[w]):this[w]);return this.cache.json}stringify(){if(this.cache.stringify)return this.cache.stringify;return this.cache.stringify=vw(this)}stringifyAncestors(){if(this.cache.stringifyAncestors)return this.cache.stringifyAncestors;let w="",Q=[w];for(let Y of this)w=YU(w,Y),Q.push(w);return this.cache.stringifyAncestors=Q}}class NY{chars;i;def;constructor(w){this.def=w,this.chars=[...w],this.i=0}shift(){return this.chars[this.i++]??""}get lookahead(){return this.chars[this.i]??""}get nextLookahead(){return this.chars[this.i+1]??""}get length(){return this.chars.length}shiftUntil(w){let Q="";while(this.lookahead)if(w(this,Q))break;else Q+=this.shift();return Q}shiftUntilEscapable(w){let Q="";while(this.lookahead)if(this.lookahead===Y4)if(this.shift(),w(this,Q))Q+=this.shift();else if(this.lookahead===Y4)Q+=this.shift();else Q+=`${Y4}${this.shift()}`;else if(w(this,Q))break;else Q+=this.shift();return Q}shiftUntilLookahead(w){return typeof w==="string"?this.shiftUntil((Q)=>Q.lookahead===w):this.shiftUntil((Q)=>(Q.lookahead in w))}shiftUntilNonWhitespace(){return this.shiftUntil(()=>!(this.lookahead in L8))}jumpToIndex(w){this.i=w<0?this.length+w:w}jumpForward(w){this.i+=w}get location(){return this.i}get unscanned(){return this.chars.slice(this.i,this.length).join("")}get scanned(){return this.chars.slice(0,this.i).join("")}sliceChars(w,Q){return this.chars.slice(w,Q).join("")}lookaheadIs(w){return this.lookahead===w}lookaheadIsIn(w){return this.lookahead in w}}var zU=(w,Q)=>`Unmatched ${w}${Q===""?"":` before ${Q}`}`,Zz=(w)=>`Missing ${w}`;var Lc=o9("implementedTraits");var wW="$ark",eE=2;while(wW in globalThis)wW=`$ark${eE++}`;var HU=wW;globalThis[HU]=z4;var S=z4,wS=(w)=>`${HU}.${w}`,z6=(w)=>wS(UY(w));class Nz extends HY{argNames;body="";constructor(...w){super();this.argNames=w;for(let Q of w){if(Q in this)throw Error(`Arg name '${Q}' would overwrite an existing property on FunctionBody`);this[Q]=Q}}indentation=0;indent(){return this.indentation+=4,this}dedent(){return this.indentation-=4,this}prop(w,Q=!1){return QW(w,Q)}index(w,Q=!1){return WU(`${w}`,Q)}line(w){return this.body+=`${" ".repeat(this.indentation)}${w}
`,this}const(w,Q){return this.line(`const ${w} = ${Q}`),this}let(w,Q){return this.line(`let ${w} = ${Q}`)}set(w,Q){return this.line(`${w} = ${Q}`)}if(w,Q){return this.block(`if (${w})`,Q)}elseIf(w,Q){return this.block(`else if (${w})`,Q)}else(w){return this.block("else",w)}for(w,Q,Y=0){return this.block(`for (let i = ${Y}; ${w}; i++)`,Q)}forIn(w,Q){return this.block(`for (const k in ${w})`,Q)}block(w,Q,Y=""){return this.line(`${w} {`),this.indent(),Q(this),this.dedent(),this.line(`}${Y}`)}return(w=""){return this.line(`return ${w}`)}write(w="anonymous",Q=0){return`${w}(${this.argNames.join(", ")}) { ${Q?this.body.split(`
`).map((Y)=>" ".repeat(Q)+`${Y}`).join(`
`):this.body} }`}compile(){return new mL(...this.argNames,this.body)}}var u9=(w)=>L9(w,"object")||typeof w==="symbol"?z6(w):qY(w),QW=(w,Q=!1)=>{if(typeof w==="string"&&U8(w))return`${Q?"?":""}.${w}`;return WU(QS(w),Q)},QS=(w)=>typeof w==="symbol"?z6(w):JSON.stringify(w),WU=(w,Q=!1)=>`${Q?"?.":""}[${w}]`;class FY extends Nz{traversalKind;optimistic;constructor(w){super("data","ctx");this.traversalKind=w.kind,this.optimistic=w.optimistic===!0}invoke(w,Q){let Y=Q?.arg??this.data,z=typeof w==="string"?!0:this.requiresContextFor(w),H=typeof w==="string"?w:w.id;if(z)return`${this.referenceToId(H,Q)}(${Y}, ${this.ctx})`;return`${this.referenceToId(H,Q)}(${Y})`}referenceToId(w,Q){let Y=Q?.kind??this.traversalKind,z=`this.${w}${Y}`;return Q?.bind?`${z}.bind(${Q?.bind})`:z}requiresContextFor(w){return this.traversalKind==="Apply"||w.allowsRequiresContext}initializeErrorCount(){return this.const("errorCount","ctx.currentErrorCount")}returnIfFail(){return this.if("ctx.currentErrorCount > errorCount",()=>this.return())}returnIfFailFast(){return this.if("ctx.failFast && ctx.currentErrorCount > errorCount",()=>this.return())}traverseKey(w,Q,Y){let z=this.requiresContextFor(Y);if(z)this.line(`${this.ctx}.path.push(${w})`);if(this.check(Y,{arg:Q}),z)this.line(`${this.ctx}.path.pop()`);return this}check(w,Q){return this.traversalKind==="Allows"?this.if(`!${this.invoke(w,Q)}`,()=>this.return(!1)):this.line(this.invoke(w,Q))}}var Fz=(w)=>W0(w,(Q,Y)=>[Q,y0(Y)?[...Y]:Y]),s6=o9("arkKind"),u=(w,Q)=>w?.[s6]===Q,u0=(w)=>u(w,"root")||u(w,"constraint");var XU=["unit","proto","domain"],d4=["required","optional","index","sequence"],YW=["pattern","divisor","exactLength","max","min","maxLength","minLength","before","after"],zW=[...YW,"structure","predicate"],Kz=[...zW,...d4],i4=["alias","union","morph","unit","intersection","proto","domain"],YS=[...i4,...Kz],Bz=W0(Kz,(w,Q)=>[Q,1]),JU=W0([...d4,"undeclared"],(w,Q)=>[Q,1]),LU=W0(YS,(w,Q)=>[Q,w]),n4=(w)=>typeof w==="string"&&(w in LU);var s4=(w)=>LU[w],Az=(w)=>i4.slice(s4(w)+1),rc=[...Az("union"),"alias"],cc=[...Az("morph"),"alias"],f9=(w)=>{if(typeof w==="string"||typeof w==="boolean"||w===null)return w;if(typeof w==="number"){if(Number.isNaN(w))return"NaN";if(w===Number.POSITIVE_INFINITY)return"Infinity";if(w===Number.NEGATIVE_INFINITY)return"-Infinity";return w}return u9(w)},q8=(w)=>{let Q="{ ";for(let[Y,z]of Object.entries(w))Q+=`${Y}: ${u9(z)}, `;return Q+" }"},L0=(w)=>{let Q=w;if(Q.hasAssociatedError)Q.defaults.expected??=(Y)=>("description"in Y)?Y.description:Q.defaults.description(Y),Q.defaults.actual??=(Y)=>X0(Y),Q.defaults.problem??=(Y)=>`must be ${Y.expected}${Y.actual?` (was ${Y.actual})`:""}`,Q.defaults.message??=(Y)=>{if(Y.path.length===0)return Y.problem;let z=`${Y.propString} ${Y.problem}`;if(z[0]==="[")return`value at ${z}`;return z};return Q};class UU extends Error{name="ToJsonSchemaError";code;context;constructor(w,Q){super(X0(Q,{quoteKeys:!1,indent:4}));this.code=w,this.context=Q}hasCode(w){return this.code===w}}var zS={target:"draft-2020-12",dialect:"https://json-schema.org/draft/2020-12/schema",useRefs:!1,fallback:{arrayObject:(w)=>i0.throw("arrayObject",w),arrayPostfix:(w)=>i0.throw("arrayPostfix",w),defaultValue:(w)=>i0.throw("defaultValue",w),domain:(w)=>i0.throw("domain",w),morph:(w)=>i0.throw("morph",w),patternIntersection:(w)=>i0.throw("patternIntersection",w),predicate:(w)=>i0.throw("predicate",w),proto:(w)=>i0.throw("proto",w),symbolKey:(w)=>i0.throw("symbolKey",w),unit:(w)=>i0.throw("unit",w),date:(w)=>i0.throw("date",w)}},i0={Error:UU,throw:(...w)=>{throw new i0.Error(...w)},throwInternalOperandError:(w,Q)=>b0(`Unexpected JSON Schema input for ${w}: ${X0(Q)}`),defaultConfig:zS};S.config??={};var KY=(w,Q)=>{if(!Q)return w;let Y={...w},z;for(z in Q){let H={...w.keywords};if(z==="keywords"){for(let W in Q[z]){let X=Q.keywords[W];if(X===void 0)continue;H[W]=typeof X==="string"?{description:X}:X}Y.keywords=H}else if(z==="toJsonSchema")Y[z]=HW(w.toJsonSchema,Q.toJsonSchema);else if(n4(z))Y[z]={...w[z],...Q[z]};else Y[z]=Q[z]}return Y},HS={"draft-2020-12":"https://json-schema.org/draft/2020-12/schema","draft-07":"http://json-schema.org/draft-07/schema#"},HW=(w,Q)=>{if(!w)return qU(Q??{},void 0);if(!Q)return w;let Y={...w},z;for(z in Q)if(z==="fallback")Y.fallback=WS(w.fallback,Q.fallback);else Y[z]=Q[z];return qU(Y,Q)},qU=(w,Q)=>{if(Q?.dialect!==void 0)return w;if(Q?.target!==void 0)return{...w,dialect:HS[Q.target]};return w},WS=(w,Q)=>{w=OU(w),Q=OU(Q);let Y={},z;for(z in i0.defaultConfig.fallback)Y[z]=Q[z]??Q.default??w[z]??w.default??i0.defaultConfig.fallback[z];return Y},OU=(w)=>typeof w==="function"?{default:w}:w??{};class O8 extends HY{[s6]="error";path;data;nodeConfig;input;ctx;constructor({prefixPath:w,relativePath:Q,...Y},z){super();this.input=Y,this.ctx=z,kL(this,Y);let H=z.data;if(Y.code==="union")Y.errors=Y.errors.flatMap((X)=>{let L=X.hasCode("union")?X.errors:[X];if(!w&&!Q)return L;return L.map((U)=>U.transform((q)=>({...q,path:EL(w,q.path,Q)})))});this.nodeConfig=z.config[this.code];let W=[...Y.path??z.path];if(Q)W.push(...Q);if(w)W.unshift(...w);this.path=new ZY(...W),this.data="data"in Y?Y.data:H}transform(w){return new O8(w({data:this.data,path:this.path,...this.input}),this.ctx)}hasCode(w){return this.code===w}get propString(){return vw(this.path)}get expected(){if(this.input.expected)return this.input.expected;let w=this.meta?.expected??this.nodeConfig.expected;return typeof w==="function"?w(this.input):w}get actual(){if(this.input.actual)return this.input.actual;let w=this.meta?.actual??this.nodeConfig.actual;return typeof w==="function"?w(this.data):w}get problem(){if(this.input.problem)return this.input.problem;let w=this.meta?.problem??this.nodeConfig.problem;return typeof w==="function"?w(this):w}get message(){if(this.input.message)return this.input.message;let w=this.meta?.message??this.nodeConfig.message;return typeof w==="function"?w(this):w}get flat(){return this.hasCode("intersection")?[...this.errors]:[this]}toJSON(){return{data:this.data,path:this.path,...this.input,expected:this.expected,actual:this.actual,problem:this.problem,message:this.message}}toString(){return this.message}throw(){throw this}}class Z9 extends Lz{[s6]="errors";ctx;constructor(w){super();this.ctx=w}byPath=Object.create(null);get flatByPath(){return W0(this.byPath,(w,Q)=>[w,Q.flat])}get flatProblemsByPath(){return W0(this.byPath,(w,Q)=>[w,Q.flat.map((Y)=>Y.problem)])}byAncestorPath=Object.create(null);count=0;mutable=this;throw(){throw this.toTraversalError()}toTraversalError(){return new WW(this)}add(w){let Q=this.byPath[w.propString];if(Q){if(w===Q)return;if(Q.hasCode("union")&&Q.errors.length===0)return;let Y=w.hasCode("union")&&w.errors.length===0?w:new O8({code:"intersection",errors:Q.hasCode("intersection")?[...Q.errors,w]:[Q,w]},this.ctx),z=this.indexOf(Q);this.mutable[z===-1?this.length:z]=Y,this.byPath[w.propString]=Y,this.addAncestorPaths(w)}else this.byPath[w.propString]=w,this.addAncestorPaths(w),this.mutable.push(w);this.count++}transform(w){let Q=new Z9(this.ctx);for(let Y of this)Q.add(w(Y));return Q}merge(w){for(let Q of w)this.add(new O8({...Q,path:[...this.ctx.path,...Q.path]},this.ctx))}affectsPath(w){if(this.length===0)return!1;return w.stringifyAncestors().some((Q)=>(Q in this.byPath))||w.stringify()in this.byAncestorPath}get summary(){return this.toString()}get issues(){return this}toJSON(){return[...this.map((w)=>w.toJSON())]}toString(){return this.join(`
`)}addAncestorPaths(w){for(let Q of w.path.stringifyAncestors())this.byAncestorPath[Q]=D0(this.byAncestorPath[Q],w)}}class WW extends Error{name="TraversalError";constructor(w){if(w.length===1)super(w.summary);else super(`
`+w.map((Q)=>`  \u2022 ${XS(Q)}`).join(`
`));Object.defineProperty(this,"arkErrors",{value:w,enumerable:!1})}}var XS=(w)=>w.toString().split(`
`).join(`
  `);class p9{path=[];errors=new Z9(this);root;config;queuedMorphs=[];branches=[];seen={};constructor(w,Q){this.root=w,this.config=Q}get data(){let w=this.root;for(let Q of this.path)w=w?.[Q];return w}get propString(){return vw(this.path)}reject(w){return this.error(w),!1}mustBe(w){return this.error(w),!1}error(w){let Q=typeof w==="object"?w.code?w:{...w,code:"predicate"}:{code:"predicate",expected:w};return this.errorFromContext(Q)}hasError(){return this.currentErrorCount!==0}get currentBranch(){return this.branches[this.branches.length-1]}queueMorphs(w){let Q={path:new ZY(...this.path),morphs:w};if(this.currentBranch)this.currentBranch.queuedMorphs.push(Q);else this.queuedMorphs.push(Q)}finalize(w){if(this.queuedMorphs.length){if(typeof this.root==="object"&&this.root!==null&&this.config.clone)this.root=this.config.clone(this.root);this.applyQueuedMorphs()}if(this.hasError())return w?w(this.errors):this.errors;return this.root}get currentErrorCount(){return this.currentBranch?this.currentBranch.error?1:0:this.errors.count}get failFast(){return this.branches.length!==0}pushBranch(){this.branches.push({error:void 0,queuedMorphs:[]})}popBranch(){return this.branches.pop()}get external(){return this}errorFromNodeContext(w){return this.errorFromContext(w)}errorFromContext(w){let Q=new O8(w,this);if(this.currentBranch)this.currentBranch.error=Q;else this.errors.add(Q);return Q}applyQueuedMorphs(){while(this.queuedMorphs.length){let w=this.queuedMorphs;this.queuedMorphs=[];for(let{path:Q,morphs:Y}of w){if(this.errors.affectsPath(Q))continue;this.applyMorphsAtPath(Q,Y)}}}applyMorphsAtPath(w,Q){let Y=w[w.length-1],z;if(Y!==void 0){z=this.root;for(let H=0;H<w.length-1;H++)z=z[w[H]]}for(let H of Q){this.path=[...w];let W=u0(H),X=H(z===void 0?this.root:z[Y],this);if(X instanceof O8){if(!this.errors.includes(X))this.errors.add(X);break}if(X instanceof Z9){if(!W)this.errors.merge(X);this.queuedMorphs=[];break}if(z===void 0)this.root=X;else z[Y]=X;this.applyQueuedMorphs()}}}var N9=(w,Q,Y)=>{if(!Y)return Q();Y.path.push(w);let z=Q();return Y.path.pop(),z};class AY extends O9{attachments;$;onFail;includesTransform;includesContextualPredicate;isCyclic;allowsRequiresContext;rootApplyStrategy;contextFreeMorph;rootApply;referencesById;shallowReferences;flatRefs;flatMorphs;allows;get shallowMorphs(){return[]}constructor(w,Q){super((z,H,W=this.onFail)=>{if(H)return this.traverseApply(z,H),H.hasError()?H.errors:H.data;return this.rootApply(z,W)},{attach:w});this.attachments=w,this.$=Q,this.onFail=this.meta.onFail??this.$.resolvedConfig.onFail,this.includesTransform=this.hasKind("morph")||this.hasKind("structure")&&this.structuralMorph!==void 0||this.hasKind("sequence")&&this.inner.defaultables!==void 0,this.includesContextualPredicate=this.hasKind("predicate")&&this.inner.predicate.length!==1,this.isCyclic=this.kind==="alias",this.referencesById={[this.id]:this},this.shallowReferences=this.hasKind("structure")?[this,...this.children]:this.children.reduce((z,H)=>qS(z,H.shallowReferences),[this]);let Y=this.isStructural();this.flatRefs=[],this.flatMorphs=[];for(let z=0;z<this.children.length;z++){if(this.includesTransform||=this.children[z].includesTransform,this.includesContextualPredicate||=this.children[z].includesContextualPredicate,this.isCyclic||=this.children[z].isCyclic,!Y){let H=this.children[z].flatRefs;for(let W=0;W<H.length;W++){let X=H[W];if(!this.flatRefs.some((L)=>NU(L,X))){this.flatRefs.push(X);for(let L of X.node.branches)if(L.hasKind("morph")||L.hasKind("intersection")&&L.structure?.structuralMorph!==void 0)this.flatMorphs.push({path:X.path,propString:X.propString,node:L})}}}Object.assign(this.referencesById,this.children[z].referencesById)}this.flatRefs.sort((z,H)=>z.path.length>H.path.length?1:z.path.length<H.path.length?-1:z.propString>H.propString?1:z.propString<H.propString?-1:z.node.expression<H.node.expression?-1:1),this.allowsRequiresContext=this.includesContextualPredicate||this.isCyclic,this.rootApplyStrategy=!this.allowsRequiresContext&&this.flatMorphs.length===0?this.shallowMorphs.length===0?"allows":this.shallowMorphs.every((z)=>z.length===1||z.name==="$arkStructuralMorph")?this.hasKind("union")?this.branches.some((z)=>z.shallowMorphs.length>1)?"contextual":"branchedOptimistic":this.shallowMorphs.length>1?"contextual":"optimistic":"contextual":"contextual",this.rootApply=this.createRootApply(),this.allows=this.allowsRequiresContext?(z)=>this.traverseAllows(z,new p9(z,this.$.resolvedConfig)):(z)=>this.traverseAllows(z)}createRootApply(){switch(this.rootApplyStrategy){case"allows":return(Q,Y)=>{if(this.allows(Q))return Q;let z=new p9(Q,this.$.resolvedConfig);return this.traverseApply(Q,z),z.finalize(Y)};case"contextual":return(Q,Y)=>{let z=new p9(Q,this.$.resolvedConfig);return this.traverseApply(Q,z),z.finalize(Y)};case"optimistic":this.contextFreeMorph=this.shallowMorphs[0];let w=this.$.resolvedConfig.clone;return(Q,Y)=>{if(this.allows(Q))return this.contextFreeMorph(w&&(typeof Q==="object"&&Q!==null||typeof Q==="function")?w(Q):Q);let z=new p9(Q,this.$.resolvedConfig);return this.traverseApply(Q,z),z.finalize(Y)};case"branchedOptimistic":return this.createBranchedOptimisticRootApply();default:return this.rootApplyStrategy,b0(`Unexpected rootApplyStrategy ${this.rootApplyStrategy}`)}}compiledMeta=US(this.metaJson);cacheGetter(w,Q){return Object.defineProperty(this,w,{value:Q}),Q}get description(){return this.cacheGetter("description",this.meta?.description??this.$.resolvedConfig[this.kind].description(this))}get references(){return Object.values(this.referencesById)}precedence=s4(this.kind);precompilation;assert=(w,Q)=>this(w,Q,(Y)=>Y.throw());traverse(w,Q){return this(w,Q,null)}get in(){return this.cacheGetter("in",this.rawIn.isRoot()?this.$.finalize(this.rawIn):this.rawIn)}get rawIn(){return this.cacheGetter("rawIn",this.getIo("in"))}get out(){return this.cacheGetter("out",this.rawOut.isRoot()?this.$.finalize(this.rawOut):this.rawOut)}get rawOut(){return this.cacheGetter("rawOut",this.getIo("out"))}getIo(w){if(!this.includesTransform)return this;let Q={};for(let[Y,z]of this.innerEntries){let H=this.impl.keys[Y];if(H.reduceIo)H.reduceIo(w,Q,z);else if(H.child){let W=z;Q[Y]=y0(W)?W.map((X)=>w==="in"?X.rawIn:X.rawOut):w==="in"?W.rawIn:W.rawOut}else Q[Y]=z}return this.$.node(this.kind,Q)}toJSON(){return this.json}toString(){return`Type<${this.expression}>`}equals(w){let Q=u0(w)?w:this.$.parseDefinition(w);return this.innerHash===Q.innerHash}ifEquals(w){return this.equals(w)?this:void 0}hasKind(w){return this.kind===w}assertHasKind(w){if(this.kind!==w)e8(`${this.kind} node was not of asserted kind ${w}`);return this}hasKindIn(...w){return w.includes(this.kind)}assertHasKindIn(...w){if(!g9(w,this.kind))e8(`${this.kind} node was not one of asserted kinds ${w}`);return this}isBasis(){return g9(XU,this.kind)}isConstraint(){return g9(Kz,this.kind)}isStructural(){return g9(d4,this.kind)}isRefinement(){return g9(zW,this.kind)}isRoot(){return g9(i4,this.kind)}isUnknown(){return this.hasKind("intersection")&&this.children.length===0}isNever(){return this.hasKind("union")&&this.children.length===0}hasUnit(w){return this.hasKind("unit")&&this.allows(w)}hasOpenIntersection(){return this.impl.intersectionIsOpen}get nestableExpression(){return this.expression}select(w){let Q=BY.normalize(w);return this._select(Q)}_select(w){let Q=BY.applyBoundary[w.boundary??"references"](this);if(w.kind)Q=Q.filter((Y)=>Y.kind===w.kind);if(w.where)Q=Q.filter(w.where);return BY.applyMethod[w.method??"filter"](Q,this,w)}transform(w,Q){return this._transform(w,this._createTransformContext(Q))}_createTransformContext(w){return{root:this,selected:void 0,seen:{},path:[],parseOptions:{prereduced:w?.prereduced??!1},undeclaredKeyHandling:void 0,...w}}_transform(w,Q){let Y=Q.bindScope??this.$;if(Q.seen[this.id])return this.$.lazilyResolve(Q.seen[this.id]);if(Q.shouldTransform?.(this,Q)===!1)return this;let z;if(Q.seen[this.id]=()=>z,this.hasKind("structure")&&this.undeclared!==Q.undeclaredKeyHandling)Q={...Q,undeclaredKeyHandling:this.undeclared};let H=W0(this.inner,(q,Z)=>{if(!this.impl.keys[q].child)return[q,Z];let K=Z;if(!y0(K)){let A=K._transform(w,Q);return A?[q,A]:[]}if(K.length===0)return[q,Z];let B=K.flatMap((A)=>{return A._transform(w,Q)??[]});return B.length?[q,B]:[]});delete Q.seen[this.id];let W=Object.assign(H,{meta:this.meta}),X=Q.selected&&!Q.selected.includes(this)?W:w(this.kind,W,Q);if(X===null)return null;if(u0(X))return z=X;let L=Object.keys(X);if((L.length===0||L.length===1&&L[0]==="meta")&&!Lw(this.inner))return null;if((this.kind==="required"||this.kind==="optional"||this.kind==="index")&&!("value"in X))return Q.undeclaredKeyHandling?{...X,value:S.intrinsic.unknown}:null;if(this.kind==="morph")X.in??=S.intrinsic.unknown;return z=Y.node(this.kind,X,Q.parseOptions)}configureReferences(w,Q="references"){let Y=BY.normalize(Q),z=typeof w==="string"?(L,U)=>({...U,meta:{...U.meta,description:w}}):typeof w==="function"?(L,U)=>({...U,meta:w(U.meta)}):(L,U)=>({...U,meta:{...U.meta,...w}});if(Y.boundary==="self")return this.$.node(this.kind,z(this.kind,{...this.inner,meta:this.meta}));let H=this._select(Y),W=H&&X8(H),X=Y.boundary==="child"?(L,U)=>U.root.children.includes(L):Y.boundary==="shallow"?(L)=>L.kind!=="structure":()=>!0;return this.$.finalize(this.transform(z,{shouldTransform:X,selected:W}))}}var BY={applyBoundary:{self:(w)=>[w],child:(w)=>[...w.children],shallow:(w)=>[...w.shallowReferences],references:(w)=>[...w.references]},applyMethod:{filter:(w)=>w,assertFilter:(w,Q,Y)=>{if(w.length===0)e8(ZU(Q,Y));return w},find:(w)=>w[0],assertFind:(w,Q,Y)=>{if(w.length===0)e8(ZU(Q,Y));return w[0]}},normalize:(w)=>typeof w==="function"?{boundary:"references",method:"filter",where:w}:typeof w==="string"?$6(w,BY.applyBoundary)?{method:"filter",boundary:w}:{boundary:"references",method:"filter",kind:w}:{boundary:"references",method:"filter",...w}},ZU=(w,Q)=>`${w} had no references matching ${X0(Q)}.`,JS=(w)=>vw(w,{stringifyNonKey:(Q)=>Q.expression}),LS=/"(\$ark\.[^"]+)"/g,US=(w)=>JSON.stringify(w).replace(LS,"$1"),l9=(w,Q)=>({path:w,node:Q,propString:JS(w)}),NU=(w,Q)=>w.propString===Q.propString&&w.node.equals(Q.node),XW=(w,Q)=>Jw(w,Q,{isEqual:NU}),qS=(w,Q)=>Jw(w,Q,{isEqual:(Y,z)=>Y.equals(z)});class g extends Array{static init(w,Q,Y,z){return new g({kind:w,l:Q,r:Y,path:z?.path??[],optional:z?.optional??!1})}add(w,Q,Y,z){return this.push({kind:w,l:Q,r:Y,path:z?.path??[],optional:z?.optional??!1}),this}get summary(){return this.describeReasons()}describeReasons(){if(this.length===1){let{path:w,l:Q,r:Y}=this[0],z=vw(w);return LW(`Intersection${z&&` at ${z}`} of ${FU(Q,Y)}`)}return`The following intersections result in unsatisfiable types:
\u2022 ${this.map(({path:w,l:Q,r:Y})=>`${w}: ${FU(Q,Y)}`).join(`
\u2022 `)}`}throw(){return V(this.describeReasons())}invert(){let w=this.map((Q)=>({...Q,l:Q.r,r:Q.l}));if(!(w instanceof g))return new g(...w);return w}withPrefixKey(w,Q){return this.map((Y)=>({...Y,path:[w,...Y.path],optional:Y.optional||Q==="optional"}))}toNeverIfDisjoint(){return S.intrinsic.never}}var FU=(w,Q)=>`${JW(w)} and ${JW(Q)}`,JW=(w)=>u0(w)?w.expression:y0(w)?w.map(JW).join(" | ")||"never":String(w),LW=(w)=>`${w} results in an unsatisfiable type`;var a4={},F9=(w,Q,Y)=>p0(w,Q,{$:Y,invert:!1,pipe:!1}),MY=(w,Q,Y)=>p0(w,Q,{$:Y,invert:!1,pipe:!0}),p0=(w,Q,Y)=>{let z=Y.pipe?"|>":"&",H=`${w.hash}${z}${Q.hash}`;if(a4[H]!==void 0)return a4[H];if(!Y.pipe){let L=`${Q.hash}${z}${w.hash}`;if(a4[L]!==void 0){let U=a4[L],q=U instanceof g?U.invert():U;return a4[H]=q,q}}let W=!Y.pipe||!w.includesTransform&&!Q.includesTransform;if(W&&w.equals(Q))return w;let X=W?UW(w,Q,Y):w.hasKindIn(...i4)?OS(w,Q,Y):UW(w,Q,Y);if(u0(X)){if(w.equals(X))X=w;else if(Q.equals(X))X=Q}return a4[H]=X,X},UW=(w,Q,Y)=>{let z=w.precedence<Q.precedence?w.kind:Q.kind,H=w.impl.intersections[Q.kind]??Q.impl.intersections[w.kind];if(H===void 0)return null;else if(z===w.kind)return H(w,Q,Y);else{let W=H(Q,w,{...Y,invert:!Y.invert});if(W instanceof g)W=W.invert();return W}},OS=(w,Q,Y)=>w.includesTransform||Q.includesTransform?Y.invert?KU(Q,w,Y):KU(w,Q,Y):UW(w,Q,Y),KU=(w,Q,Y)=>w.distribute((z)=>ZS(z,Q,Y),(z)=>{let H=z.filter(u0);if(H.length===0)return g.init("union",w.branches,Q.branches);if(H.length<w.branches.length||!w.branches.every((L,U)=>L.rawIn.equals(H[U].rawIn)))return Y.$.parseSchema(H);let W;if(H.length===1){let L=H[0];if(!W)return L;return Y.$.node("morph",{...L.inner,in:L.rawIn.configure(W,"self")})}let X={branches:H};if(W)X.meta=W;return Y.$.parseSchema(X)}),ZS=(w,Q,Y)=>{if(w.hasKind("morph")){let H=[...w.morphs];if(w.lastMorphIfNode){let W=p0(w.lastMorphIfNode,Q,Y);if(W instanceof g)return W;H[H.length-1]=W}else H.push(Q);return Y.$.node("morph",{morphs:H,in:w.inner.in})}if(Q.hasKind("morph")){let H=p0(w,Q.rawIn,Y);if(H instanceof g)return H;return Y.$.node("morph",{morphs:[Q],in:H})}return Y.$.node("morph",{morphs:[Q],in:w})};class x9 extends AY{constructor(w,Q){super(w,Q);Object.defineProperty(this,s6,{value:"constraint",enumerable:!1})}impliedSiblings;intersect(w){return F9(this,w,this.$)}}class yw extends x9{traverseApply=(w,Q)=>{if(!this.traverseAllows(w,Q))Q.errorFromNodeContext(this.errorContext)};compile(w){if(w.traversalKind==="Allows")w.return(this.compiledCondition);else w.if(this.compiledNegation,()=>w.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`))}get errorContext(){return{code:this.kind,description:this.description,meta:this.meta,...this.inner}}get compiledErrorContext(){return q8(this.errorContext)}}var h6=(w)=>(Q,Y)=>{if(y0(Q)){if(Q.length===0)return;let H=Q.map((W)=>Y.$.node(w,W));if(w==="predicate")return H;return H.sort((W,X)=>W.hash<X.hash?-1:1)}let z=Y.$.node(w,Q);return z.hasOpenIntersection()?[z]:z},t4=(w)=>{let Q=w.r.shift();if(!Q){let z=w.l.length===0&&w.kind==="structure"?S.intrinsic.unknown.internal:w.ctx.$.node(w.kind,Object.assign(w.baseInner,NS(w.l)),{prereduced:!0});for(let H of w.roots){if(z instanceof g)return z;z=p0(H,z,w.ctx)}return z}let Y=!1;for(let z=0;z<w.l.length;z++){let H=p0(w.l[z],Q,w.ctx);if(H===null)continue;if(H instanceof g)return H;if(H.isRoot())return w.roots.push(H),w.l.splice(z),t4(w);if(!Y)w.l[z]=H,Y=!0;else if(!w.l.includes(H))return b0(`Unexpectedly encountered multiple distinct intersection results for refinement ${Q}`)}if(!Y)w.l.push(Q);if(w.kind==="intersection"){if(Q.impliedSiblings)for(let z of Q.impliedSiblings)Jw(w.r,z)}return t4(w)},e4=(w)=>{return Object.entries(w).flatMap(([Y,z])=>(Y in Bz)?z:[]).sort((Y,z)=>Y.precedence<z.precedence?-1:Y.precedence>z.precedence?1:Y.kind==="predicate"&&z.kind==="predicate"?0:Y.hash<z.hash?-1:1)},NS=(w)=>{let Q={};for(let Y of w)if(Y.hasOpenIntersection())Q[Y.kind]=D0(Q[Y.kind],Y);else{if(Q[Y.kind])return b0(`Unexpected intersection of closed refinements of kind ${Y.kind}`);Q[Y.kind]=Y}return Q},BU=(...w)=>V(AU(...w)),AU=(w,Q,Y)=>{let z=Y.hasKind("morph")?"a morph":Y.isUnknown()?"unknown":Y.exclude(Q).defaultShortDescription;return`${pL(w)} operand must be ${Q.description} (was ${z})`};var MU=(w,Q,Y)=>new Z8(w,Q,Y,Y,null);class Mz extends O9{}class Z8 extends O9{[s6]="generic";paramDefs;bodyDef;$;arg$;baseInstantiation;hkt;description;constructor(w,Q,Y,z,H){super((...W)=>{let X=W0(this.names,(L,U)=>{let q=this.arg$.parse(W[L]);if(!q.extends(this.constraints[L]))V(FS(U,this.constraints[L].expression,q.expression));return[U,q]});if(this.defIsLazy()){let L=this.bodyDef(X);return this.$.parse(L)}return this.$.parse(Q,{args:X})});this.paramDefs=w,this.bodyDef=Q,this.$=Y,this.arg$=z,this.hkt=H,this.description=H?new H().description??`a generic type for ${H.constructor.name}`:"a generic type",this.baseInstantiation=this(...this.constraints)}defIsLazy(){return this.bodyDef instanceof Mz}cacheGetter(w,Q){return Object.defineProperty(this,w,{value:Q}),Q}get json(){return this.cacheGetter("json",{params:this.params.map((w)=>w[1].isUnknown()?w[0]:[w[0],w[1].json]),body:QU(this.bodyDef)})}get params(){return this.cacheGetter("params",this.paramDefs.map((w)=>typeof w==="string"?[w,S.intrinsic.unknown]:[w[0],this.$.parse(w[1])]))}get names(){return this.cacheGetter("names",this.params.map((w)=>w[0]))}get constraints(){return this.cacheGetter("constraints",this.params.map((w)=>w[1]))}get internal(){return this}get referencesById(){return this.baseInstantiation.internal.referencesById}get references(){return this.baseInstantiation.internal.references}}var FS=(w,Q,Y)=>`${w} must be assignable to ${Q} (was ${Y})`;var KS=L0({kind:"predicate",hasAssociatedError:!0,collapsibleKey:"predicate",keys:{predicate:{}},normalize:(w)=>typeof w==="function"?{predicate:w}:w,defaults:{description:(w)=>`valid according to ${w.predicate.name||"an anonymous predicate"}`},intersectionIsOpen:!0,intersections:{predicate:()=>null}});class TU extends x9{serializedPredicate=z6(this.predicate);compiledCondition=`${this.serializedPredicate}(data, ctx)`;compiledNegation=`!${this.compiledCondition}`;impliedBasis=null;expression=this.serializedPredicate;traverseAllows=this.predicate;errorContext={code:"predicate",description:this.description,meta:this.meta};compiledErrorContext=q8(this.errorContext);traverseApply=(w,Q)=>{let Y=Q.currentErrorCount;if(!this.predicate(w,Q.external)&&Q.currentErrorCount===Y)Q.errorFromNodeContext(this.errorContext)};compile(w){if(w.traversalKind==="Allows"){w.return(this.compiledCondition);return}w.initializeErrorCount(),w.if(`${this.compiledNegation} && ctx.currentErrorCount === errorCount`,()=>w.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`))}reduceJsonSchema(w,Q){return Q.fallback.predicate({code:"predicate",base:w,predicate:this.predicate})}}var qW={implementation:KS,Node:TU};var BS=L0({kind:"divisor",collapsibleKey:"rule",keys:{rule:{parse:(w)=>Number.isInteger(w)?w:V(AS(w))}},normalize:(w)=>typeof w==="number"?{rule:w}:w,hasAssociatedError:!0,defaults:{description:(w)=>w.rule===1?"an integer":w.rule===2?"even":`a multiple of ${w.rule}`},intersections:{divisor:(w,Q,Y)=>Y.$.node("divisor",{rule:Math.abs(w.rule*Q.rule/MS(w.rule,Q.rule))})},obviatesBasisDescription:!0});class RU extends yw{traverseAllows=(w)=>w%this.rule===0;compiledCondition=`data % ${this.rule} === 0`;compiledNegation=`data % ${this.rule} !== 0`;impliedBasis=S.intrinsic.number.internal;expression=`% ${this.rule}`;reduceJsonSchema(w){if(w.type="integer",this.rule===1)return w;return w.multipleOf=this.rule,w}}var OW={implementation:BS,Node:RU};var AS=(w)=>`divisor must be an integer (was ${w})`,MS=(w,Q)=>{let Y,z=w,H=Q;while(H!==0)Y=H,H=z%H,z=Y;return z};class P9 extends yw{boundOperandKind=DS[this.kind];compiledActual=this.boundOperandKind==="value"?"data":this.boundOperandKind==="length"?"data.length":"data.valueOf()";comparator=VS(this.kind,this.exclusive);numericLimit=this.rule.valueOf();expression=`${this.comparator} ${this.rule}`;compiledCondition=`${this.compiledActual} ${this.comparator} ${this.numericLimit}`;compiledNegation=`${this.compiledActual} ${TS[this.comparator]} ${this.numericLimit}`;stringLimit=this.boundOperandKind==="date"?GS(this.numericLimit):`${this.numericLimit}`;limitKind=this.comparator["0"]==="<"?"upper":"lower";isStricterThan(w){return(this.limitKind==="upper"?this.numericLimit<w.numericLimit:this.numericLimit>w.numericLimit)||this.numericLimit===w.numericLimit&&this.exclusive===!0&&!w.exclusive}overlapsRange(w){if(this.isStricterThan(w))return!1;if(this.numericLimit===w.numericLimit&&(this.exclusive||w.exclusive))return!1;return!0}overlapIsUnit(w){return this.numericLimit===w.numericLimit&&!this.exclusive&&!w.exclusive}}var TS={"<":">=","<=":">",">":"<=",">=":"<"},RS={min:"max",minLength:"maxLength",after:"before"},Tz={parse:(w)=>w||void 0},Rz=(w)=>(Q)=>{if(typeof Q==="number")return{rule:Q};let{exclusive:Y,...z}=Q;return Y?{...z,rule:w==="minLength"?z.rule+1:z.rule-1}:z},Cz=(w)=>(Q)=>{if(typeof Q==="number"||typeof Q==="string"||Q instanceof Date)return{rule:Q};let{exclusive:Y,...z}=Q;if(!Y)return z;let H=typeof z.rule==="number"?z.rule:typeof z.rule==="string"?new Date(z.rule).valueOf():z.rule.valueOf();return Y?{...z,rule:w==="after"?H+1:H-1}:z},Dz=(w)=>typeof w==="string"||typeof w==="number"?new Date(w):w,CS=(w,Q)=>`${w} bound must be a positive integer (was ${Q})`,wQ=(w)=>(Q)=>{if(!Number.isInteger(Q)||Q<0)V(CS(w,Q));return Q},DS={min:"value",max:"value",minLength:"length",maxLength:"length",after:"date",before:"date"},VS=(w,Q)=>`${$6(w,RS)?">":"<"}${Q?"":"="}`,GS=(w)=>typeof w==="string"?w:new Date(w).toLocaleString(),CU=(w)=>`Bounded expression ${w} must be exactly one of number, string, Array, or Date`;var $S=L0({kind:"after",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:Dz,serialize:(w)=>w.toISOString()}},normalize:Cz("after"),defaults:{description:(w)=>`${w.collapsibleLimitString} or later`,actual:H4},intersections:{after:(w,Q)=>w.isStricterThan(Q)?w:Q}});class DU extends P9{impliedBasis=S.intrinsic.Date.internal;collapsibleLimitString=H4(this.rule);traverseAllows=(w)=>w>=this.rule;reduceJsonSchema(w,Q){return Q.fallback.date({code:"date",base:w,after:this.rule})}}var ZW={implementation:$S,Node:DU};var PS=L0({kind:"before",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:Dz,serialize:(w)=>w.toISOString()}},normalize:Cz("before"),defaults:{description:(w)=>`${w.collapsibleLimitString} or earlier`,actual:H4},intersections:{before:(w,Q)=>w.isStricterThan(Q)?w:Q,after:(w,Q,Y)=>w.overlapsRange(Q)?w.overlapIsUnit(Q)?Y.$.node("unit",{unit:w.rule}):null:g.init("range",w,Q)}});class VU extends P9{collapsibleLimitString=H4(this.rule);traverseAllows=(w)=>w<=this.rule;impliedBasis=S.intrinsic.Date.internal;reduceJsonSchema(w,Q){return Q.fallback.date({code:"date",base:w,before:this.rule})}}var NW={implementation:PS,Node:VU};var ES=L0({kind:"exactLength",collapsibleKey:"rule",keys:{rule:{parse:wQ("exactLength")}},normalize:(w)=>typeof w==="number"?{rule:w}:w,hasAssociatedError:!0,defaults:{description:(w)=>`exactly length ${w.rule}`,actual:(w)=>`${w.length}`},intersections:{exactLength:(w,Q,Y)=>g.init("unit",Y.$.node("unit",{unit:w.rule}),Y.$.node("unit",{unit:Q.rule}),{path:["length"]}),minLength:(w,Q)=>w.rule>=Q.rule?w:g.init("range",w,Q),maxLength:(w,Q)=>w.rule<=Q.rule?w:g.init("range",w,Q)}});class GU extends yw{traverseAllows=(w)=>w.length===this.rule;compiledCondition=`data.length === ${this.rule}`;compiledNegation=`data.length !== ${this.rule}`;impliedBasis=S.intrinsic.lengthBoundable.internal;expression=`== ${this.rule}`;reduceJsonSchema(w){switch(w.type){case"string":return w.minLength=this.rule,w.maxLength=this.rule,w;case"array":return w.minItems=this.rule,w.maxItems=this.rule,w;default:return i0.throwInternalOperandError("exactLength",w)}}}var FW={implementation:ES,Node:GU};var SS=L0({kind:"max",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{},exclusive:Tz},normalize:(w)=>typeof w==="number"?{rule:w}:w,defaults:{description:(w)=>{if(w.rule===0)return w.exclusive?"negative":"non-positive";return`${w.exclusive?"less than":"at most"} ${w.rule}`}},intersections:{max:(w,Q)=>w.isStricterThan(Q)?w:Q,min:(w,Q,Y)=>w.overlapsRange(Q)?w.overlapIsUnit(Q)?Y.$.node("unit",{unit:w.rule}):null:g.init("range",w,Q)},obviatesBasisDescription:!0});class $U extends P9{impliedBasis=S.intrinsic.number.internal;traverseAllows=this.exclusive?(w)=>w<this.rule:(w)=>w<=this.rule;reduceJsonSchema(w){if(this.exclusive)w.exclusiveMaximum=this.rule;else w.maximum=this.rule;return w}}var KW={implementation:SS,Node:$U};var bS=L0({kind:"maxLength",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:wQ("maxLength")}},reduce:(w,Q)=>w.rule===0?Q.node("exactLength",w):void 0,normalize:Rz("maxLength"),defaults:{description:(w)=>`at most length ${w.rule}`,actual:(w)=>`${w.length}`},intersections:{maxLength:(w,Q)=>w.isStricterThan(Q)?w:Q,minLength:(w,Q,Y)=>w.overlapsRange(Q)?w.overlapIsUnit(Q)?Y.$.node("exactLength",{rule:w.rule}):null:g.init("range",w,Q)}});class PU extends P9{impliedBasis=S.intrinsic.lengthBoundable.internal;traverseAllows=(w)=>w.length<=this.rule;reduceJsonSchema(w){switch(w.type){case"string":return w.maxLength=this.rule,w;case"array":return w.maxItems=this.rule,w;default:return i0.throwInternalOperandError("maxLength",w)}}}var BW={implementation:bS,Node:PU};var IS=L0({kind:"min",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{},exclusive:Tz},normalize:(w)=>typeof w==="number"?{rule:w}:w,defaults:{description:(w)=>{if(w.rule===0)return w.exclusive?"positive":"non-negative";return`${w.exclusive?"more than":"at least"} ${w.rule}`}},intersections:{min:(w,Q)=>w.isStricterThan(Q)?w:Q},obviatesBasisDescription:!0});class EU extends P9{impliedBasis=S.intrinsic.number.internal;traverseAllows=this.exclusive?(w)=>w>this.rule:(w)=>w>=this.rule;reduceJsonSchema(w){if(this.exclusive)w.exclusiveMinimum=this.rule;else w.minimum=this.rule;return w}}var AW={implementation:IS,Node:EU};var _S=L0({kind:"minLength",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:wQ("minLength")}},reduce:(w)=>w.rule===0?S.intrinsic.unknown:void 0,normalize:Rz("minLength"),defaults:{description:(w)=>w.rule===1?"non-empty":`at least length ${w.rule}`,actual:(w)=>w.length===0?"":`${w.length}`},intersections:{minLength:(w,Q)=>w.isStricterThan(Q)?w:Q}});class SU extends P9{impliedBasis=S.intrinsic.lengthBoundable.internal;traverseAllows=(w)=>w.length>=this.rule;reduceJsonSchema(w){switch(w.type){case"string":return w.minLength=this.rule,w;case"array":return w.minItems=this.rule,w;default:return i0.throwInternalOperandError("minLength",w)}}}var MW={implementation:_S,Node:SU};var bU={min:AW.implementation,max:KW.implementation,minLength:MW.implementation,maxLength:BW.implementation,exactLength:FW.implementation,after:ZW.implementation,before:NW.implementation},IU={min:AW.Node,max:KW.Node,minLength:MW.Node,maxLength:BW.Node,exactLength:FW.Node,after:ZW.Node,before:NW.Node};var jS=L0({kind:"pattern",collapsibleKey:"rule",keys:{rule:{},flags:{}},normalize:(w)=>typeof w==="string"?{rule:w}:w instanceof RegExp?w.flags?{rule:w.source,flags:w.flags}:{rule:w.source}:w,obviatesBasisDescription:!0,obviatesBasisExpression:!0,hasAssociatedError:!0,intersectionIsOpen:!0,defaults:{description:(w)=>`matched by ${w.rule}`},intersections:{pattern:()=>null}});class _U extends yw{instance=new RegExp(this.rule,this.flags);expression=`${this.instance}`;traverseAllows=this.instance.test.bind(this.instance);compiledCondition=`${this.expression}.test(data)`;compiledNegation=`!${this.compiledCondition}`;impliedBasis=S.intrinsic.string.internal;reduceJsonSchema(w,Q){if(w.pattern)return Q.fallback.patternIntersection({code:"patternIntersection",base:w,pattern:this.rule});return w.pattern=this.rule,w}}var TW={implementation:jS,Node:_U};var TY=(w,Q)=>{let Y=kS(w);if(Q&&!Q.includes(Y))return V(`Root of kind ${Y} should be one of ${Q}`);return Y},kS=(w)=>{if(u(w,"root"))return w.kind;if(typeof w==="string")return w[0]==="$"?"alias":(w in U9)?"domain":"proto";if(typeof w==="function")return"proto";if(typeof w!=="object"||w===null)return V(jU(w));if("morphs"in w)return"morph";if("branches"in w||y0(w))return"union";if("unit"in w)return"unit";if("reference"in w)return"alias";let Q=Object.keys(w);if(Q.length===0||Q.some((Y)=>(Y in Bz)))return"intersection";if("proto"in w)return"proto";if("domain"in w)return"domain";return V(jU(w))},jU=(w)=>`${X0(w)} is not a valid type schema`,kU={},gS=(w)=>y0(w)?w.map((Q)=>Q.collapsibleJson):w.collapsibleJson,a6={};S.nodesByRegisteredId=a6;var RW=(w)=>{return kU[w]??=0,`${w}${++kU[w]}`},CW=(w)=>{let Q=QQ[w.kind],Y=Q.applyConfig?.(w.def,w.$.resolvedConfig)??w.def,z={},{meta:H,...W}=Y,X=H===void 0?{}:typeof H==="string"?{description:H}:H,L=lH(W).sort(([q],[Z])=>n4(q)?n4(Z)?s4(q)-s4(Z):1:n4(Z)?-1:q<Z?-1:1).filter(([q,Z])=>{if(q.startsWith("meta.")){let K=q.slice(5);return X[K]=Z,!1}return!0});for(let q of L){let Z=q[0],K=Q.keys[Z];if(!K)return V(`Key ${Z} is not valid on ${w.kind} schema`);let B=K.parse?K.parse(q[1],w):q[1];if(B!==q9&&(B!==void 0||K.preserveUndefined))z[Z]=B}if(Q.reduce&&!w.prereduced){let q=Q.reduce(z,w.$);if(q){if(q instanceof g)return q.throw();return fS(q,X)}}return DW({id:w.id,kind:w.kind,inner:z,meta:X,$:w.$})},DW=({id:w,kind:Q,inner:Y,meta:z,$:H,ignoreCache:W})=>{let X=QQ[Q],L=lH(Y),U=[],q={};for(let[G,E]of L){let R=X.keys[G],j=R.serialize??(R.child?gS:f9);if(q[G]=j(E),R.child===!0){let b=E;if(y0(b))U.push(...b);else U.push(b)}else if(typeof R.child==="function")U.push(...R.child(E))}if(X.finalizeInnerJson)q=X.finalizeInnerJson(q);let Z={...q},K={};if(!Lw(z))K=W0(z,(G,E)=>[G,G==="examples"?E:f9(E)]),Z.meta=Vz(K,"description",!0);q=Vz(q,X.collapsibleKey,!1);let B=JSON.stringify({kind:Q,...q});Z=Vz(Z,X.collapsibleKey,!1);let A=Vz(Z,X.collapsibleKey,!0),M=JSON.stringify({kind:Q,...Z});if(H.nodesByHash[M]&&!W)return H.nodesByHash[M];let T={id:w,kind:Q,impl:X,inner:Y,innerEntries:L,innerJson:q,innerHash:B,meta:z,metaJson:K,json:Z,hash:M,collapsibleJson:A,children:U};if(Q!=="intersection"){for(let G in Y)if(G!=="in"&&G!=="out")T[G]=Y[G]}let $=new fU[Q](T,H);return H.nodesByHash[M]=$},gU=(w,Q)=>{if(w.id===Q)return w;if(u0(a6[Q]))b0(`Unexpected attempt to overwrite node id ${Q}`);return DW({id:Q,kind:w.kind,inner:w.inner,meta:w.meta,$:w.$,ignoreCache:!0})},fS=(w,Q,Y)=>{if(Y&&u0(a6[Y]))b0(`Unexpected attempt to overwrite node id ${Y}`);return DW({id:Y??RW(Q.alias??w.kind),kind:w.kind,inner:w.inner,meta:Q,$:w.$})},Vz=(w,Q,Y)=>{let z=Object.keys(w);if(z.length===1&&z[0]===Q){let H=w[Q];if(Y)return H;if(L9(H,"object")&&(Object.keys(H).length===1||Array.isArray(H)))return H}return w};var RY=(w,Q,Y)=>{if(w.key!==Q.key)return null;let z=w.key,H=p0(w.value,Q.value,Y),W=w.required||Q.required?"required":"optional";if(H instanceof g)if(W==="optional")H=S.intrinsic.never.internal;else return H.withPrefixKey(w.key,w.required&&Q.required?"required":"optional");if(W==="required")return Y.$.node("required",{key:z,value:H});let X=w.hasDefault()?Q.hasDefault()?w.default===Q.default?w.default:V(VW(w.default,Q.default)):w.default:Q.hasDefault()?Q.default:q9;return Y.$.node("optional",{key:z,value:H,default:X})};class CY extends x9{required=this.kind==="required";optional=this.kind==="optional";impliedBasis=S.intrinsic.object.internal;serializedKey=u9(this.key);compiledKey=typeof this.key==="string"?this.key:this.serializedKey;flatRefs=D0(this.value.flatRefs.map((w)=>l9([this.key,...w.path],w.node)),l9([this.key],this.value));_transform(w,Q){Q.path.push(this.key);let Y=super._transform(w,Q);return Q.path.pop(),Y}hasDefault(){return"default"in this.inner}traverseAllows=(w,Q)=>{if(this.key in w)return N9(this.key,()=>this.value.traverseAllows(w[this.key],Q),Q);return this.optional};traverseApply=(w,Q)=>{if(this.key in w)N9(this.key,()=>this.value.traverseApply(w[this.key],Q),Q);else if(this.hasKind("required"))Q.errorFromNodeContext(this.errorContext)};compile(w){if(w.if(`${this.serializedKey} in data`,()=>w.traverseKey(this.serializedKey,`data${w.prop(this.key)}`,this.value)),this.hasKind("required"))w.else(()=>w.traversalKind==="Apply"?w.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`):w.return(!1));if(w.traversalKind==="Allows")w.return(!0)}}var VW=(w,Q)=>`Invalid intersection of default values ${X0(w)} & ${X0(Q)}`;var xS=L0({kind:"optional",hasAssociatedError:!1,intersectionIsOpen:!0,keys:{key:{},value:{child:!0,parse:(w,Q)=>Q.$.parseSchema(w)},default:{preserveUndefined:!0}},normalize:(w)=>w,reduce:(w,Q)=>{if(Q.resolvedConfig.exactOptionalPropertyTypes===!1){if(!w.value.allows(void 0))return Q.node("optional",{...w,value:w.value.or(i.undefined)},{prereduced:!0})}},defaults:{description:(w)=>`${w.compiledKey}?: ${w.value.description}`},intersections:{optional:RY}});class xU extends CY{constructor(...w){super(...w);if("default"in this.inner)VY(this.value,this.inner.default,this.key)}get rawIn(){let w=super.rawIn;if(!this.hasDefault())return w;return this.$.node("optional",Uz(w.inner,{default:!0}),{prereduced:!0})}get outProp(){if(!this.hasDefault())return this;let{default:w,...Q}=this.inner;return this.cacheGetter("outProp",this.$.node("required",Q,{prereduced:!0}))}expression=this.hasDefault()?`${this.compiledKey}: ${this.value.expression} = ${X0(this.inner.default)}`:`${this.compiledKey}?: ${this.value.expression}`;defaultValueMorph=yS(this);defaultValueMorphRef=this.defaultValueMorph&&z6(this.defaultValueMorph)}var DY={implementation:xS,Node:xU},vS={},yS=(w)=>{if(!w.hasDefault())return;let Q=`{${w.compiledKey}: ${w.value.id} = ${f9(w.default)}}`;return vS[Q]??=GW(w.key,w.value,w.default)},GW=(w,Q,Y)=>{if(typeof Y==="function")return Q.includesTransform?(H,W)=>{return N9(w,()=>Q(H[w]=Y(),W),W),H}:(H)=>{return H[w]=Y(),H};let z=Q.includesTransform?Q.assert(Y):Y;return L9(z,"object")?(H,W)=>{return N9(w,()=>Q(H[w]=Y,W),W),H}:(H)=>{return H[w]=z,H}},VY=(w,Q,Y)=>{let z=J8(Q);if(L9(Q,"object")&&!z)V(mS(Y));let H=w.in(z?Q():Q);if(H instanceof Z9){if(Y===null)V(`Default ${H.summary}`);let W=H.transform((X)=>X.transform((L)=>({...L,prefixPath:[Y]})));V(`Default for ${W.summary}`)}return Q},mS=(w)=>{return`Non-primitive default ${w===null?"":typeof w==="number"?`for value at [${w}] `:`for ${u9(w)} `}must be specified as a function like () => ({my: 'object'})`};class v9 extends AY{constructor(w,Q){super(w,Q);Object.defineProperty(this,s6,{value:"root",enumerable:!1})}get rawIn(){return super.rawIn}get rawOut(){return super.rawOut}get internal(){return this}get "~standard"(){return{vendor:"arktype",version:1,validate:(w)=>{let Q=this(w);if(Q instanceof Z9)return Q;return{value:Q}},jsonSchema:{input:(w)=>this.rawIn.toJsonSchema({target:vU(w.target),...w.libraryOptions}),output:(w)=>this.rawOut.toJsonSchema({target:vU(w.target),...w.libraryOptions})}}}as(){return this}brand(w){if(w==="")return V(hS);return this}readonly(){return this}branches=this.hasKind("union")?this.inner.branches:[this];distribute(w,Q){let Y=this.branches.map(w);return Q?.(Y)??Y}get shortDescription(){return this.meta.description??this.defaultShortDescription}toJsonSchema(w={}){let Q=HW(this.$.resolvedConfig.toJsonSchema,w);Q.useRefs||=this.isCyclic;let Y=typeof Q.dialect==="string"?{$schema:Q.dialect}:{};if(Object.assign(Y,this.toJsonSchemaRecurse(Q)),Q.useRefs){let z=W0(this.references,(H,W)=>W.isRoot()&&!W.alwaysExpandJsonSchema?[W.id,W.toResolvedJsonSchema(Q)]:[]);if(Q.target==="draft-07")Object.assign(Y,{definitions:z});else Y.$defs=z}return Y}toJsonSchemaRecurse(w){if(w.useRefs&&!this.alwaysExpandJsonSchema)return{$ref:`#/${w.target==="draft-07"?"definitions":"$defs"}/${this.id}`};return this.toResolvedJsonSchema(w)}get alwaysExpandJsonSchema(){return this.isBasis()||this.kind==="alias"||this.hasKind("union")&&this.isBoolean}toResolvedJsonSchema(w){let Q=this.innerToJsonSchema(w);return Object.assign(Q,this.metaJson)}intersect(w){let Q=this.$.parseDefinition(w),Y=this.rawIntersect(Q);if(Y instanceof g)return Y;return this.$.finalize(Y)}rawIntersect(w){return F9(this,w,this.$)}toNeverIfDisjoint(){return this}and(w){let Q=this.intersect(w);return Q instanceof g?Q.throw():Q}rawAnd(w){let Q=this.rawIntersect(w);return Q instanceof g?Q.throw():Q}or(w){let Q=this.$.parseDefinition(w);return this.$.finalize(this.rawOr(Q))}rawOr(w){let Q=[...this.branches,...w.branches];return this.$.node("union",Q)}map(w){return this.$.schema(this.applyStructuralOperation("map",[w]))}pick(...w){return this.$.schema(this.applyStructuralOperation("pick",w))}omit(...w){return this.$.schema(this.applyStructuralOperation("omit",w))}required(){return this.$.schema(this.applyStructuralOperation("required",[]))}partial(){return this.$.schema(this.applyStructuralOperation("partial",[]))}_keyof;keyof(){if(this._keyof)return this._keyof;let w=this.applyStructuralOperation("keyof",[]).reduce((Q,Y)=>Q.intersect(Y).toNeverIfDisjoint(),S.intrinsic.unknown.internal);if(w.branches.length===0)V(LW(`keyof ${this.expression}`));return this._keyof=this.$.finalize(w)}get props(){if(this.branches.length!==1)return V(uS(this.expression));return[...this.applyStructuralOperation("props",[])[0]]}merge(w){let Q=this.$.parseDefinition(w);return this.$.schema(Q.distribute((Y)=>this.applyStructuralOperation("merge",[yU(Y)??V(mU("merge",Y.expression))])))}applyStructuralOperation(w,Q){return this.distribute((Y)=>{if(Y.equals(S.intrinsic.object)&&w!=="merge")return Y;let z=yU(Y);if(!z)V(mU(w,Y.expression));if(w==="keyof")return z.keyof();if(w==="get")return z.get(...Q);if(w==="props")return z.props;let H=w==="required"?"require":w==="partial"?"optionalize":w;return this.$.node("intersection",{domain:"object",structure:z[H](...Q)})})}get(...w){if(w[0]===void 0)return this;return this.$.schema(this.applyStructuralOperation("get",w))}extract(w){let Q=this.$.parseDefinition(w);return this.$.schema(this.branches.filter((Y)=>Y.extends(Q)))}exclude(w){let Q=this.$.parseDefinition(w);return this.$.schema(this.branches.filter((Y)=>!Y.extends(Q)))}array(){return this.$.schema(this.isUnknown()?{proto:Array}:{proto:Array,sequence:this},{prereduced:!0})}overlaps(w){return!(this.intersect(w)instanceof g)}extends(w){if(this.isNever())return!0;let Q=this.intersect(w);return!(Q instanceof g)&&this.equals(Q)}ifExtends(w){return this.extends(w)?this:void 0}subsumes(w){return this.$.parseDefinition(w).extends(this)}configure(w,Q="shallow"){return this.configureReferences(w,Q)}describe(w,Q="shallow"){return this.configure({description:w},Q)}optional(){return[this,"?"]}default(w){return VY(this,w,null),[this,"=",w]}from(w){return this.assert(w)}_pipe(...w){let Q=w.reduce((Y,z)=>Y.rawPipeOnce(z),this);return this.$.finalize(Q)}tryPipe(...w){let Q=w.reduce((Y,z)=>Y.rawPipeOnce(u(z,"root")?z:(H,W)=>{try{return z(H,W)}catch(X){return W.error({code:"predicate",predicate:z,actual:`aborted due to error:
    ${X}
`})}}),this);return this.$.finalize(Q)}pipe=Object.assign(this._pipe.bind(this),{try:this.tryPipe.bind(this)});to(w){return this.$.finalize(this.toNode(this.$.parseDefinition(w)))}toNode(w){let Q=MY(this,w,this.$);if(Q instanceof g)return Q.throw();return Q}rawPipeOnce(w){if(u(w,"root"))return this.toNode(w);return this.distribute((Q)=>Q.hasKind("morph")?this.$.node("morph",{in:Q.inner.in,morphs:[...Q.morphs,w]}):this.$.node("morph",{in:Q,morphs:[w]}),this.$.parseSchema)}narrow(w){return this.constrainOut("predicate",w)}constrain(w,Q){return this._constrain("root",w,Q)}constrainIn(w,Q){return this._constrain("in",w,Q)}constrainOut(w,Q){return this._constrain("out",w,Q)}_constrain(w,Q,Y){let z=this.$.node(Q,Y);if(z.isRoot())return z.isUnknown()?this:b0(`Unexpected constraint node ${z}`);let H=w==="root"?this:w==="in"?this.rawIn:this.rawOut;if(H.hasKind("morph")||z.impliedBasis&&!H.extends(z.impliedBasis))return BU(Q,z.impliedBasis,this);let W=this.$.node("intersection",{[z.kind]:z}),X=w==="out"?MY(this,W,this.$):F9(this,W,this.$);if(X instanceof g)X.throw();return this.$.finalize(X)}onUndeclaredKey(w){let Q=typeof w==="string"?w:w.rule,Y=typeof w==="string"?!1:w.deep;return this.$.finalize(this.transform((z,H)=>z==="structure"?Q==="ignore"?Uz(H,{undeclared:1}):{...H,undeclared:Q}:H,Y?void 0:{shouldTransform:(z)=>!g9(d4,z.kind)}))}hasEqualMorphs(w){if(!this.includesTransform&&!w.includesTransform)return!0;if(!fw(this.shallowMorphs,w.shallowMorphs))return!1;if(!fw(this.flatMorphs,w.flatMorphs,{isEqual:(Q,Y)=>Q.propString===Y.propString&&(Q.node.hasKind("morph")&&Y.node.hasKind("morph")?Q.node.hasEqualMorphs(Y.node):Q.node.hasKind("intersection")&&Y.node.hasKind("intersection")?Q.node.structure?.structuralMorphRef===Y.node.structure?.structuralMorphRef:!1)}))return!1;return!0}onDeepUndeclaredKey(w){return this.onUndeclaredKey({rule:w,deep:!0})}filter(w){return this.constrainIn("predicate",w)}divisibleBy(w){return this.constrain("divisor",w)}matching(w){return this.constrain("pattern",w)}atLeast(w){return this.constrain("min",w)}atMost(w){return this.constrain("max",w)}moreThan(w){return this.constrain("min",YQ(w))}lessThan(w){return this.constrain("max",YQ(w))}atLeastLength(w){return this.constrain("minLength",w)}atMostLength(w){return this.constrain("maxLength",w)}moreThanLength(w){return this.constrain("minLength",YQ(w))}lessThanLength(w){return this.constrain("maxLength",YQ(w))}exactlyLength(w){return this.constrain("exactLength",w)}atOrAfter(w){return this.constrain("after",w)}atOrBefore(w){return this.constrain("before",w)}laterThan(w){return this.constrain("after",YQ(w))}earlierThan(w){return this.constrain("before",YQ(w))}}var hS="Expected a non-empty brand name after #",hU=["draft-2020-12","draft-07"],oS=(w)=>`JSONSchema target '${w}' is not supported (must be ${hU.map((Q)=>`"${Q}"`).join(" or ")})`,vU=(w)=>{if(!g9(hU,w))V(oS(w));return w},YQ=(w)=>typeof w==="object"&&!(w instanceof Date)?{...w,exclusive:!0}:{rule:w,exclusive:!0},GY=(w,Q)=>u(Q,"root")?u(w,"root")?w.extends(Q):Q.allows(w):u(w,"root")?w.hasUnit(Q):Q===w,yU=(w)=>{if(w.hasKind("morph"))return null;if(w.hasKind("intersection"))return w.inner.structure??(w.basis?.domain==="object"?w.$.bindReference(S.intrinsic.emptyStructure):null);if(w.isBasis()&&w.domain==="object")return w.$.bindReference(S.intrinsic.emptyStructure);return null},uS=(w)=>`Props cannot be extracted from a union. Use .distribute to extract props from each branch instead. Received:
${w}`,mU=(w,Q)=>`${w} operand must be an object (was ${Q})`;var Uw=(w,Q)=>W0(Az(w),(Y,z)=>[z,Q]);var pS=(w)=>typeof w==="string"?{reference:w}:w,oU=(w)=>w instanceof g?S.intrinsic.never.internal:w,lS=L0({kind:"alias",hasAssociatedError:!1,collapsibleKey:"reference",keys:{reference:{serialize:(w)=>w.startsWith("$")?w:`$ark.${w}`},resolve:{}},normalize:pS,defaults:{description:(w)=>w.reference},intersections:{alias:(w,Q,Y)=>Y.$.lazilyResolve(()=>oU(p0(w.resolution,Q.resolution,Y)),`${w.reference}${Y.pipe?"=>":"&"}${Q.reference}`),...Uw("alias",(w,Q,Y)=>{if(Q.isUnknown())return w;if(Q.isNever())return Q;if(Q.isBasis()&&!Q.overlaps(S.intrinsic.object))return g.init("assignability",S.intrinsic.object,Q);return Y.$.lazilyResolve(()=>oU(p0(w.resolution,Q,Y)),`${w.reference}${Y.pipe?"=>":"&"}${Q.id}`)})}});class uU extends v9{expression=this.reference;structure=void 0;get resolution(){let w=this._resolve();return a6[this.id]=w}_resolve(){if(this.resolve)return this.resolve();if(this.reference[0]==="$")return this.$.resolveRoot(this.reference.slice(1));let w=this.reference,Q=a6[w],Y=[];while(u(Q,"context")){if(Y.includes(Q.id))return V(rS(Q.id,Y));Y.push(Q.id),Q=a6[Q.id]}if(!u(Q,"root"))return b0(`Unexpected resolution for reference ${this.reference}
Seen: [${Y.join("->")}] 
Resolution: ${X0(Q)}`);return Q}get resolutionId(){if(this.reference.includes("&")||this.reference.includes("=>"))return this.resolution.id;if(this.reference[0]!=="$")return this.reference;let w=this.reference.slice(1),Q=this.$.resolutions[w];if(typeof Q==="string")return Q;if(u(Q,"root"))return Q.id;return b0(`Unexpected resolution for reference ${this.reference}: ${X0(Q)}`)}get defaultShortDescription(){return U9.object}innerToJsonSchema(w){return this.resolution.toJsonSchemaRecurse(w)}traverseAllows=(w,Q)=>{let Y=Q.seen[this.reference];if(Y?.includes(w))return!0;return Q.seen[this.reference]=D0(Y,w),this.resolution.traverseAllows(w,Q)};traverseApply=(w,Q)=>{let Y=Q.seen[this.reference];if(Y?.includes(w))return;Q.seen[this.reference]=D0(Y,w),this.resolution.traverseApply(w,Q)};compile(w){let Q=this.resolutionId;w.if(`ctx.seen.${Q} && ctx.seen.${Q}.includes(data)`,()=>w.return(!0)),w.if(`!ctx.seen.${Q}`,()=>w.line(`ctx.seen.${Q} = []`)),w.line(`ctx.seen.${Q}.push(data)`),w.return(w.invoke(Q))}}var rS=(w,Q)=>`Alias '${w}' has a shallow resolution cycle: ${[...Q,w].join("->")}`,$Y={implementation:lS,Node:uU};class W4 extends v9{traverseApply=(w,Q)=>{if(!this.traverseAllows(w,Q))Q.errorFromNodeContext(this.errorContext)};get errorContext(){return{code:this.kind,description:this.description,meta:this.meta,...this.inner}}get compiledErrorContext(){return q8(this.errorContext)}compile(w){if(w.traversalKind==="Allows")w.return(this.compiledCondition);else w.if(this.compiledNegation,()=>w.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`))}}var cS=L0({kind:"domain",hasAssociatedError:!0,collapsibleKey:"domain",keys:{domain:{},numberAllowsNaN:{}},normalize:(w)=>typeof w==="string"?{domain:w}:r4(w,"numberAllowsNaN")&&w.domain!=="number"?V(Gz.writeBadAllowNanMessage(w.domain)):w,applyConfig:(w,Q)=>w.numberAllowsNaN===void 0&&w.domain==="number"&&Q.numberAllowsNaN?{...w,numberAllowsNaN:!0}:w,defaults:{description:(w)=>U9[w.domain],actual:(w)=>Number.isNaN(w)?"NaN":U9[G6(w)]},intersections:{domain:(w,Q)=>w.domain==="number"&&Q.domain==="number"?w.numberAllowsNaN?Q:w:g.init("domain",w,Q)}});class pU extends W4{requiresNaNCheck=this.domain==="number"&&!this.numberAllowsNaN;traverseAllows=this.requiresNaNCheck?(w)=>typeof w==="number"&&!Number.isNaN(w):(w)=>G6(w)===this.domain;compiledCondition=this.domain==="object"?'((typeof data === "object" && data !== null) || typeof data === "function")':`typeof data === "${this.domain}"${this.requiresNaNCheck?" && !Number.isNaN(data)":""}`;compiledNegation=this.domain==="object"?'((typeof data !== "object" || data === null) && typeof data !== "function")':`typeof data !== "${this.domain}"${this.requiresNaNCheck?" || Number.isNaN(data)":""}`;expression=this.numberAllowsNaN?"number | NaN":this.domain;get nestableExpression(){return this.numberAllowsNaN?`(${this.expression})`:this.expression}get defaultShortDescription(){return U9[this.domain]}innerToJsonSchema(w){if(this.domain==="bigint"||this.domain==="symbol")return w.fallback.domain({code:"domain",base:{},domain:this.domain});return{type:this.domain}}}var Gz={implementation:cS,Node:pU,writeBadAllowNanMessage:(w)=>`numberAllowsNaN may only be specified with domain "number" (was ${w})`};var dS=L0({kind:"intersection",hasAssociatedError:!0,normalize:(w)=>{if(u0(w))return w;let{structure:Q,...Y}=w,z=!!Q,H=Q??{},W=W0(Y,(X,L)=>{if($6(X,JU)){if(z)V(`Flattened structure key ${X} cannot be specified alongside a root 'structure' key.`);return H[X]=L,[]}return[X,L]});if(u(H,"constraint")||!Lw(H))W.structure=H;return W},finalizeInnerJson:({structure:w,...Q})=>L9(w,"object")?{...w,...Q}:Q,keys:{domain:{child:!0,parse:(w,Q)=>Q.$.node("domain",w)},proto:{child:!0,parse:(w,Q)=>Q.$.node("proto",w)},structure:{child:!0,parse:(w,Q)=>Q.$.node("structure",w),serialize:(w)=>{if(!w.sequence?.minLength)return w.collapsibleJson;let{sequence:Q,...Y}=w.collapsibleJson,{minVariadicLength:z,...H}=Q,W=H.variadic&&Object.keys(H).length===1?H.variadic:H;return{...Y,sequence:W}}},divisor:{child:!0,parse:h6("divisor")},max:{child:!0,parse:h6("max")},min:{child:!0,parse:h6("min")},maxLength:{child:!0,parse:h6("maxLength")},minLength:{child:!0,parse:h6("minLength")},exactLength:{child:!0,parse:h6("exactLength")},before:{child:!0,parse:h6("before")},after:{child:!0,parse:h6("after")},pattern:{child:!0,parse:h6("pattern")},predicate:{child:!0,parse:h6("predicate")}},reduce:(w,Q)=>lU({},w,{$:Q,invert:!1,pipe:!1}),defaults:{description:(w)=>{if(w.children.length===0)return"unknown";if(w.structure)return w.structure.description;let Q=[];if(w.basis&&!w.prestructurals.some((Y)=>Y.impl.obviatesBasisDescription))Q.push(w.basis.description);if(w.prestructurals.length){let Y=w.prestructurals.slice().sort((z,H)=>z.kind==="min"&&H.kind==="max"?-1:0).map((z)=>z.description);Q.push(...Y)}if(w.inner.predicate)Q.push(...w.inner.predicate.map((Y)=>Y.description));return Q.join(" and ")},expected:(w)=>`  \u25E6 ${w.errors.map((Q)=>Q.expected).join(`
  \u25E6 `)}`,problem:(w)=>`(${w.actual}) must be...
${w.expected}`},intersections:{intersection:(w,Q,Y)=>lU(w.inner,Q.inner,Y),...Uw("intersection",(w,Q,Y)=>{if(w.children.length===0)return Q;let{domain:z,proto:H,...W}=w.inner,X=H??z,L=X?p0(X,Q,Y):Q;return L instanceof g?L:w?.basis?.equals(L)?w:w.$.node("intersection",{...W,[L.kind]:L},{prereduced:!0})})}});class rU extends v9{basis=this.inner.domain??this.inner.proto??null;prestructurals=[];refinements=this.children.filter((w)=>{if(!w.isRefinement())return!1;if(g9(YW,w.kind))this.prestructurals.push(w);return!0});structure=this.inner.structure;expression=iS(this);get shallowMorphs(){return this.inner.structure?.structuralMorph?[this.inner.structure.structuralMorph]:[]}get defaultShortDescription(){return this.basis?.defaultShortDescription??"present"}innerToJsonSchema(w){return this.children.reduce((Q,Y)=>Y.isBasis()?Y.toJsonSchemaRecurse(w):Y.reduceJsonSchema(Q,w),{})}traverseAllows=(w,Q)=>this.children.every((Y)=>Y.traverseAllows(w,Q));traverseApply=(w,Q)=>{let Y=Q.currentErrorCount;if(this.basis){if(this.basis.traverseApply(w,Q),Q.currentErrorCount>Y)return}if(this.prestructurals.length){for(let z=0;z<this.prestructurals.length-1;z++)if(this.prestructurals[z].traverseApply(w,Q),Q.failFast&&Q.currentErrorCount>Y)return;if(this.prestructurals[this.prestructurals.length-1].traverseApply(w,Q),Q.currentErrorCount>Y)return}if(this.structure){if(this.structure.traverseApply(w,Q),Q.currentErrorCount>Y)return}if(this.inner.predicate){for(let z=0;z<this.inner.predicate.length-1;z++)if(this.inner.predicate[z].traverseApply(w,Q),Q.failFast&&Q.currentErrorCount>Y)return;this.inner.predicate[this.inner.predicate.length-1].traverseApply(w,Q)}};compile(w){if(w.traversalKind==="Allows"){for(let Q of this.children)w.check(Q);w.return(!0);return}if(w.initializeErrorCount(),this.basis){if(w.check(this.basis),this.children.length>1)w.returnIfFail()}if(this.prestructurals.length){for(let Q=0;Q<this.prestructurals.length-1;Q++)w.check(this.prestructurals[Q]),w.returnIfFailFast();if(w.check(this.prestructurals[this.prestructurals.length-1]),this.structure||this.inner.predicate)w.returnIfFail()}if(this.structure){if(w.check(this.structure),this.inner.predicate)w.returnIfFail()}if(this.inner.predicate){for(let Q=0;Q<this.inner.predicate.length-1;Q++)w.check(this.inner.predicate[Q]),w.returnIfFail();w.check(this.inner.predicate[this.inner.predicate.length-1])}}}var $W={implementation:dS,Node:rU},iS=(w)=>{if(w.structure?.expression)return w.structure.expression;let Q=w.basis&&!w.prestructurals.some((H)=>H.impl.obviatesBasisExpression)?w.basis.nestableExpression:"",Y=w.prestructurals.map((H)=>H.expression).join(" & "),z=`${Q}${Q?" ":""}${Y}`;if(z==="Array == 0")return"[]";return z||"unknown"},lU=(w,Q,Y)=>{let z={},H=w.proto??w.domain,W=Q.proto??Q.domain,X=H?W?p0(H,W,Y):H:W;if(X instanceof g)return X;if(X)z[X.kind]=X;return t4({kind:"intersection",baseInner:z,l:e4(w),r:e4(Q),roots:[],ctx:Y})};var nS=L0({kind:"morph",hasAssociatedError:!1,keys:{in:{child:!0,parse:(w,Q)=>Q.$.parseSchema(w)},morphs:{parse:X8,serialize:(w)=>w.map((Q)=>u(Q,"root")?Q.json:z6(Q))},declaredIn:{child:!1,serialize:(w)=>w.json},declaredOut:{child:!1,serialize:(w)=>w.json}},normalize:(w)=>w,defaults:{description:(w)=>`a morph from ${w.rawIn.description} to ${w.rawOut?.description??"unknown"}`},intersections:{morph:(w,Q,Y)=>{if(!w.hasEqualMorphs(Q))return V(sS(w.expression,Q.expression));let z=p0(w.rawIn,Q.rawIn,Y);if(z instanceof g)return z;let H={morphs:w.morphs};if(w.declaredIn||Q.declaredIn){let W=p0(w.rawIn,Q.rawIn,Y);if(W instanceof g)return W.throw();else H.declaredIn=W}if(w.declaredOut||Q.declaredOut){let W=p0(w.rawOut,Q.rawOut,Y);if(W instanceof g)return W.throw();else H.declaredOut=W}return z.distribute((W)=>Y.$.node("morph",{...H,in:W}),Y.$.parseSchema)},...Uw("morph",(w,Q,Y)=>{let z=w.inner.in?p0(w.inner.in,Q,Y):Q;return z instanceof g?z:z.equals(w.inner.in)?w:Y.$.node("morph",{...w.inner,in:z})})}});class cU extends v9{serializedMorphs=this.morphs.map(z6);compiledMorphs=`[${this.serializedMorphs}]`;lastMorph=this.inner.morphs[this.inner.morphs.length-1];lastMorphIfNode=u(this.lastMorph,"root")?this.lastMorph:void 0;introspectableIn=this.inner.in;introspectableOut=this.lastMorphIfNode?Object.assign(this.referencesById,this.lastMorphIfNode.referencesById)&&this.lastMorphIfNode.rawOut:void 0;get shallowMorphs(){return Array.isArray(this.inner.in?.shallowMorphs)?[...this.inner.in.shallowMorphs,...this.morphs]:this.morphs}get rawIn(){return this.declaredIn??this.inner.in?.rawIn??S.intrinsic.unknown.internal}get rawOut(){return this.declaredOut??this.introspectableOut??S.intrinsic.unknown.internal}declareIn(w){return this.$.node("morph",{...this.inner,declaredIn:w})}declareOut(w){return this.$.node("morph",{...this.inner,declaredOut:w})}expression=`(In: ${this.rawIn.expression}) => ${this.lastMorphIfNode?"To":"Out"}<${this.rawOut.expression}>`;get defaultShortDescription(){return this.rawIn.meta.description??this.rawIn.defaultShortDescription}innerToJsonSchema(w){return w.fallback.morph({code:"morph",base:this.rawIn.toJsonSchemaRecurse(w),out:this.introspectableOut?.toJsonSchemaRecurse(w)??null})}compile(w){if(w.traversalKind==="Allows"){if(!this.introspectableIn)return;w.return(w.invoke(this.introspectableIn));return}if(this.introspectableIn)w.line(w.invoke(this.introspectableIn));w.line(`ctx.queueMorphs(${this.compiledMorphs})`)}traverseAllows=(w,Q)=>!this.introspectableIn||this.introspectableIn.traverseAllows(w,Q);traverseApply=(w,Q)=>{if(this.introspectableIn)this.introspectableIn.traverseApply(w,Q);Q.queueMorphs(this.morphs)};hasEqualMorphs(w){return fw(this.morphs,w.morphs,{isEqual:(Q,Y)=>Q===Y||u(Q,"root")&&u(Y,"root")&&Q.equals(Y)})}}var PW={implementation:nS,Node:cU},sS=(w,Q)=>`The intersection of distinct morphs at a single path is indeterminate:
Left: ${w}
Right: ${Q}`;var aS=L0({kind:"proto",hasAssociatedError:!0,collapsibleKey:"proto",keys:{proto:{serialize:(w)=>JY(w)??f9(w)},dateAllowsInvalid:{}},normalize:(w)=>{let Q=typeof w==="string"?{proto:Q4[w]}:typeof w==="function"?u0(w)?w:{proto:w}:typeof w.proto==="string"?{...w,proto:Q4[w.proto]}:w;if(typeof Q.proto!=="function")V(PY.writeInvalidSchemaMessage(Q.proto));if(r4(Q,"dateAllowsInvalid")&&Q.proto!==Date)V(PY.writeBadInvalidDateMessage(Q.proto));return Q},applyConfig:(w,Q)=>{if(w.dateAllowsInvalid===void 0&&w.proto===Date&&Q.dateAllowsInvalid)return{...w,dateAllowsInvalid:!0};return w},defaults:{description:(w)=>w.builtinName?xL[w.builtinName]:`an instance of ${w.proto.name}`,actual:(w)=>w instanceof Date&&w.toString()==="Invalid Date"?"an invalid Date":XY(w)},intersections:{proto:(w,Q)=>w.proto===Date&&Q.proto===Date?w.dateAllowsInvalid?Q:w:nH(w.proto,Q.proto)?w:nH(Q.proto,w.proto)?Q:g.init("proto",w,Q),domain:(w,Q)=>Q.domain==="object"?w:g.init("domain",S.intrinsic.object.internal,Q)}});class dU extends W4{builtinName=JY(this.proto);serializedConstructor=this.json.proto;requiresInvalidDateCheck=this.proto===Date&&!this.dateAllowsInvalid;traverseAllows=this.requiresInvalidDateCheck?(w)=>w instanceof Date&&w.toString()!=="Invalid Date":(w)=>w instanceof this.proto;compiledCondition=`data instanceof ${this.serializedConstructor}${this.requiresInvalidDateCheck?' && data.toString() !== "Invalid Date"':""}`;compiledNegation=`!(${this.compiledCondition})`;innerToJsonSchema(w){switch(this.builtinName){case"Array":return{type:"array"};case"Date":return w.fallback.date?.({code:"date",base:{}})??w.fallback.proto({code:"proto",base:{},proto:this.proto});default:return w.fallback.proto({code:"proto",base:{},proto:this.proto})}}expression=this.dateAllowsInvalid?"Date | InvalidDate":this.proto.name;get nestableExpression(){return this.dateAllowsInvalid?`(${this.expression})`:this.expression}domain="object";get defaultShortDescription(){return this.description}}var PY={implementation:aS,Node:dU,writeBadInvalidDateMessage:(w)=>`dateAllowsInvalid may only be specified with constructor Date (was ${w.name})`,writeInvalidSchemaMessage:(w)=>`instanceOf operand must be a function (was ${G6(w)})`};var tS=L0({kind:"union",hasAssociatedError:!0,collapsibleKey:"branches",keys:{ordered:{},branches:{child:!0,parse:(w,Q)=>{let Y=[];for(let z of w){let H=u(z,"root")?z.branches:Q.$.parseSchema(z).branches;for(let W of H)if(W.hasKind("morph")){let X=Y.findIndex((L)=>L.hasKind("morph")&&L.hasEqualMorphs(W));if(X===-1)Y.push(W);else{let L=Y[X];Y[X]=Q.$.node("morph",{...L.inner,in:L.rawIn.rawOr(W.rawIn)})}}else Y.push(W)}if(!Q.def.ordered)Y.sort((z,H)=>z.hash<H.hash?-1:1);return Y}}},normalize:(w)=>y0(w)?{branches:w}:w,reduce:(w,Q)=>{let Y=Lb(w);if(Y.length===1)return Y[0];if(Y.length===w.branches.length)return;return Q.node("union",{...w,branches:Y},{prereduced:!0})},defaults:{description:(w)=>w.distribute((Q)=>Q.description,zQ),expected:(w)=>{let Q=SL(w.errors,"propString"),Y=Object.entries(Q).map(([z,H])=>{let W=[];for(let U of H)Jw(W,U.expected);let X=zQ(W),L=H.every((U)=>U.actual===H[0].actual)?H[0].actual:X0(H[0].data);return`${z&&`${z} `}must be ${X}${L&&` (was ${L})`}`});return zQ(Y)},problem:(w)=>w.expected,message:(w)=>{if(w.problem[0]==="[")return`value at ${w.problem}`;return w.problem}},intersections:{union:(w,Q,Y)=>{if(w.isNever!==Q.isNever)return g.init("presence",w,Q);let z;if(w.ordered){if(Q.ordered)V(qb(w.expression,Q.expression));if(z=EW(Q.branches,w.branches,Y),z instanceof g)z.invert()}else z=EW(w.branches,Q.branches,Y);if(z instanceof g)return z;return Y.$.parseSchema(w.ordered||Q.ordered?{branches:z,ordered:!0}:{branches:z})},...Uw("union",(w,Q,Y)=>{let z=EW(w.branches,[Q],Y);if(z instanceof g)return z;if(z.length===1)return z[0];return Y.$.parseSchema(w.ordered?{branches:z,ordered:!0}:{branches:z})})}});class sU extends v9{isBoolean=this.branches.length===2&&this.branches[0].hasUnit(!1)&&this.branches[1].hasUnit(!0);get branchGroups(){let w=[],Q=-1;for(let Y of this.branches){if(Y.hasKind("unit")&&Y.domain==="boolean"){if(Q===-1)Q=w.length,w.push(Y);else w[Q]=S.intrinsic.boolean;continue}w.push(Y)}return w}unitBranches=this.branches.filter((w)=>w.rawIn.hasKind("unit"));discriminant=this.discriminate();discriminantJson=this.discriminant?Wb(this.discriminant):null;expression=this.distribute((w)=>w.nestableExpression,Jb);createBranchedOptimisticRootApply(){return(w,Q)=>{let Y=this.traverseOptimistic(w);if(Y!==q9)return Y;let z=new p9(w,this.$.resolvedConfig);return this.traverseApply(w,z),z.finalize(Q)}}get shallowMorphs(){return this.branches.reduce((w,Q)=>Jw(w,Q.shallowMorphs),[])}get defaultShortDescription(){return this.distribute((w)=>w.defaultShortDescription,zQ)}innerToJsonSchema(w){if(this.branchGroups.length===1&&this.branchGroups[0].equals(S.intrinsic.boolean))return{type:"boolean"};let Q=this.branchGroups.map((Y)=>Y.toJsonSchemaRecurse(w));if(Q.every((Y)=>Object.keys(Y).length===1&&r4(Y,"const")))return{enum:Q.map((Y)=>Y.const)};return{anyOf:Q}}traverseAllows=(w,Q)=>this.branches.some((Y)=>Y.traverseAllows(w,Q));traverseApply=(w,Q)=>{let Y=[];for(let z=0;z<this.branches.length;z++){if(Q.pushBranch(),this.branches[z].traverseApply(w,Q),!Q.hasError()){if(this.branches[z].includesTransform)return Q.queuedMorphs.push(...Q.popBranch().queuedMorphs);return Q.popBranch()}Y.push(Q.popBranch().error)}Q.errorFromNodeContext({code:"union",errors:Y,meta:this.meta})};traverseOptimistic=(w)=>{for(let Q=0;Q<this.branches.length;Q++){let Y=this.branches[Q];if(Y.traverseAllows(w)){if(Y.contextFreeMorph)return Y.contextFreeMorph(w);return w}}return q9};compile(w){if(!this.discriminant||this.unitBranches.length===this.branches.length&&this.branches.length===2)return this.compileIndiscriminable(w);let Q=this.discriminant.optionallyChainedPropString;if(this.discriminant.kind==="domain")Q=`typeof ${Q} === "object" ? ${Q} === null ? "null" : "object" : typeof ${Q} === "function" ? "object" : typeof ${Q}`;let Y=this.discriminant.cases,z=Object.keys(Y),{optimistic:H}=w;if(w.optimistic=!1,w.block(`switch(${Q})`,()=>{for(let q in Y){let Z=Y[q],K=q==="default"?q:`case ${q}`,B;if(Z===!0)B=H?"data":"true";else if(H)if(Z.rootApplyStrategy==="branchedOptimistic")B=w.invoke(Z,{kind:"Optimistic"});else if(Z.contextFreeMorph)B=`${w.invoke(Z)} ? ${z6(Z.contextFreeMorph)}(data) : "${q9}"`;else B=`${w.invoke(Z)} ? data : "${q9}"`;else B=w.invoke(Z);w.line(`${K}: return ${B}`)}return w}),w.traversalKind==="Allows"){w.return(H?`"${q9}"`:!1);return}let W=zQ(this.discriminant.kind==="domain"?z.map((q)=>{let Z=q.slice(1,-1);return Z==="function"?U9.object:U9[Z]}):z),X=this.discriminant.path.map((q)=>typeof q==="symbol"?z6(q):JSON.stringify(q)),L=JSON.stringify(W),U=this.discriminant.kind==="domain"?`${zb}[${Q}]`:`${Hb}(${Q})`;w.line(`ctx.errorFromNodeContext({
	code: "predicate",
	expected: ${L},
	actual: ${U},
	relativePath: [${X}],
	meta: ${this.compiledMeta}
})`)}compileIndiscriminable(w){if(w.traversalKind==="Apply"){w.const("errors","[]");for(let Q of this.branches)w.line("ctx.pushBranch()").line(w.invoke(Q)).if("!ctx.hasError()",()=>w.return(Q.includesTransform?"ctx.queuedMorphs.push(...ctx.popBranch().queuedMorphs)":"ctx.popBranch()")).line("errors.push(ctx.popBranch().error)");w.line(`ctx.errorFromNodeContext({ code: "union", errors, meta: ${this.compiledMeta} })`)}else{let{optimistic:Q}=w;w.optimistic=!1;for(let Y of this.branches)w.if(`${w.invoke(Y)}`,()=>w.return(Q?Y.contextFreeMorph?`${z6(Y.contextFreeMorph)}(data)`:"data":!0));w.return(Q?`"${q9}"`:!1)}}get nestableExpression(){return this.isBoolean?"boolean":`(${this.expression})`}discriminate(){if(this.branches.length<2||this.isCyclic)return null;if(this.unitBranches.length===this.branches.length){let H=W0(this.unitBranches,(W,X)=>[`${X.rawIn.serializedValue}`,X.hasKind("morph")?X:!0]);return{kind:"unit",path:[],optionallyChainedPropString:"data",cases:H}}let w=[];for(let H=0;H<this.branches.length-1;H++){let W=this.branches[H];for(let X=H+1;X<this.branches.length;X++){let L=this.branches[X],U=F9(W.rawIn,L.rawIn,W.$);if(!(U instanceof g))continue;for(let q of U){if(!q.kind||q.optional)continue;let Z,K;if(q.kind==="domain"){let{l:A,r:M}=q;Z=`"${typeof A==="string"?A:A.domain}"`,K=`"${typeof M==="string"?M:M.domain}"`}else if(q.kind==="unit")Z=q.l.serializedValue,K=q.r.serializedValue;else continue;let B=w.find((A)=>fw(A.path,q.path)&&A.kind===q.kind);if(!B)w.push({kind:q.kind,cases:{[Z]:{branchIndices:[H],condition:q.l},[K]:{branchIndices:[X],condition:q.r}},path:q.path});else{if(B.cases[Z])B.cases[Z].branchIndices=Jw(B.cases[Z].branchIndices,H);else B.cases[Z]??={branchIndices:[H],condition:q.l};if(B.cases[K])B.cases[K].branchIndices=Jw(B.cases[K].branchIndices,X);else B.cases[K]??={branchIndices:[X],condition:q.r}}}}}let Q=this.ordered?Qb(w,this.branches):w;if(!Q.length)return null;let Y=eS(Q,this),z={};for(let H in Y.best.cases){let W=wb(Y,H);if(W===null){z[H]=!0;continue}if(W.length===this.branches.length)return null;if(this.ordered)W.sort((U,q)=>U.originalIndex-q.originalIndex);let X=W.map((U)=>U.branch),L=X.length===1?X[0]:this.$.node("union",this.ordered?{branches:X,ordered:!0}:X);Object.assign(this.referencesById,L.referencesById),z[H]=L}if(Y.defaultEntries.length){let H=Y.defaultEntries.map((W)=>W.branch);z.default=this.$.node("union",this.ordered?{branches:H,ordered:!0}:H,{prereduced:!0}),Object.assign(this.referencesById,z.default.referencesById)}return Object.assign(Y.location,{cases:z})}}var eS=(w,Q)=>{let z=w.sort((X,L)=>X.path.length===L.path.length?Object.keys(L.cases).length-Object.keys(X.cases).length:X.path.length-L.path.length)[0],H={kind:z.kind,path:z.path,optionallyChainedPropString:aU(z.path)},W=Q.branches.map((X,L)=>({originalIndex:L,branch:X}));return{best:z,location:H,defaultEntries:W,node:Q}},wb=(w,Q)=>{let Y=w.best.cases[Q],z=Yb(Y.condition,w.location.path,w.node.$),H=[],W=[];for(let X=0;X<w.defaultEntries.length;X++){let L=w.defaultEntries[X];if(Y.branchIndices.includes(L.originalIndex)){let U=iU(w.node.branches[L.originalIndex],w.location);if(U===null)H=null;else H?.push({originalIndex:L.originalIndex,branch:U})}else if(L.branch.hasKind("alias")&&z.hasKind("domain")&&z.domain==="object")H?.push(L);else{if(L.branch.rawIn.overlaps(z)){let U=iU(L.branch,w.location);H?.push({originalIndex:L.originalIndex,branch:U})}W.push(L)}}return w.defaultEntries=W,H},Qb=(w,Q)=>{return w.filter((z)=>{let H=Object.values(z.cases).map((W)=>W.branchIndices);for(let W=0;W<H.length-1;W++){let X=H[W];for(let L=W+1;L<H.length;L++){let U=H[L];for(let q of X)for(let Z of U)if(q>Z){if(Q[q].overlaps(Q[Z]))return!1}}}return!0})},Yb=(w,Q,Y)=>{let z=w==="undefined"?Y.node("unit",{unit:void 0}):w==="null"?Y.node("unit",{unit:null}):w==="boolean"?Y.units([!0,!1]):w;for(let H=Q.length-1;H>=0;H--){let W=Q[H];z=Y.node("intersection",typeof W==="number"?{proto:"Array",sequence:[...PL(W).map((X)=>({})),z]}:{domain:"object",required:[{key:W,value:z}]})}return z},aU=(w)=>w.reduce((Q,Y)=>Q+QW(Y,!0),"data"),zb=z6(bL),Hb=z6(X0),SW={implementation:tS,Node:sU},Wb=(w)=>({kind:w.kind,path:w.path.map((Q)=>typeof Q==="string"?Q:u9(Q)),cases:W0(w.cases,(Q,Y)=>[Q,Y===!0?Y:Y.hasKind("union")&&Y.discriminantJson?Y.discriminantJson:Y.json])}),Xb={delimiter:" | ",finalDelimiter:" | "},Jb=(w)=>zQ(w,Xb),zQ=(w,Q)=>{let Y=Q?.delimiter??", ",z=Q?.finalDelimiter??" or ";if(w.length===0)return"never";if(w.length===1)return w[0];if(w.length===2&&w[0]==="false"&&w[1]==="true"||w[0]==="true"&&w[1]==="false")return"boolean";let H={},W=w.filter((L)=>H[L]?!1:H[L]=!0),X=W.pop();return`${W.join(Y)}${W.length?z:""}${X}`},EW=(w,Q,Y)=>{let z=Q.map(()=>[]);for(let W=0;W<w.length;W++){let X={};for(let L=0;L<Q.length;L++){if(z[L]===null)continue;if(w[W].equals(Q[L])){z[L]=null,X={};break}let U=p0(w[W],Q[L],Y);if(U instanceof g)continue;if(U.equals(w[W])){z[L].push(w[W]),X={};break}if(U.equals(Q[L]))z[L]=null;else X[L]=U}for(let L in X)z[L][W]=X[L]}let H=z.flatMap((W,X)=>W?.flatMap((L)=>L.branches)??Q[X]);return H.length===0?g.init("union",w,Q):H},Lb=({branches:w,ordered:Q})=>{if(w.length<2)return w;let Y=w.map(()=>!0);for(let z=0;z<w.length;z++)for(let H=z+1;H<w.length&&Y[z]&&Y[H];H++){if(w[z].equals(w[H])){Y[H]=!1;continue}let W=F9(w[z].rawIn,w[H].rawIn,w[0].$);if(W instanceof g)continue;if(!Q)Ub(w[z],w[H]);if(W.equals(w[z].rawIn))Y[z]=!!Q;else if(W.equals(w[H].rawIn))Y[H]=!1}return w.filter((z,H)=>Y[H])},Ub=(w,Q)=>{if(!w.includesTransform&&!Q.includesTransform)return;if(!fw(w.shallowMorphs,Q.shallowMorphs))V(nU(w.expression,Q.expression));if(!fw(w.flatMorphs,Q.flatMorphs,{isEqual:(Y,z)=>Y.propString===z.propString&&(Y.node.hasKind("morph")&&z.node.hasKind("morph")?Y.node.hasEqualMorphs(z.node):Y.node.hasKind("intersection")&&z.node.hasKind("intersection")?Y.node.structure?.structuralMorphRef===z.node.structure?.structuralMorphRef:!1)}))V(nU(w.expression,Q.expression))},iU=(w,Q)=>w.transform((Y,z)=>{if(Y==="domain"||Y==="unit")return null;return z},{shouldTransform:(Y,z)=>{let H=aU(z.path);if(!Q.optionallyChainedPropString.startsWith(H))return!1;if(Y.hasKind("domain")&&Y.domain==="object")return!0;if((Y.hasKind("domain")||Q.kind==="unit")&&H===Q.optionallyChainedPropString)return!0;return Y.children.length!==0&&Y.kind!=="index"}}),nU=(w,Q)=>`An unordered union of a type including a morph and a type with overlapping input is indeterminate:
Left: ${w}
Right: ${Q}`,qb=(w,Q)=>`The intersection of two ordered unions is indeterminate:
Left: ${w}
Right: ${Q}`;var Ob=L0({kind:"unit",hasAssociatedError:!0,keys:{unit:{preserveUndefined:!0,serialize:(w)=>w instanceof Date?w.toISOString():f9(w)}},normalize:(w)=>w,defaults:{description:(w)=>X0(w.unit),problem:({expected:w,actual:Q})=>`${w===Q?`must be reference equal to ${w} (serialized to the same value)`:`must be ${w} (was ${Q})`}`},intersections:{unit:(w,Q)=>g.init("unit",w,Q),...Uw("unit",(w,Q)=>{if(Q.allows(w.unit))return w;let Y=Q.hasKind("intersection")?Q.basis:Q;if(Y){let z=Y.hasKind("domain")?Y:S.intrinsic.object;if(w.domain!==z.domain){let H=w.domain==="undefined"||w.domain==="null"||w.domain==="boolean"?w.domain:S.intrinsic[w.domain];return g.init("domain",H,z)}}return g.init("assignability",w,Q.hasKind("intersection")?Q.children.find((z)=>!z.allows(w.unit)):Q)})}});class eU extends W4{compiledValue=this.json.unit;serializedValue=typeof this.unit==="string"||this.unit instanceof Date?JSON.stringify(this.compiledValue):`${this.compiledValue}`;compiledCondition=tU(this.unit,this.serializedValue);compiledNegation=tU(this.unit,this.serializedValue,"negated");expression=X0(this.unit);domain=G6(this.unit);get defaultShortDescription(){return this.domain==="object"?U9.object:this.description}innerToJsonSchema(w){return this.unit===null?{type:"null"}:S.intrinsic.jsonPrimitive.allows(this.unit)?{const:this.unit}:w.fallback.unit({code:"unit",base:{},unit:this.unit})}traverseAllows=this.unit instanceof Date?(w)=>w instanceof Date&&w.toISOString()===this.compiledValue:Number.isNaN(this.unit)?(w)=>Number.isNaN(w):(w)=>w===this.unit}var bW={implementation:Ob,Node:eU},tU=(w,Q,Y)=>{if(w instanceof Date){let z=`data instanceof Date && data.toISOString() === ${Q}`;return Y?`!(${z})`:z}if(Number.isNaN(w))return`${Y?"!":""}Number.isNaN(data)`;return`data ${Y?"!":"="}== ${Q}`};var Zb=L0({kind:"index",hasAssociatedError:!1,intersectionIsOpen:!0,keys:{signature:{child:!0,parse:(w,Q)=>{let Y=Q.$.parseSchema(w);if(!Y.extends(S.intrinsic.key))return V(Fb(Y.expression));let z=Y.branches.filter((H)=>H.hasKind("unit"));if(z.length)return V(Nb(z.map((H)=>X0(H.unit))));return Y}},value:{child:!0,parse:(w,Q)=>Q.$.parseSchema(w)}},normalize:(w)=>w,defaults:{description:(w)=>`[${w.signature.expression}]: ${w.value.description}`},intersections:{index:(w,Q,Y)=>{if(w.signature.equals(Q.signature)){let z=p0(w.value,Q.value,Y),H=z instanceof g?S.intrinsic.never.internal:z;return Y.$.node("index",{signature:w.signature,value:H})}if(w.signature.extends(Q.signature)&&w.value.subsumes(Q.value))return Q;if(Q.signature.extends(w.signature)&&Q.value.subsumes(w.value))return w;return null}}});class wq extends x9{impliedBasis=S.intrinsic.object.internal;expression=`[${this.signature.expression}]: ${this.value.expression}`;flatRefs=D0(this.value.flatRefs.map((w)=>l9([this.signature,...w.path],w.node)),l9([this.signature],this.value));traverseAllows=(w,Q)=>w4(w).every((Y)=>{if(this.signature.traverseAllows(Y[0],Q))return N9(Y[0],()=>this.value.traverseAllows(Y[1],Q),Q);return!0});traverseApply=(w,Q)=>{for(let Y of w4(w))if(this.signature.traverseAllows(Y[0],Q))N9(Y[0],()=>this.value.traverseApply(Y[1],Q),Q)};_transform(w,Q){Q.path.push(this.signature);let Y=super._transform(w,Q);return Q.path.pop(),Y}compile(){}}var IW={implementation:Zb,Node:wq},Nb=(w)=>`Index keys ${w.join(", ")} should be specified as named props.`,Fb=(w)=>`Indexed key definition '${w}' must be a string or symbol`;var Kb=L0({kind:"required",hasAssociatedError:!0,intersectionIsOpen:!0,keys:{key:{},value:{child:!0,parse:(w,Q)=>Q.$.parseSchema(w)}},normalize:(w)=>w,defaults:{description:(w)=>`${w.compiledKey}: ${w.value.description}`,expected:(w)=>w.missingValueDescription,actual:()=>"missing"},intersections:{required:RY,optional:RY}});class Qq extends CY{expression=`${this.compiledKey}: ${this.value.expression}`;errorContext=Object.freeze({code:"required",missingValueDescription:this.value.defaultShortDescription,relativePath:[this.key],meta:this.meta});compiledErrorContext=q8(this.errorContext)}var _W={implementation:Kb,Node:Qq};var Bb=L0({kind:"sequence",hasAssociatedError:!1,collapsibleKey:"variadic",keys:{prefix:{child:!0,parse:(w,Q)=>{if(w.length===0)return;return w.map((Y)=>Q.$.parseSchema(Y))}},optionals:{child:!0,parse:(w,Q)=>{if(w.length===0)return;return w.map((Y)=>Q.$.parseSchema(Y))}},defaultables:{child:(w)=>w.map((Q)=>Q[0]),parse:(w,Q)=>{if(w.length===0)return;return w.map((Y)=>{let z=Q.$.parseSchema(Y[0]);return VY(z,Y[1],null),[z,Y[1]]})},serialize:(w)=>w.map((Q)=>[Q[0].collapsibleJson,f9(Q[1])]),reduceIo:(w,Q,Y)=>{if(w==="in"){Q.optionals=Y.map((z)=>z[0].rawIn);return}Q.prefix=Y.map((z)=>z[0].rawOut);return}},variadic:{child:!0,parse:(w,Q)=>Q.$.parseSchema(w,Q)},minVariadicLength:{parse:(w)=>w===0?void 0:w},postfix:{child:!0,parse:(w,Q)=>{if(w.length===0)return;return w.map((Y)=>Q.$.parseSchema(Y))}}},normalize:(w)=>{if(typeof w==="string")return{variadic:w};if("variadic"in w||"prefix"in w||"defaultables"in w||"optionals"in w||"postfix"in w||"minVariadicLength"in w){if(w.postfix?.length){if(!w.variadic)return V(Rb);if(w.optionals?.length||w.defaultables?.length)return V(kW)}if(w.minVariadicLength&&!w.variadic)return V("minVariadicLength may not be specified without a variadic element");return w}return{variadic:w}},reduce:(w,Q)=>{let Y=w.minVariadicLength??0,z=w.prefix?.slice()??[],H=w.defaultables?.slice()??[],W=w.optionals?.slice()??[],X=w.postfix?.slice()??[];if(w.variadic){while(W[W.length-1]?.equals(w.variadic))W.pop();if(W.length===0&&H.length===0)while(z[z.length-1]?.equals(w.variadic))z.pop(),Y++;while(X[0]?.equals(w.variadic))X.shift(),Y++}else if(W.length===0&&H.length===0)z.push(...X.splice(0));if(Y!==w.minVariadicLength||w.prefix&&w.prefix.length!==z.length)return Q.node("sequence",{...w,prefix:z,defaultables:H,optionals:W,postfix:X,minVariadicLength:Y},{prereduced:!0})},defaults:{description:(w)=>{if(w.isVariadicOnly)return`${w.variadic.nestableExpression}[]`;return`[${w.tuple.map((Y)=>Y.kind==="defaultables"?`${Y.node.nestableExpression} = ${X0(Y.default)}`:Y.kind==="optionals"?`${Y.node.nestableExpression}?`:Y.kind==="variadic"?`...${Y.node.nestableExpression}[]`:Y.node.expression).join(", ")}]`}},intersections:{sequence:(w,Q,Y)=>{let z=EY({l:w.tuple,r:Q.tuple,disjoint:new g,result:[],fixedVariants:[],ctx:Y}),H=z.disjoint.length===0?[z,...z.fixedVariants]:z.fixedVariants;return H.length===0?z.disjoint:H.length===1?Y.$.node("sequence",Yq(H[0].result)):Y.$.node("union",H.map((W)=>({proto:Array,sequence:Yq(W.result)})))}}});class Hq extends x9{impliedBasis=S.intrinsic.Array.internal;tuple=Tb(this.inner);prefixLength=this.prefix?.length??0;defaultablesLength=this.defaultables?.length??0;optionalsLength=this.optionals?.length??0;postfixLength=this.postfix?.length??0;defaultablesAndOptionals=[];prevariadic=this.tuple.filter((w)=>{if(w.kind==="defaultables"||w.kind==="optionals")return this.defaultablesAndOptionals.push(w.node),!0;return w.kind==="prefix"});variadicOrPostfix=gw(this.variadic&&[this.variadic],this.postfix);flatRefs=this.addFlatRefs();addFlatRefs(){return XW(this.flatRefs,this.prevariadic.flatMap((w,Q)=>D0(w.node.flatRefs.map((Y)=>l9([`${Q}`,...Y.path],Y.node)),l9([`${Q}`],w.node)))),XW(this.flatRefs,this.variadicOrPostfix.flatMap((w)=>D0(w.flatRefs.map((Q)=>l9([S.intrinsic.nonNegativeIntegerString.internal,...Q.path],Q.node)),l9([S.intrinsic.nonNegativeIntegerString.internal],w)))),this.flatRefs}isVariadicOnly=this.prevariadic.length+this.postfixLength===0;minVariadicLength=this.inner.minVariadicLength??0;minLength=this.prefixLength+this.minVariadicLength+this.postfixLength;minLengthNode=this.minLength===0?null:this.$.node("minLength",this.minLength);maxLength=this.variadic?null:this.tuple.length;maxLengthNode=this.maxLength===null?null:this.$.node("maxLength",this.maxLength);impliedSiblings=this.minLengthNode?this.maxLengthNode?[this.minLengthNode,this.maxLengthNode]:[this.minLengthNode]:this.maxLengthNode?[this.maxLengthNode]:[];defaultValueMorphs=Mb(this);defaultValueMorphsReference=this.defaultValueMorphs.length?z6(this.defaultValueMorphs):void 0;elementAtIndex(w,Q){if(Q<this.prevariadic.length)return this.tuple[Q];let Y=w.length-this.postfixLength;if(Q>=Y)return{kind:"postfix",node:this.postfix[Q-Y]};return{kind:"variadic",node:this.variadic??b0(`Unexpected attempt to access index ${Q} on ${this}`)}}traverseAllows=(w,Q)=>{for(let Y=0;Y<w.length;Y++)if(!this.elementAtIndex(w,Y).node.traverseAllows(w[Y],Q))return!1;return!0};traverseApply=(w,Q)=>{let Y=0;for(;Y<w.length;Y++)N9(Y,()=>this.elementAtIndex(w,Y).node.traverseApply(w[Y],Q),Q)};get element(){return this.cacheGetter("element",this.$.node("union",this.children))}compile(w){if(this.prefix)for(let[Q,Y]of this.prefix.entries())w.traverseKey(`${Q}`,`data[${Q}]`,Y);for(let[Q,Y]of this.defaultablesAndOptionals.entries()){let z=`${Q+this.prefixLength}`;w.if(`${z} >= data.length`,()=>w.traversalKind==="Allows"?w.return(!0):w.return()),w.traverseKey(z,`data[${z}]`,Y)}if(this.variadic){if(this.postfix)w.const("firstPostfixIndex",`data.length${this.postfix?`- ${this.postfix.length}`:""}`);if(w.for(`i < ${this.postfix?"firstPostfixIndex":"data.length"}`,()=>w.traverseKey("i","data[i]",this.variadic),this.prevariadic.length),this.postfix)for(let[Q,Y]of this.postfix.entries()){let z=`firstPostfixIndex + ${Q}`;w.traverseKey(z,`data[${z}]`,Y)}}if(w.traversalKind==="Allows")w.return(!0)}_transform(w,Q){Q.path.push(S.intrinsic.nonNegativeIntegerString.internal);let Y=super._transform(w,Q);return Q.path.pop(),Y}expression=this.description;reduceJsonSchema(w,Q){let Y=Q.target==="draft-07";if(this.prevariadic.length){let z=this.prevariadic.map((H)=>{let W=H.node.toJsonSchemaRecurse(Q);if(H.kind==="defaultables"){let X=typeof H.default==="function"?H.default():H.default;W.default=S.intrinsic.jsonData.allows(X)?X:Q.fallback.defaultValue({code:"defaultValue",base:W,value:X})}return W});if(Y)w.items=z;else w.prefixItems=z}if(this.minLength)w.minItems=this.minLength;if(this.variadic){let z=this.variadic.toJsonSchemaRecurse(Q);if(Y&&this.prevariadic.length)w.additionalItems=z;else w.items=z;if(this.maxLength)w.maxItems=this.maxLength;if(this.postfix){let H=this.postfix.map((W)=>W.toJsonSchemaRecurse(Q));w=Q.fallback.arrayPostfix({code:"arrayPostfix",base:w,elements:H})}}else{if(Y)w.additionalItems=!1;else w.items=!1;delete w.maxItems}return w}}var Ab={},Mb=(w)=>{if(!w.defaultables)return[];let Q=[],Y="[",z=w.prefixLength+w.defaultablesLength-1;for(let H=w.prefixLength;H<=z;H++){let[W,X]=w.defaultables[H-w.prefixLength];Q.push(GW(H,W,X)),Y+=`${H}: ${W.id} = ${f9(X)}, `}return Y+="]",Ab[Y]??=Q},jW={implementation:Bb,Node:Hq},Tb=(w)=>{let Q=[];if(w.prefix)for(let Y of w.prefix)Q.push({kind:"prefix",node:Y});if(w.defaultables)for(let[Y,z]of w.defaultables)Q.push({kind:"defaultables",node:Y,default:z});if(w.optionals)for(let Y of w.optionals)Q.push({kind:"optionals",node:Y});if(w.variadic)Q.push({kind:"variadic",node:w.variadic});if(w.postfix)for(let Y of w.postfix)Q.push({kind:"postfix",node:Y});return Q},Yq=(w)=>w.reduce((Q,Y)=>{if(Y.kind==="variadic")Q.variadic=Y.node;else if(Y.kind==="defaultables")Q.defaultables=D0(Q.defaultables,[[Y.node,Y.default]]);else Q[Y.kind]=D0(Q[Y.kind],Y.node);return Q},{}),kW="A postfix required element cannot follow an optional or defaultable element",Rb="A postfix element requires a variadic element",EY=(w)=>{let[Q,...Y]=w.l,[z,...H]=w.r;if(!Q||!z)return w;let W=Y[Y.length-1]?.kind==="postfix",X=H[H.length-1]?.kind==="postfix",L=Q.kind==="prefix"||z.kind==="prefix"?"prefix":Q.kind==="postfix"||z.kind==="postfix"?"postfix":Q.kind==="variadic"&&z.kind==="variadic"?"variadic":W||X?"prefix":Q.kind==="defaultables"||z.kind==="defaultables"?"defaultables":"optionals";if(Q.kind==="prefix"&&z.kind==="variadic"&&X){let K=EY({...w,fixedVariants:[],r:H.map((B)=>({...B,kind:"prefix"}))});if(K.disjoint.length===0)w.fixedVariants.push(K)}else if(z.kind==="prefix"&&Q.kind==="variadic"&&W){let K=EY({...w,fixedVariants:[],l:Y.map((B)=>({...B,kind:"prefix"}))});if(K.disjoint.length===0)w.fixedVariants.push(K)}let U=p0(Q.node,z.node,w.ctx);if(U instanceof g)if(L==="prefix"||L==="postfix")w.disjoint.push(...U.withPrefixKey(L==="prefix"?w.result.length:`-${Y.length+1}`,zq(Q)&&zq(z)?"required":"optional")),w.result=[...w.result,{kind:L,node:S.intrinsic.never.internal}];else if(L==="optionals"||L==="defaultables")return w;else return EY({...w,fixedVariants:[],l:Y.map((K)=>({...K,kind:"prefix"})),r:Y.map((K)=>({...K,kind:"prefix"}))});else if(L==="defaultables"){if(Q.kind==="defaultables"&&z.kind==="defaultables"&&Q.default!==z.default)V(VW(Q.default,z.default));w.result=[...w.result,{kind:L,node:U,default:Q.kind==="defaultables"?Q.default:z.kind==="defaultables"?z.default:b0(`Unexpected defaultable intersection from ${Q.kind} and ${z.kind} elements.`)}]}else w.result=[...w.result,{kind:L,node:U}];let q=w.l.length,Z=w.r.length;if(Q.kind!=="variadic"||q>=Z&&(z.kind==="variadic"||Z===1))w.l=Y;if(z.kind!=="variadic"||Z>=q&&(Q.kind==="variadic"||q===1))w.r=H;return EY(w)},zq=(w)=>w.kind==="prefix"||w.kind==="postfix";var Lq=(w)=>(Q)=>{if(Q.props.length||Q.index){let Y=Q.index?.map((H)=>H[w])??[];for(let H of Q.props)Y.push(H[w]);if(Q.undeclared)Y.push(`+ (undeclared): ${Q.undeclared}`);let z=`{ ${Y.join(", ")} }`;return Q.sequence?`${z} & ${Q.sequence.description}`:z}return Q.sequence?.description??"{}"},Cb=Lq("description"),Db=Lq("expression"),Wq=(w,Q,Y)=>{let z=w.required?"required":"optional";if(!Q.signature.allows(w.key))return null;let H=F9(w.value,Q.value,Y);if(H instanceof g)return z==="optional"?Y.node("optional",{key:w.key,value:S.intrinsic.never.internal}):H.withPrefixKey(w.key,w.kind);return null},Vb=L0({kind:"structure",hasAssociatedError:!1,normalize:(w)=>w,applyConfig:(w,Q)=>{if(!w.undeclared&&Q.onUndeclaredKey!=="ignore")return{...w,undeclared:Q.onUndeclaredKey};return w},keys:{required:{child:!0,parse:h6("required"),reduceIo:(w,Q,Y)=>{Q.required=D0(Q.required,Y.map((z)=>w==="in"?z.rawIn:z.rawOut));return}},optional:{child:!0,parse:h6("optional"),reduceIo:(w,Q,Y)=>{if(w==="in"){Q.optional=Y.map((z)=>z.rawIn);return}for(let z of Y)Q[z.outProp.kind]=D0(Q[z.outProp.kind],z.outProp.rawOut)}},index:{child:!0,parse:h6("index")},sequence:{child:!0,parse:h6("sequence")},undeclared:{parse:(w)=>w==="ignore"?void 0:w,reduceIo:(w,Q,Y)=>{if(Y==="reject"){Q.undeclared="reject";return}if(w==="in")delete Q.undeclared;else Q.undeclared="reject"}}},defaults:{description:Cb},intersections:{structure:(w,Q,Y)=>{let z={...w.inner},H={...Q.inner},W=new g;if(w.undeclared){let U=w.keyof();for(let q of Q.requiredKeys)if(!U.allows(q))W.add("presence",S.intrinsic.never.internal,Q.propsByKey[q].value,{path:[q]});if(H.optional)H.optional=H.optional.filter((q)=>U.allows(q.key));if(H.index)H.index=H.index.flatMap((q)=>{if(q.signature.extends(U))return q;let Z=F9(U,q.signature,Y.$);if(Z instanceof g)return[];let K=$z(Z,q.value,Y.$);if(K.required)H.required=gw(H.required,K.required);if(K.optional)H.optional=gw(H.optional,K.optional);return K.index??[]})}if(Q.undeclared){let U=Q.keyof();for(let q of w.requiredKeys)if(!U.allows(q))W.add("presence",w.propsByKey[q].value,S.intrinsic.never.internal,{path:[q]});if(z.optional)z.optional=z.optional.filter((q)=>U.allows(q.key));if(z.index)z.index=z.index.flatMap((q)=>{if(q.signature.extends(U))return q;let Z=F9(U,q.signature,Y.$);if(Z instanceof g)return[];let K=$z(Z,q.value,Y.$);if(K.required)z.required=gw(z.required,K.required);if(K.optional)z.optional=gw(z.optional,K.optional);return K.index??[]})}let X={};if(w.undeclared||Q.undeclared)X.undeclared=w.undeclared==="reject"||Q.undeclared==="reject"?"reject":"delete";let L=t4({kind:"structure",baseInner:X,l:e4(z),r:e4(H),roots:[],ctx:Y});if(L instanceof g)W.push(...L);if(W.length)return W;return L}},reduce:(w,Q)=>{if(!w.required&&!w.optional)return;let Y={},z=!1,H=w.optional?[...w.optional]:[];if(w.required)for(let W=0;W<w.required.length;W++){let X=w.required[W];if(X.key in Y)V(Jq(X.key));if(Y[X.key]=!0,w.index)for(let L of w.index){let U=Wq(X,L,Q);if(U instanceof g)return U}}if(w.optional)for(let W=0;W<w.optional.length;W++){let X=w.optional[W];if(X.key in Y)V(Jq(X.key));if(Y[X.key]=!0,w.index)for(let L of w.index){let U=Wq(X,L,Q);if(U instanceof g)return U;if(U!==null)H[W]=U,z=!0}}if(z)return Q.node("structure",{...w,optional:H},{prereduced:!0})}});class Uq extends x9{impliedBasis=S.intrinsic.object.internal;impliedSiblings=this.children.flatMap((w)=>w.impliedSiblings??[]);props=gw(this.required,this.optional);propsByKey=W0(this.props,(w,Q)=>[Q.key,Q]);propsByKeyReference=z6(this.propsByKey);expression=Db(this);requiredKeys=this.required?.map((w)=>w.key)??[];optionalKeys=this.optional?.map((w)=>w.key)??[];literalKeys=[...this.requiredKeys,...this.optionalKeys];_keyof;keyof(){if(this._keyof)return this._keyof;let w=this.$.units(this.literalKeys).branches;if(this.index)for(let{signature:Q}of this.index)w=w.concat(Q.branches);return this._keyof=this.$.node("union",w)}map(w){return this.$.node("structure",this.props.flatMap(w).reduce((Q,Y)=>{let z=this.propsByKey[Y.key];if(u0(Y)){if(Y.kind!=="required"&&Y.kind!=="optional")return V(`Map result must have kind "required" or "optional" (was ${Y.kind})`);return Q[Y.kind]=D0(Q[Y.kind],Y),Q}let H=Y.kind??z?.kind??"required",W=W0(Y,(X,L)=>(X in DY.implementation.keys)?[X,L]:[]);return Q[H]=D0(Q[H],this.$.node(H,W)),Q},{}))}assertHasKeys(w){let Q=w.filter((Y)=>!GY(Y,this.keyof()));if(Q.length)return V(Xq(this.expression,Q))}get(w,...Q){let Y,z=!1,H=Eb(w);if((typeof H==="string"||typeof H==="symbol")&&this.propsByKey[H])Y=this.propsByKey[H].value,z=this.propsByKey[H].required;if(this.index){for(let X of this.index)if(GY(H,X.signature))Y=Y?.and(X.value)??X.value}if(this.sequence&&GY(H,S.intrinsic.nonNegativeIntegerString))if(u(H,"root")){if(this.sequence.variadic)Y=Y?.and(this.sequence.element)??this.sequence.element}else{let X=Number.parseInt(H);if(X<this.sequence.prevariadic.length){let L=this.sequence.prevariadic[X].node;Y=Y?.and(L)??L,z||=X<this.sequence.prefixLength}else if(this.sequence.variadic){let L=this.$.node("union",this.sequence.variadicOrPostfix);Y=Y?.and(L)??L}}if(!Y){if(this.sequence?.variadic&&u(H,"root")&&H.extends(S.intrinsic.number))return V(Sb(H.expression,this.sequence.expression));return V(Xq(this.expression,[H]))}let W=Y.get(...Q);return z?W:W.or(S.intrinsic.undefined)}pick(...w){return this.assertHasKeys(w),this.$.node("structure",this.filterKeys("pick",w))}omit(...w){return this.assertHasKeys(w),this.$.node("structure",this.filterKeys("omit",w))}optionalize(){let{required:w,...Q}=this.inner;return this.$.node("structure",{...Q,optional:this.props.map((Y)=>Y.hasKind("required")?this.$.node("optional",Y.inner):Y)})}require(){let{optional:w,...Q}=this.inner;return this.$.node("structure",{...Q,required:this.props.map((Y)=>Y.hasKind("optional")?{key:Y.key,value:Y.value}:Y)})}merge(w){let Q=this.filterKeys("omit",[w.keyof()]);if(w.required)Q.required=D0(Q.required,w.required);if(w.optional)Q.optional=D0(Q.optional,w.optional);if(w.index)Q.index=D0(Q.index,w.index);if(w.sequence)Q.sequence=w.sequence;if(w.undeclared)Q.undeclared=w.undeclared;else delete Q.undeclared;return this.$.node("structure",Q)}filterKeys(w,Q){let Y=Fz(this.inner),z=(H)=>{let W=Q.some((X)=>GY(H,X));return w==="pick"?W:!W};if(Y.required)Y.required=Y.required.filter((H)=>z(H.key));if(Y.optional)Y.optional=Y.optional.filter((H)=>z(H.key));if(Y.index)Y.index=Y.index.filter((H)=>z(H.signature));return Y}traverseAllows=(w,Q)=>this._traverse("Allows",w,Q);traverseApply=(w,Q)=>this._traverse("Apply",w,Q);_traverse=(w,Q,Y)=>{let z=Y?.currentErrorCount??0;for(let H=0;H<this.props.length;H++)if(w==="Allows"){if(!this.props[H].traverseAllows(Q,Y))return!1}else if(this.props[H].traverseApply(Q,Y),Y.failFast&&Y.currentErrorCount>z)return!1;if(this.sequence){if(w==="Allows"){if(!this.sequence.traverseAllows(Q,Y))return!1}else if(this.sequence.traverseApply(Q,Y),Y.failFast&&Y.currentErrorCount>z)return!1}if(this.index||this.undeclared==="reject"){let H=Object.keys(Q);H.push(...Object.getOwnPropertySymbols(Q));for(let W=0;W<H.length;W++){let X=H[W];if(this.index){for(let L of this.index)if(L.signature.traverseAllows(X,Y)){if(w==="Allows"){if(!N9(X,()=>L.value.traverseAllows(Q[X],Y),Y))return!1}else if(N9(X,()=>L.value.traverseApply(Q[X],Y),Y),Y.failFast&&Y.currentErrorCount>z)return!1}}if(this.undeclared==="reject"&&!this.declaresKey(X)){if(w==="Allows")return!1;if(Y.errorFromNodeContext({code:"predicate",expected:"removed",actual:"",relativePath:[X],meta:this.meta}),Y.failFast)return!1}}}if(this.structuralMorph&&Y&&!Y.hasError())Y.queueMorphs([this.structuralMorph]);return!0};get defaultable(){return this.cacheGetter("defaultable",this.optional?.filter((w)=>w.hasDefault())??[])}declaresKey=(w)=>(w in this.propsByKey)||this.index?.some((Q)=>Q.signature.allows(w))||this.sequence!==void 0&&S.intrinsic.nonNegativeIntegerString.allows(w);_compileDeclaresKey(w){let Q=[];if(this.props.length)Q.push(`k in ${this.propsByKeyReference}`);if(this.index)for(let Y of this.index)Q.push(w.invoke(Y.signature,{kind:"Allows",arg:"k"}));if(this.sequence)Q.push("$ark.intrinsic.nonNegativeIntegerString.allows(k)");return Q.join(" || ")||"false"}get structuralMorph(){return this.cacheGetter("structuralMorph",$b(this))}structuralMorphRef=this.structuralMorph&&z6(this.structuralMorph);compile(w){if(w.traversalKind==="Apply")w.initializeErrorCount();for(let Q of this.props)if(w.check(Q),w.traversalKind==="Apply")w.returnIfFailFast();if(this.sequence){if(w.check(this.sequence),w.traversalKind==="Apply")w.returnIfFailFast()}if(this.index||this.undeclared==="reject")w.const("keys","Object.keys(data)"),w.line("keys.push(...Object.getOwnPropertySymbols(data))"),w.for("i < keys.length",()=>this.compileExhaustiveEntry(w));if(w.traversalKind==="Allows")return w.return(!0);if(this.structuralMorphRef)w.if("ctx && !ctx.hasError()",()=>{return w.line("ctx.queueMorphs(["),Pb(w,this),w.line("])")})}compileExhaustiveEntry(w){if(w.const("k","keys[i]"),this.index)for(let Q of this.index)w.if(`${w.invoke(Q.signature,{arg:"k",kind:"Allows"})}`,()=>w.traverseKey("k","data[k]",Q.value));if(this.undeclared==="reject")w.if(`!(${this._compileDeclaresKey(w)})`,()=>{if(w.traversalKind==="Allows")return w.return(!1);return w.line(`ctx.errorFromNodeContext({ code: "predicate", expected: "removed", actual: "", relativePath: [k], meta: ${this.compiledMeta} })`).if("ctx.failFast",()=>w.return())});return w}reduceJsonSchema(w,Q){switch(w.type){case"object":return this.reduceObjectJsonSchema(w,Q);case"array":let Y=this.sequence?.reduceJsonSchema(w,Q)??w;if(this.props.length||this.index)return Q.fallback.arrayObject({code:"arrayObject",base:Y,object:this.reduceObjectJsonSchema({type:"object"},Q)});return Y;default:return i0.throwInternalOperandError("structure",w)}}reduceObjectJsonSchema(w,Q){if(this.props.length){w.properties={};for(let Y of this.props){let z=Y.value.toJsonSchemaRecurse(Q);if(typeof Y.key==="symbol"){Q.fallback.symbolKey({code:"symbolKey",base:w,key:Y.key,value:z,optional:Y.optional});continue}if(Y.hasDefault()){let H=typeof Y.default==="function"?Y.default():Y.default;z.default=S.intrinsic.jsonData.allows(H)?H:Q.fallback.defaultValue({code:"defaultValue",base:z,value:H})}w.properties[Y.key]=z}if(this.requiredKeys.length&&w.properties)w.required=this.requiredKeys.filter((Y)=>typeof Y==="string"&&(Y in w.properties))}if(this.index)for(let Y of this.index){let z=Y.value.toJsonSchemaRecurse(Q);if(Y.signature.equals(S.intrinsic.string)){w.additionalProperties=z;continue}for(let H of Y.signature.branches){if(!H.extends(S.intrinsic.string)){w=Q.fallback.symbolKey({code:"symbolKey",base:w,key:null,value:z,optional:!1});continue}let W={type:"string"};if(H.hasKind("morph"))W=Q.fallback.morph({code:"morph",base:H.rawIn.toJsonSchemaRecurse(Q),out:H.rawOut.toJsonSchemaRecurse(Q)});if(!H.hasKind("intersection"))return b0(`Unexpected index branch kind ${H.kind}.`);let{pattern:X}=H.inner;if(X){let L=Object.assign(W,{pattern:X[0].rule});for(let U=1;U<X.length;U++)W=Q.fallback.patternIntersection({code:"patternIntersection",base:L,pattern:X[U].rule});w.patternProperties??={},w.patternProperties[L.pattern]=z}}}if(this.undeclared&&!w.additionalProperties)w.additionalProperties=!1;return w}}var gW={},Gb=(w)=>{let Q="";for(let Y=0;Y<w.defaultable.length;Y++)Q+=w.defaultable[Y].defaultValueMorphRef;if(w.sequence?.defaultValueMorphsReference)Q+=w.sequence?.defaultValueMorphsReference;if(w.undeclared==="delete"){if(Q+="delete !(",w.required)for(let Y of w.required)Q+=Y.compiledKey+" | ";if(w.optional)for(let Y of w.optional)Q+=Y.compiledKey+" | ";if(w.index)for(let Y of w.index)Q+=Y.signature.id+" | ";if(w.sequence)if(w.sequence.maxLength===null)Q+=i.nonNegativeIntegerString.id;else for(let Y=0;Y<w.sequence.tuple.length;Y++)Q+=Y+" | ";Q+=")"}return Q},$b=(w)=>{let Q=Gb(w);if(!Q)return;if(gW[Q])return gW[Q];let Y=(z,H)=>{for(let W=0;W<w.defaultable.length;W++)if(!(w.defaultable[W].key in z))w.defaultable[W].defaultValueMorph(z,H);if(w.sequence?.defaultables)for(let W=z.length-w.sequence.prefixLength;W<w.sequence.defaultables.length;W++)w.sequence.defaultValueMorphs[W](z,H);if(w.undeclared==="delete"){for(let W in z)if(!w.declaresKey(W))delete z[W]}return z};return gW[Q]=Y},Pb=(w,Q)=>{let z=`(data${Q.defaultable.some((H)=>H.defaultValueMorph.length===2)||Q.sequence?.defaultValueMorphs.some((H)=>H.length===2)?", ctx":""})`;return w.block(`${z} => `,(H)=>{for(let W=0;W<Q.defaultable.length;W++){let{serializedKey:X,defaultValueMorphRef:L}=Q.defaultable[W];H.if(`!(${X} in data)`,(U)=>U.line(`${L}${z}`))}if(Q.sequence?.defaultables)H.for(`i < ${Q.sequence.defaultables.length}`,(W)=>W.set("data[i]",5),`data.length - ${Q.sequence.prefixLength}`);if(Q.undeclared==="delete")H.forIn("data",(W)=>W.if(`!(${Q._compileDeclaresKey(W)})`,(X)=>X.line("delete data[k]")));return H.return("data")})},fW={implementation:Vb,Node:Uq},Eb=(w)=>{if(u(w,"root")&&w.hasKind("unit"))w=w.unit;if(typeof w==="number")w=`${w}`;return w},Sb=(w,Q)=>`${w} is not allowed as an array index on ${Q}. Use the 'nonNegativeIntegerString' keyword instead.`,$z=(w,Q,Y)=>{let[z,H]=$L(w.branches,(X)=>X.hasKind("unit"));if(!z.length)return{index:Y.node("index",{signature:w,value:Q})};let W={};for(let X of z){let L=Y.node("required",{key:X.unit,value:Q});W[L.kind]=D0(W[L.kind],L)}if(H.length)W.index=Y.node("index",{signature:H,value:Q});return W},bb=(w)=>u(w,"root")?w.expression:X0(w),Xq=(w,Q)=>`Key${Q.length===1?"":"s"} ${Q.map(bb).join(", ")} ${Q.length===1?"does":"do"} not exist on ${w}`,Jq=(w)=>`Duplicate key ${u9(w)}`;var QQ={...bU,alias:$Y.implementation,domain:Gz.implementation,unit:bW.implementation,proto:PY.implementation,union:SW.implementation,morph:PW.implementation,intersection:$W.implementation,divisor:OW.implementation,pattern:TW.implementation,predicate:qW.implementation,required:_W.implementation,optional:DY.implementation,index:IW.implementation,sequence:jW.implementation,structure:fW.implementation};S.defaultConfig=gL(Object.assign(W0(QQ,(w,Q)=>[w,Q.defaults]),{jitless:hL(),clone:vL,onUndeclaredKey:"ignore",exactOptionalPropertyTypes:!0,numberAllowsNaN:!1,dateAllowsInvalid:!1,onFail:null,keywords:{},toJsonSchema:i0.defaultConfig}));S.resolvedConfig=KY(S.defaultConfig,S.config);var fU={...IU,alias:$Y.Node,domain:Gz.Node,unit:bW.Node,proto:PY.Node,union:SW.Node,morph:PW.Node,intersection:$W.Node,divisor:OW.Node,pattern:TW.Node,predicate:qW.Node,required:_W.Node,optional:DY.Node,index:IW.Node,sequence:jW.Node,structure:fW.Node};class HQ extends rH{get[s6](){return"module"}}var xW=(w,Q)=>new HQ(W0(w,(Y,z)=>[Y,u(z,"module")?xW(z,Q):Q.bindReference(z)]));var Ib=(w)=>y0(w)?w:("branches"in w)&&y0(w.branches)?w.branches:void 0,_b=(w,Q)=>V(`Node of kind ${Q} is not valid as a ${w} definition`),qq=(w)=>`#${w} duplicates public alias ${w}`,vW={};S.ambient??={};var Oq,Nq="function $",jb=(w)=>Fq(w,Kq(w)),Fq=(w,Q)=>{let Y=Q.write(Nq,4),z=Q.compile()();for(let H of w){if(H.precompilation)continue;if(H.traverseAllows=z[`${H.id}Allows`].bind(z),H.isRoot()&&!H.allowsRequiresContext)H.allows=H.traverseAllows;if(H.traverseApply=z[`${H.id}Apply`].bind(z),z[`${H.id}Optimistic`])H.traverseOptimistic=z[`${H.id}Optimistic`].bind(z);H.precompilation=Y}},Kq=(w)=>new Nz().return(w.reduce((Q,Y)=>{let z=new FY({kind:"Allows"}).indent();Y.compile(z);let H=z.write(`${Y.id}Allows`),W=new FY({kind:"Apply"}).indent();Y.compile(W);let X=W.write(`${Y.id}Apply`),L=`${Q}${H},
${X},
`;if(!Y.hasKind("union"))return L;let U=new FY({kind:"Allows",optimistic:!0}).indent();Y.compile(U);let q=U.write(`${Y.id}Optimistic`);return`${L}${q},
`},`{
`)+"}");class Pz{config;resolvedConfig;name;get[s6](){return"scope"}referencesById={};references=[];resolutions={};exportedNames=[];aliases={};resolved=!1;nodesByHash={};intrinsic;constructor(w,Q){if(this.config=KY(S.config,Q),this.resolvedConfig=KY(S.resolvedConfig,Q),this.name=this.resolvedConfig.name??`anonymousScope${Object.keys(vW).length}`,this.name in vW)V(`A Scope already named ${this.name} already exists`);vW[this.name]=this;let Y=Object.entries(w).map((z)=>this.preparseOwnAliasEntry(...z));for(let[z,H]of Y){let W=z;if(z[0]==="#"){if(W=z.slice(1),W in this.aliases)V(qq(W));this.aliases[W]=H}else{if(W in this.aliases)V(qq(z));this.aliases[W]=H,this.exportedNames.push(W)}if(!u(H,"module")&&!u(H,"generic")&&!J8(H)){let X=this.preparseOwnDefinitionFormat(H,{alias:W});this.resolutions[W]=u(X,"root")?this.bindReference(X):this.createParseContext(X).id}}Oq??=this.node("union",{branches:["string","number","object","bigint","symbol",{unit:!0},{unit:!1},{unit:void 0},{unit:null}]},{prereduced:!0}),this.nodesByHash[Oq.hash]=this.node("intersection",{},{prereduced:!0}),this.intrinsic=S.intrinsic?W0(S.intrinsic,(z,H)=>z.startsWith("json")?[]:[z,this.bindReference(H)]):{}}cacheGetter(w,Q){return Object.defineProperty(this,w,{value:Q}),Q}get internal(){return this}_json;get json(){if(!this._json)this.export();return this._json}defineSchema(w){return w}generic=(...w)=>{let Q=this;return(Y,z)=>new Z8(w,z?new Mz(Y):Y,Q,Q,z??null)};units=(w,Q)=>{let Y=[];for(let H of w)if(!Y.includes(H))Y.push(H);let z=Y.map((H)=>this.node("unit",{unit:H},Q));return this.node("union",z,{...Q,prereduced:!0})};lazyResolutions=[];lazilyResolve(w,Q){let Y=this.node("alias",{reference:Q??"synthetic",resolve:w},{prereduced:!0});if(!this.resolved)this.lazyResolutions.push(Y);return Y}schema=(w,Q)=>this.finalize(this.parseSchema(w,Q));parseSchema=(w,Q)=>this.node(TY(w),w,Q);preparseNode(w,Q,Y){let z=typeof w==="string"?w:TY(Q,w);if(u0(Q)&&Q.kind===z)return Q;if(z==="alias"&&!Y?.prereduced){let{reference:X}=$Y.implementation.normalize(Q,this);if(X.startsWith("$")){let L=this.resolveRoot(X.slice(1));Q=L,z=L.kind}}else if(z==="union"&&L9(Q,"object")){let X=Ib(Q);if(X?.length===1)Q=X[0],z=TY(Q)}if(u0(Q)&&Q.kind===z)return Q;let W=QQ[z].normalize?.(Q,this)??Q;if(u0(W))return W.kind===z?W:_b(z,W.kind);return{...Y,$:this,kind:z,def:W,prefix:Y.alias??z}}bindReference(w){let Q;if(u0(w))Q=w.$===this?w:new w.constructor(w.attachments,this);else Q=w.$===this?w:new Z8(w.params,w.bodyDef,w.$,this,w.hkt);if(!this.resolved)Object.assign(this.referencesById,Q.referencesById);return Q}resolveRoot(w){return this.maybeResolveRoot(w)??V(hW(w))}maybeResolveRoot(w){let Q=this.maybeResolve(w);if(u(Q,"generic"))return;return Q}maybeResolveSubalias(w){return yW(this.aliases,w)??yW(this.ambient,w)}get ambient(){return S.ambient}maybeResolve(w){let Q=this.resolutions[w];if(Q){if(typeof Q!=="string")return this.bindReference(Q);let z=a6[Q];if(u(z,"root"))return this.resolutions[w]=z;if(u(z,"context")){if(z.phase==="resolving")return this.node("alias",{reference:`$${w}`},{prereduced:!0});if(z.phase==="resolved")return b0(`Unexpected resolved context for was uncached by its scope: ${X0(z)}`);z.phase="resolving";let H=this.bindReference(this.parseOwnDefinitionFormat(z.def,z));return z.phase="resolved",a6[H.id]=H,a6[z.id]=H,this.resolutions[w]=H}return b0(`Unexpected nodesById entry for ${Q}: ${X0(z)}`)}let Y=this.aliases[w]??this.ambient?.[w];if(!Y)return this.maybeResolveSubalias(w);if(Y=this.normalizeRootScopeValue(Y),u(Y,"generic"))return this.resolutions[w]=this.bindReference(Y);if(u(Y,"module")){if(!Y.root)V(Mq(w));return this.resolutions[w]=this.bindReference(Y.root)}return this.resolutions[w]=this.parse(Y,{alias:w})}createParseContext(w){let Q=w.id??RW(w.prefix);return a6[Q]=Object.assign(w,{[s6]:"context",$:this,id:Q,phase:"unresolved"})}traversal(w){return new p9(w,this.resolvedConfig)}import(...w){return new HQ(W0(this.export(...w),(Q,Y)=>[`#${Q}`,Y]))}precompilation;_exportedResolutions;_exports;export(...w){if(!this._exports){this._exports={};for(let Y of this.exportedNames){let z=this.aliases[Y];this._exports[Y]=u(z,"module")?xW(z,this):Zq(this.maybeResolve(Y))}for(let Y of this.lazyResolutions)Y.resolution;if(this._exportedResolutions=Aq(this,this._exports),this._json=Bq(this._exportedResolutions),Object.assign(this.resolutions,this._exportedResolutions),this.references=Object.values(this.referencesById),!this.resolvedConfig.jitless){let Y=Kq(this.references);this.precompilation=Y.write(Nq,4),Fq(this.references,Y)}this.resolved=!0}let Q=w.length?w:this.exportedNames;return new HQ(W0(Q,(Y,z)=>[z,this._exports[z]]))}resolve(w){return this.export()[w]}node=(w,Q,Y={})=>{let z=this.preparseNode(w,Q,Y);if(u0(z))return this.bindReference(z);let H=this.createParseContext(z),W=CW(H),X=this.bindReference(W);return a6[H.id]=X};parse=(w,Q={})=>this.finalize(this.parseDefinition(w,Q));parseDefinition(w,Q={}){if(u(w,"root"))return this.bindReference(w);let Y=this.preparseOwnDefinitionFormat(w,Q);if(u(Y,"root"))return this.bindReference(Y);let z=this.createParseContext(Y);a6[z.id]=z;let H=this.bindReference(this.parseOwnDefinitionFormat(w,z));if(H.isCyclic)H=gU(H,z.id);return a6[z.id]=H,H}finalize(w){if(Zq(w),!w.precompilation&&!this.resolvedConfig.jitless)jb(w.references);return w}}class mW extends Pz{parseOwnDefinitionFormat(w,Q){return CW(Q)}preparseOwnDefinitionFormat(w,Q){return this.preparseNode(TY(w),w,Q)}preparseOwnAliasEntry(w,Q){return[w,Q]}normalizeRootScopeValue(w){return w}}var Zq=(w)=>{let Q=w.references.filter((Y)=>Y.hasKind("alias"));for(let Y of Q){Object.assign(Y.referencesById,Y.resolution.referencesById);for(let z of w.references)if(Y.id in z.referencesById)Object.assign(z.referencesById,Y.referencesById)}return w},Bq=(w)=>W0(w,(Q,Y)=>[Q,u(Y,"root")||u(Y,"generic")?Y.json:u(Y,"module")?Bq(Y):b0(`Unexpected resolution ${X0(Y)}`)]),yW=(w,Q)=>{let Y=Q.indexOf(".");if(Y===-1)return;let z=Q.slice(0,Y),H=w[z];if(H===void 0)return;if(!u(H,"module"))return V(kb(z));let W=Q.slice(Y+1),X=H[W];if(X===void 0)return yW(H,W);if(u(X,"root")||u(X,"generic"))return X;if(u(X,"module"))return X.root??V(Mq(Q));b0(`Unexpected resolution for alias '${Q}': ${X0(X)}`)},Ez=(w,Q)=>new mW(w,Q),SY=new mW({});var Aq=(w,Q)=>{let Y={};for(let z in Q){let H=Q[z];if(u(H,"module")){let W=Aq(w,H),X=W0(W,(L,U)=>[`${z}.${L}`,U]);Object.assign(Y,X)}else if(u(H,"root")||u(H,"generic"))Y[z]=H;else b0(`Unexpected scope resolution ${X0(H)}`)}return Y},hW=(w)=>`'${w}' is unresolvable`,kb=(w)=>`'${w}' must reference a module to be accessed using dot syntax`,Mq=(w)=>`Reference to submodule '${w}' must specify an alias`;SY.export();var{schema:I0,node:WQ,defineSchema:ea,generic:y9}=SY;var oW="^(?:0|[1-9]\\d*)$",gb=new RegExp(oW),Yt=z6(gb);var Tq=Ez({bigint:"bigint",boolean:[{unit:!1},{unit:!0}],false:{unit:!1},never:[],null:{unit:null},number:"number",object:"object",string:"string",symbol:"symbol",true:{unit:!0},unknown:{},undefined:{unit:void 0},Array,Date},{prereducedAliases:!0}).export();S.intrinsic={...Tq};var Rq=Ez({integer:{domain:"number",divisor:1},lengthBoundable:["string",Array],key:["string","symbol"],nonNegativeIntegerString:{domain:"string",pattern:oW}},{prereducedAliases:!0}).export();Object.assign(S.intrinsic,Rq);var fb=Ez({jsonPrimitive:["string","number",{unit:!0},{unit:!1},{unit:null}],jsonObject:{domain:"object",index:{signature:"string",value:"$jsonData"}},jsonData:["$jsonPrimitive","$jsonObject"]},{prereducedAliases:!0}).export(),i={...Tq,...Rq,...fb,emptyStructure:WQ("structure",{},{prereduced:!0})};S.intrinsic={...i};var Sz=(w,Q)=>new RegExp(w,Q);Object.assign(Sz,{as:Sz});var Dq=(w)=>typeof w==="string"&&w[0]==="d"&&(w[1]==="'"||w[1]==='"')&&w[w.length-1]===w[1],Cq=(w)=>w.toString()!=="Invalid Date",Vq=(w)=>w.slice(2,-1),uW=(w)=>`'${w}' could not be parsed by the Date constructor`,Gq=(w,Q)=>xb(w,Q),xb=(w,Q)=>{let Y=new Date(w);if(Cq(Y))return Y;let z=sL(w);if(z!==void 0){let H=new Date(z);if(Cq(H))return H}return Q?V(Q===!0?uW(w):Q):void 0};var vb=I0({proto:"Array",sequence:"string",required:{key:"groups",value:["object",{unit:void 0}]}}),bz=(w,Q)=>{let Y=w.scanner.shiftUntilEscapable(mb[Eq[Q]]);if(w.scanner.lookahead==="")return w.error(ob(Y,Q));if(w.scanner.shift(),Q in Pq){let z;try{z=new RegExp(Y)}catch(H){V(String(H))}if(w.root=w.ctx.$.node("intersection",{domain:"string",pattern:Y},{prereduced:!0}),Q==="x/")w.root=w.ctx.$.node("morph",{in:w.root,morphs:(H)=>z.exec(H),declaredOut:vb})}else if($6(Q,pW))w.root=w.ctx.$.node("unit",{unit:Y});else{let z=Gq(Y,uW(Y));w.root=w.ctx.$.node("unit",{meta:Y,unit:z})}},pW={"'":1,'"':1},$q={"/":1,"'":1,'"':1},yb={"d'":"'",'d"':'"',"'":"'",'"':'"'},Pq={"/":"/","x/":"/"},Eq={...yb,...Pq},mb={"'":(w)=>w.lookahead==="'",'"':(w)=>w.lookahead==='"',"/":(w)=>w.lookahead==="/"},hb={'"':"double-quote","'":"single-quote","/":"forward slash"},ob=(w,Q)=>`${Q}${w} requires a closing ${hb[Eq[Q]]}`;var Sq=(w)=>`Private type references should not include '#'. Use '${w}' instead.`,Iz="Optional definitions like 'string?' are only valid as properties in an object or tuple",_z="Defaultable definitions like 'number = 0' are only valid as properties in an object or tuple";var qw={"<":1,">":1,"=":1,"|":1,"&":1,")":1,"[":1,"%":1,",":1,":":1,"?":1,"#":1,...L8};var bq=(w,Q)=>w===">"?Q[0]==="="?Q[1]==="=":Q.trimStart()===""||$6(Q.trimStart()[0],qw):w==="="?Q[0]!=="=":w===","||w==="?";var Iq=(w,Q,Y)=>_q(w,Q,Y,[]),_q=(w,Q,Y,z)=>{let H=Y.parseUntilFinalizer();if(z.push(H.root),H.finalizer===">"){if(z.length!==Q.params.length)return Y.error(lW(w,Q.names,z.map((W)=>W.expression)));return z}if(H.finalizer===",")return _q(w,Q,Y,z);return H.error(Zz(">"))},lW=(w,Q,Y)=>`${w}<${Q.join(", ")}> requires exactly ${Q.length} args (got ${Y.length}${Y.length===0?"":`: ${Y.join(", ")}`})`;var jz=(w)=>{let Q=w.scanner.shiftUntilLookahead(qw);if(Q==="keyof")w.addPrefix("keyof");else w.root=pb(w,Q)},ub=(w,Q,Y)=>{if(Y.scanner.shiftUntilNonWhitespace(),Y.scanner.shift()!=="<")return Y.error(lW(w,Q.names,[]));let H=Iq(w,Q,Y);return Q(...H)},pb=(w,Q)=>lb(w,Q)??rb(w,Q)??w.error(Q===""?w.scanner.lookahead==="#"?Sq(w.shiftedBy(1).scanner.shiftUntilLookahead(qw)):rW(w):hW(Q)),lb=(w,Q)=>{if(w.ctx.args?.[Q]){let z=w.ctx.args[Q];if(typeof z!=="string")return z;return w.ctx.$.node("alias",{reference:z},{prereduced:!0})}let Y=w.ctx.$.maybeResolve(Q);if(u(Y,"root"))return Y;if(Y===void 0)return;if(u(Y,"generic"))return ub(Q,Y,w);return V(`Unexpected resolution ${X0(Y)}`)},rb=(w,Q)=>{let Y=aL(Q);if(Y!==void 0)return w.ctx.$.node("unit",{unit:Y});let z=eL(Q);if(z!==void 0)return w.ctx.$.node("unit",{unit:z})},rW=(w)=>{let Q=w.previousOperator();return Q?cW(Q,w.scanner.unscanned):cb(w.scanner.unscanned)},cW=(w,Q="")=>`Token '${w}' requires a right operand${Q?` before '${Q}'`:""}`,cb=(w)=>`Expected an expression${w?` before '${w}'`:""}`;var dW=(w)=>w.scanner.lookahead===""?w.error(rW(w)):w.scanner.lookahead==="("?w.shiftedBy(1).reduceGroupOpen():w.scanner.lookaheadIsIn($q)?bz(w,w.scanner.shift()):w.scanner.lookaheadIsIn(L8)?dW(w.shiftedBy(1)):w.scanner.lookahead==="d"?w.scanner.nextLookahead in pW?bz(w,`${w.scanner.shift()}${w.scanner.shift()}`):jz(w):w.scanner.lookahead==="x"?w.scanner.nextLookahead==="/"?w.shiftedBy(2)&&bz(w,"x/"):jz(w):jz(w);var jq={">":!0,">=":!0},kq={"<":!0,"<=":!0};var XQ={"<":">",">":"<","<=":">=",">=":"<=","==":"=="},gq=(w,Q)=>`Left bounds are only valid when paired with right bounds (try ...${Q}${w})`,kz=(w)=>`Left-bounded expressions must specify their limits using < or <= (was ${w})`,fq=(w,Q,Y,z)=>`An expression may have at most one left bound (parsed ${w}${XQ[Q]}, ${Y}${XQ[z]})`;var vq=(w,Q)=>{let Y=db(w,Q);if(w.root.hasKind("unit")){if(typeof w.root.unit==="number"){w.reduceLeftBound(w.root.unit,Y),w.unsetRoot();return}if(w.root.unit instanceof Date){let z=`d'${w.root.description??w.root.unit.toISOString()}'`;w.unsetRoot(),w.reduceLeftBound(z,Y);return}}return nb(w,Y)},yq={"<":1,">":1,"=":1},db=(w,Q)=>w.scanner.lookaheadIs("=")?`${Q}${w.scanner.shift()}`:Q;var xq=(w,Q,Y,z)=>{if(Y.extends(S.intrinsic.number)){if(typeof Q!=="number")return V(iW(w,Q,z));return w==="=="?["min","max"]:w[0]===">"?["min"]:["max"]}if(Y.extends(S.intrinsic.lengthBoundable)){if(typeof Q!=="number")return V(iW(w,Q,z));return w==="=="?["exactLength"]:w[0]===">"?["minLength"]:["maxLength"]}if(Y.extends(S.intrinsic.Date))return w==="=="?["after","before"]:w[0]===">"?["after"]:["before"];return V(CU(Y.expression))},ib=(w)=>({rule:Dq(w.limit)?Vq(w.limit):w.limit,exclusive:w.comparator.length===1}),nb=(w,Q)=>{let Y=w.unsetRoot(),z=w.scanner.location;w.parseOperand();let H=w.unsetRoot(),W=w.scanner.sliceChars(z,w.scanner.location);if(w.root=Y,!H.hasKind("unit")||typeof H.unit!=="number"&&!(H.unit instanceof Date))return w.error(iW(Q,W,"right"));let X=H.unit,L=Q.length===1,U=xq(Q,typeof X==="number"?X:W,Y,"right");for(let Z of U)w.constrainRoot(Z,Q==="=="?{rule:X}:{rule:X,exclusive:L});if(!w.branches.leftBound)return;if(!$6(Q,kq))return w.error(kz(Q));let q=xq(w.branches.leftBound.comparator,w.branches.leftBound.limit,Y,"left");w.constrainRoot(q[0],ib(w.branches.leftBound)),w.branches.leftBound=null},iW=(w,Q,Y)=>`Comparator ${Y==="left"?XQ[w]:w} must be ${Y==="left"?"preceded":"followed"} by a corresponding literal (was ${Q})`;var mq=(w)=>{w.scanner.shiftUntilNonWhitespace();let Q=w.scanner.shiftUntilLookahead(qw);w.root=w.root.brand(Q)};var oq=(w)=>{w.scanner.shiftUntilNonWhitespace();let Q=w.scanner.shiftUntilLookahead(qw),Y=tL(Q,{errorOnFail:hq(Q)});if(Y===0)w.error(hq(0));w.root=w.root.constrain("divisor",Y)},hq=(w)=>`% operator must be followed by a non-zero integer literal (was ${w})`;var nW=(w)=>{let Q=w.scanner.shift();return Q===""?w.finalize(""):Q==="["?w.scanner.shift()==="]"?w.setRoot(w.root.array()):w.error(sb):Q==="|"?w.scanner.lookahead===">"?w.shiftedBy(1).pushRootToBranch("|>"):w.pushRootToBranch(Q):Q==="&"?w.pushRootToBranch(Q):Q===")"?w.finalizeGroup():bq(Q,w.scanner.unscanned)?w.finalize(Q):$6(Q,yq)?vq(w,Q):Q==="%"?oq(w):Q==="#"?mq(w):(Q in L8)?nW(w):w.error(gz(Q))},gz=(w,Q="")=>`'${w}' is not allowed here${Q&&` (should be ${Q})`}`,sb="Missing expected ']'";var uq=(w)=>{let Q=w.unsetRoot();w.parseOperand();let Y=w.unsetRoot();if(!Y.hasKind("unit"))return w.error(ab(Y.expression));let z=Y.unit instanceof Date?()=>new Date(Y.unit):Y.unit;return[Q,"=",z]},ab=(w)=>`Default value '${w}' must be a literal value`;var sW=(w,Q)=>{let Y=Q.$.maybeResolveRoot(w);if(Y)return Y;if(w.endsWith("[]")){let W=Q.$.maybeResolveRoot(w.slice(0,-2));if(W)return W.array()}let z=new JQ(new NY(w),Q),H=tb(z);if(z.finalizer===">")V(gz(">"));return H},tb=(w)=>{w.parseOperand();let Q=bY(w).root;if(!Q)return b0(`Root was unexpectedly unset after parsing string '${w.scanner.scanned}'`);if(w.finalizer==="=")Q=uq(w);else if(w.finalizer==="?")Q=[Q,"?"];if(w.scanner.shiftUntilNonWhitespace(),w.scanner.lookahead)V(gz(w.scanner.lookahead));return Q},bY=(w)=>{while(w.finalizer===void 0)eb(w);return w},eb=(w)=>w.hasRoot()?w.parseOperator():w.parseOperand();class JQ{root;branches={prefixes:[],leftBound:null,intersection:null,union:null,pipe:null};finalizer;groups=[];scanner;ctx;constructor(w,Q){this.scanner=w,this.ctx=Q}error(w){return V(w)}hasRoot(){return this.root!==void 0}setRoot(w){this.root=w}unsetRoot(){let w=this.root;return this.root=void 0,w}constrainRoot(...w){this.root=this.root.constrain(w[0],w[1])}finalize(w){if(this.groups.length)return this.error(Zz(")"));this.finalizeBranches(),this.finalizer=w}reduceLeftBound(w,Q){let Y=XQ[Q];if(!$6(Y,jq))return this.error(kz(Q));if(this.branches.leftBound)return this.error(fq(this.branches.leftBound.limit,this.branches.leftBound.comparator,w,Y));this.branches.leftBound={comparator:Y,limit:w}}finalizeBranches(){if(this.assertRangeUnset(),this.branches.pipe){this.pushRootToBranch("|>"),this.root=this.branches.pipe;return}if(this.branches.union){this.pushRootToBranch("|"),this.root=this.branches.union;return}if(this.branches.intersection){this.pushRootToBranch("&"),this.root=this.branches.intersection;return}this.applyPrefixes()}finalizeGroup(){this.finalizeBranches();let w=this.groups.pop();if(!w)return this.error(zU(")",this.scanner.unscanned));this.branches=w}addPrefix(w){this.branches.prefixes.push(w)}applyPrefixes(){while(this.branches.prefixes.length){let w=this.branches.prefixes.pop();this.root=w==="keyof"?this.root.keyof():b0(`Unexpected prefix '${w}'`)}}pushRootToBranch(w){this.assertRangeUnset(),this.applyPrefixes();let Q=this.root;if(this.root=void 0,this.branches.intersection=this.branches.intersection?.rawAnd(Q)??Q,w==="&")return;if(this.branches.union=this.branches.union?.rawOr(this.branches.intersection)??this.branches.intersection,this.branches.intersection=null,w==="|")return;this.branches.pipe=this.branches.pipe?.rawPipeOnce(this.branches.union)??this.branches.union,this.branches.union=null}parseUntilFinalizer(){return bY(new JQ(this.scanner,this.ctx))}parseOperator(){return nW(this)}parseOperand(){return dW(this)}assertRangeUnset(){if(this.branches.leftBound)return this.error(gq(this.branches.leftBound.limit,this.branches.leftBound.comparator))}reduceGroupOpen(){this.groups.push(this.branches),this.branches={prefixes:[],leftBound:null,union:null,intersection:null,pipe:null}}previousOperator(){return this.branches.leftBound?.comparator??this.branches.prefixes[this.branches.prefixes.length-1]??(this.branches.intersection?"&":this.branches.union?"|":this.branches.pipe?"|>":void 0)}shiftedBy(w){return this.scanner.jumpForward(w),this}}var w2="An empty string is not a valid generic parameter name",fz=(w,Q,Y)=>{w.shiftUntilNonWhitespace();let z=w.shiftUntilLookahead(qw);if(z===""){if(w.lookahead===""&&Q.length)return Q;return V(w2)}return w.shiftUntilNonWhitespace(),Q2(w,z,Q,Y)},pq="extends ",Q2=(w,Q,Y,z)=>{if(w.shiftUntilNonWhitespace(),w.unscanned.startsWith(pq))w.jumpForward(pq.length);else{if(w.lookahead===",")w.shift();return Y.push(Q),fz(w,Y,z)}let H=bY(new JQ(w,z));return Y.push([Q,H.root]),fz(w,Y,z)};class aW extends O9{constructor(w){let Q={$:w,raw:w.fn};super((...Y)=>{let z=Y.indexOf(":"),H=z===-1?Y.length-1:z-1,W=Y.slice(0,H+1),X=w.parse(W).assertHasKind("intersection"),L=w.intrinsic.unknown;if(z!==-1){if(z!==Y.length-2)return V(Y2);L=w.parse(Y[z+1])}return(U)=>new lq(U,X,L)},{attach:Q})}}class lq extends O9{raw;params;returns;expression;constructor(w,Q,Y){let z=`typed ${w.name}`,H={[z]:(...X)=>{let L=Q.assert(X),U=w(...L);return Y.assert(U)}}[z];super(H);this.raw=w,this.params=Q,this.returns=Y;let W=Q.expression;if(W[0]==="["&&W[W.length-1]==="]")W=W.slice(1,-1);else if(W.endsWith("[]"))W=`...${W}`;this.expression=`(${W}) => ${Y?.expression??"unknown"}`}}var Y2=`":" must be followed by exactly one return type e.g:
fn("string", ":", "number")(s => s.length)`;class tW extends O9{$;constructor(w){super((...Q)=>new IY(w)(...Q),{bind:w});this.$=w}in(w){return new IY(this.$,w===void 0?void 0:this.$.parse(w))}at(w,Q){return new IY(this.$).at(w,Q)}case(w,Q){return new IY(this.$).case(w,Q)}}class IY extends O9{$;in;key;branches=[];constructor(w,Q){super((Y)=>this.caseEntries(Object.entries(Y).map(([z,H])=>z==="default"?[z,H]:[this.$.parse(z),H])));this.$=w,this.in=Q}at(w,Q){if(this.key)V(H2);if(this.branches.length)V(z2);return this.key=w,Q?this.match(Q):this}case(w,Q){return this.caseEntry(this.$.parse(w),Q)}caseEntry(w,Q){let z=(this.key?this.$.parse({[this.key]:w}):w).pipe(Q);return this.branches.push(z),this}match(w){return this(w)}strings(w){return this.caseEntries(Object.entries(w).map(([Q,Y])=>Q==="default"?[Q,Y]:[this.$.node("unit",{unit:Q}),Y]))}caseEntries(w){for(let Q=0;Q<w.length;Q++){let[Y,z]=w[Q];if(Y==="default"){if(Q!==w.length-1)V("default may only be specified as the last key of a switch definition");return this.default(z)}if(typeof z!=="function")return V(`Value for case "${Y}" must be a function (was ${G6(z)})`);this.caseEntry(Y,z)}return this}default(w){if(typeof w==="function")this.case(i.unknown,w);let Q={branches:this.branches,ordered:!0};if(w==="never"||w==="assert")Q.meta={onFail:rq};let Y=this.$.node("union",Q);if(!this.in)return this.$.finalize(Y);let z=this.in.pipe(Y);if(w==="never"||w==="assert")z=z.configureReferences({onFail:rq},"self");return this.$.finalize(z)}}var rq=(w)=>w.throw(),z2="A key matcher must be specified before the first case i.e. match.at('foo') or match.in<object>().at('bar')",H2="At most one key matcher may be specified per expression";var xz=(w,Q)=>{if(y0(w)){if(w[1]==="=")return[Q.$.parseOwnDefinitionFormat(w[0],Q),"=",w[2]];if(w[1]==="?")return[Q.$.parseOwnDefinitionFormat(w[0],Q),"?"]}return vz(w,Q)},cq="Only required keys may make their values optional, e.g. { [mySymbol]: ['number', '?'] }",dq="Only required keys may specify default values, e.g. { value: 'number = 0' }";var iq=(w,Q)=>{let Y,z={},H=w4(w);for(let[X,L]of H){let U=J2(X);if(U.kind==="spread"){if(!Lw(z))return V(X2);let A=Q.$.parseOwnDefinitionFormat(L,Q);if(A.equals(i.object))continue;if(!A.hasKind("intersection")||!A.basis?.equals(i.object))return V(L2(A.expression));Y=A.structure;continue}if(U.kind==="undeclared"){if(L!=="reject"&&L!=="delete"&&L!=="ignore")V(W2(L));z.undeclared=L;continue}let q=xz(L,Q),Z=U;if(U.kind==="required"){if(!y0(q))eW(z,"required",{key:U.normalized,value:q},Q);else eW(z,"optional",q[1]==="="?{key:U.normalized,value:q[0],default:q[2]}:{key:U.normalized,value:q[0]},Q);continue}if(y0(q)){if(q[1]==="?")V(cq);if(q[1]==="=")V(dq)}if(U.kind==="optional"){eW(z,"optional",{key:U.normalized,value:q},Q);continue}let K=Q.$.parseOwnDefinitionFormat(Z.normalized,Q),B=$z(K,q,Q.$);if(B.index)z.index=D0(z.index,B.index);if(B.required)z.required=D0(z.required,B.required)}let W=Q.$.node("structure",z);return Q.$.parseSchema({domain:"object",structure:Y?.merge(W)??W})},eW=(w,Q,Y,z)=>{w[Q]=D0(w[Q],z.$.node(Q,Y))},W2=(w)=>`Value of '+' key must be 'reject', 'delete', or 'ignore' (was ${X0(w)})`,X2="Spread operator may only be used as the first key in an object",J2=(w)=>typeof w==="symbol"?{kind:"required",normalized:w}:w[w.length-1]==="?"?w[w.length-2]===Y4?{kind:"required",normalized:`${w.slice(0,-2)}?`}:{kind:"optional",normalized:w.slice(0,-1)}:w[0]==="["&&w[w.length-1]==="]"?{kind:"index",normalized:w.slice(1,-1)}:w[0]===Y4&&w[1]==="["&&w[w.length-1]==="]"?{kind:"required",normalized:w.slice(1)}:w==="..."?{kind:"spread"}:w==="+"?{kind:"undeclared"}:{kind:"required",normalized:w==="\\..."?"...":w==="\\+"?"+":w},L2=(w)=>`Spread operand must resolve to an object literal type (was ${w})`;var sq=(w,Q)=>M2(w)?w1[w[0]](w,Q):B2(w)?eq[w[1]](w,Q):null,U2=(w,Q)=>Q.$.parseOwnDefinitionFormat(w[1],Q).keyof(),wX=(w,Q)=>{if(w[2]===void 0)return V(cW(w[1],""));let Y=Q.$.parseOwnDefinitionFormat(w[0],Q),z=Q.$.parseOwnDefinitionFormat(w[2],Q);if(w[1]==="|")return Q.$.node("union",{branches:[Y,z]});let H=w[1]==="&"?F9(Y,z,Q.$):MY(Y,z,Q.$);if(H instanceof g)return H.throw();return H},q2=(w,Q)=>Q.$.parseOwnDefinitionFormat(w[0],Q).array(),O2=(w,Q)=>{if(typeof w[2]!=="function")return V(aq("=>",w[2]));return Q.$.parseOwnDefinitionFormat(w[0],Q).pipe(w[2])},aq=(w,Q)=>`${w===":"?"Narrow":"Morph"} expression requires a function following '${w}' (was ${typeof Q})`,Z2=(w,Q)=>{if(typeof w[2]!=="function")return V(aq(":",w[2]));return Q.$.parseOwnDefinitionFormat(w[0],Q).constrain("predicate",w[2])},N2=(w,Q)=>Q.$.parseOwnDefinitionFormat(w[0],Q).configure(w[2],w[3]),tq=(w)=>w,F2=tq({"[]":q2,"?":()=>V(Iz)}),K2=tq({"|":wX,"&":wX,":":Z2,"=>":O2,"|>":wX,"@":N2,"=":()=>V(_z)}),eq={...F2,...K2},B2=(w)=>eq[w[1]]!==void 0,A2=(w)=>w,w1=A2({keyof:U2,instanceof:(w,Q)=>{if(typeof w[1]!=="function")return V(nq(XY(w[1])));let Y=w.slice(1).map((z)=>typeof z==="function"?Q.$.node("proto",{proto:z}):V(nq(XY(z))));return Y.length===1?Y[0]:Q.$.node("union",{branches:Y})},"===":(w,Q)=>Q.$.units(w.slice(1))}),M2=(w)=>w1[w[0]]!==void 0,nq=(w)=>`Expected a constructor following 'instanceof' operator (was ${w})`;var z1=(w,Q)=>{let Y=[{}],z=0;while(z<w.length){let H=!1;if(w[z]==="..."&&z<w.length-1)H=!0,z++;let W=xz(w[z],Q),[X,L,U]=!y0(W)?[W]:W;if(z++,H){if(!X.extends(S.intrinsic.Array))return V(C2(X.expression));Y=Y.flatMap((q)=>X.distribute((Z)=>R2(Fz(q),Z)))}else Y=Y.map((q)=>{if(L==="?")return H1(q,X);if(L==="=")return T2(q,X,U);return QX(q,X)})}return Q.$.parseSchema(Y.map((H)=>Lw(H)?{proto:Array,exactLength:0}:{proto:Array,sequence:H}))},QX=(w,Q)=>{if(w.defaultables||w.optionals)return V(w.variadic?kW:D2);if(w.variadic)w.postfix=D0(w.postfix,Q);else w.prefix=D0(w.prefix,Q);return w},H1=(w,Q)=>{if(w.variadic)return V(W1);return w.optionals=D0(w.optionals,Q),w},T2=(w,Q,Y)=>{if(w.variadic)return V(W1);if(w.optionals)return V(V2);return w.defaultables=D0(w.defaultables,[[Q,Y]]),w},Q1=(w,Q)=>{if(w.postfix)V(Y1);if(w.variadic){if(!w.variadic.equals(Q))V(Y1)}else w.variadic=Q.internal;return w},R2=(w,Q)=>{let Y=Q.select({method:"find",kind:"sequence"});if(!Y)return Q1(w,S.intrinsic.unknown);if(Y.prefix)for(let z of Y.prefix)QX(w,z);if(Y.optionals)for(let z of Y.optionals)H1(w,z);if(Y.variadic)Q1(w,Y.variadic);if(Y.postfix)for(let z of Y.postfix)QX(w,z);return w},C2=(w)=>`Spread element must be an array (was ${w})`,Y1="A tuple may have at most one variadic element",D2="A required element may not follow an optional element",W1="An optional element may not follow a variadic element";var V2="A defaultable element may not follow an optional element without a default";var G2={},vz=(w,Q)=>{if(typeof w==="string"){if(Q.args&&Object.keys(Q.args).some((z)=>w.includes(z)))return sW(w,Q);let Y=G2[Q.$.name]??={};return Y[w]??=sW(w,Q)}return L9(w,"object")?$2(w,Q):V(YX(G6(w)))},$2=(w,Q)=>{let Y=WY(w);switch(Y){case void 0:if(u(w,"root"))return w;if("~standard"in w)return P2(w,Q);return iq(w,Q);case"Array":return E2(w,Q);case"RegExp":return Q.$.node("intersection",{domain:"string",pattern:w},{prereduced:!0});case"Function":{let z=J8(w)?w():w;if(u(z,"root"))return z;return V(YX("Function"))}default:return V(YX(Y??X0(w)))}},P2=(w,Q)=>Q.$.intrinsic.unknown.pipe((Y,z)=>{let H=w["~standard"].validate(Y);if(!H.issues)return H.value;for(let{message:W,path:X}of H.issues)if(X)if(X.length)z.error({problem:lL(W),relativePath:X.map((L)=>typeof L==="object"?L.key:L)});else z.error({message:W});else z.error({message:W})}),E2=(w,Q)=>sq(w,Q)??z1(w,Q),YX=(w)=>`Type definitions must be strings or objects (was ${w})`;class zX extends O9{constructor(w){let Q=Object.assign({errors:Z9,hkt:m6,$:w,raw:w.parse,module:w.constructor.module,scope:w.constructor.scope,declare:w.declare,define:w.define,match:w.match,generic:w.generic,schema:w.schema,keywords:w.ambient,unit:w.unit,enumerated:w.enumerated,instanceOf:w.instanceOf,valueOf:w.valueOf,or:w.or,and:w.and,merge:w.merge,pipe:w.pipe,fn:w.fn},w.ambientAttachments);super((...Y)=>{if(Y.length===1)return w.parse(Y[0]);if(Y.length===2&&typeof Y[0]==="string"&&Y[0][0]==="<"&&Y[0][Y[0].length-1]===">"){let z=Y[0].slice(1,-1),H=w.parseGenericParams(z,{});return new Z8(H,Y[1],w,w,null)}return w.parse(Y)},{attach:Q})}}var LQ=S;class yz extends Pz{get ambientAttachments(){if(!LQ.typeAttachments)return;return this.cacheGetter("ambientAttachments",W0(LQ.typeAttachments,(w,Q)=>[w,this.bindReference(Q)]))}preparseOwnAliasEntry(w,Q){let Y=w.indexOf("<");if(Y===-1){if(u(Q,"module")||u(Q,"generic"))return[w,Q];let W=this.name==="ark"?w:w==="root"?this.name:`${this.name}.${w}`,X=this.resolvedConfig.keywords?.[W];if(X)Q=[Q,"@",X];return[w,Q]}if(w[w.length-1]!==">")V("'>' must be the last character of a generic declaration in a scope");let z=w.slice(0,Y),H=w.slice(Y+1,-1);return[z,()=>{let W=this.parseGenericParams(H,{alias:z});return MU(W,Q,this)}]}parseGenericParams(w,Q){return fz(new NY(w),[],this.createParseContext({...Q,def:w,prefix:"generic"}))}normalizeRootScopeValue(w){if(J8(w)&&!u(w,"generic"))return w();return w}preparseOwnDefinitionFormat(w,Q){return{...Q,def:w,prefix:Q.alias??"type"}}parseOwnDefinitionFormat(w,Q){if(!(Q.alias&&(Q.alias in this.aliases))&&!Q.args)Q.args={this:Q.id};let z=vz(w,Q);if(y0(z)){if(z[1]==="=")return V(_z);if(z[1]==="?")return V(Iz)}return z}unit=(w)=>this.units([w]);valueOf=(w)=>this.units(fL(w));enumerated=(...w)=>this.units(w);instanceOf=(w)=>this.node("proto",{proto:w},{prereduced:!0});or=(...w)=>this.schema(w.map((Q)=>this.parse(Q)));and=(...w)=>w.reduce((Q,Y)=>Q.and(this.parse(Y)),this.intrinsic.unknown);merge=(...w)=>w.reduce((Q,Y)=>Q.merge(this.parse(Y)),this.intrinsic.object);pipe=(...w)=>this.intrinsic.unknown.pipe(...w);fn=new aW(this);match=new tW(this);declare=()=>({type:this.type});define(w){return w}type=new zX(this);static scope=(w,Q={})=>new yz(w,Q);static module=(w,Q={})=>this.scope(w,Q).export()}var HX=Object.assign(yz.scope,{define:(w)=>w}),T0=yz;class X1 extends m6{description='merge an object\'s properties onto another like `Merge(User, { isAdmin: "true" })`'}var S2=y9(["base",i.object],["props",i.object])((w)=>w.base.merge(w.props),X1),J1=T0.module({Key:i.key,Merge:S2});class L1 extends m6{}var b2=y9("element")((w)=>{let Q=w.element.exclude(i.Array),Y=Q.array();return Q.rawOr(Y).pipe(X8).distribute((z)=>z.assertHasKind("morph").declareOut(Y),I0)},L1),U1=T0.module({root:i.Array,readonly:"root",index:i.nonNegativeIntegerString,liftFrom:b2},{name:"Array"});var WX=I0(["string",z4.FileConstructor]),I2=WX.rawOr(WX.array()),q1=I0({meta:"an object representing parsed form data",domain:"object",index:{signature:"string",value:I2}}),O1=T0.module({root:["instanceof",FormData],value:WX,parsed:q1,parse:I0({in:FormData,morphs:(w)=>{let Q={};for(let[Y,z]of w)if(Y in Q){let H=Q[Y];if(typeof H==="string"||H instanceof z4.FileConstructor)Q[Y]=[H,z];else H.push(z)}else Q[Y]=z;return Q},declaredOut:q1})},{name:"FormData"});var Z1=T0.module({Int8:["instanceof",Int8Array],Uint8:["instanceof",Uint8Array],Uint8Clamped:["instanceof",Uint8ClampedArray],Int16:["instanceof",Int16Array],Uint16:["instanceof",Uint16Array],Int32:["instanceof",Int32Array],Uint32:["instanceof",Uint32Array],Float32:["instanceof",Float32Array],Float64:["instanceof",Float64Array],BigInt64:["instanceof",BigInt64Array],BigUint64:["instanceof",BigUint64Array]},{name:"TypedArray"});var _2={Boolean:1,Number:1,String:1},N1=T0.module({...W0({...cH,...iH},(w,Q)=>(w in _2)?[]:[w,["instanceof",Q]]),Array:U1,TypedArray:Z1,FormData:O1});var j2=I0({domain:{domain:"number",meta:"a number representing a Unix timestamp"},divisor:{rule:1,meta:"an integer representing a Unix timestamp"},min:{rule:-8640000000000000,meta:"a Unix timestamp after -8640000000000000"},max:{rule:8640000000000000,meta:"a Unix timestamp before 8640000000000000"},meta:"an integer representing a safe Unix timestamp"}),k2=I0({domain:"number",divisor:1}),mz=T0.module({root:i.number,integer:k2,epoch:j2,safe:I0({domain:{domain:"number",numberAllowsNaN:!1},min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER}),NaN:["===",Number.NaN],Infinity:["===",Number.POSITIVE_INFINITY],NegativeInfinity:["===",Number.NEGATIVE_INFINITY]},{name:"number"});var n0=(w,Q,Y)=>{let z={domain:"string",pattern:{rule:w.source,flags:w.flags,meta:Q}};if(Y)z.meta={format:Y};return WQ("intersection",z)},F1=n0(LY,"a well-formed integer string"),P1=T0.module({root:F1,parse:I0({in:F1,morphs:(w,Q)=>{let Y=Number.parseInt(w);return Number.isSafeInteger(Y)?Y:Q.error("an integer in the range Number.MIN_SAFE_INTEGER to Number.MAX_SAFE_INTEGER")},declaredOut:i.integer})},{name:"string.integer"}),g2=n0(/^[\dA-Fa-f]+$/,"hex characters only"),f2=T0.module({root:n0(/^(?:[\d+/A-Za-z]{4})*(?:[\d+/A-Za-z]{2}==|[\d+/A-Za-z]{3}=)?$/,"base64-encoded"),url:n0(/^(?:[\w-]{4})*(?:[\w-]{2}(?:==|%3D%3D)?|[\w-]{3}(?:=|%3D)?)?$/,"base64url-encoded")},{name:"string.base64"}),K1=n0(/^[A-Z].*$/,"capitalized"),x2=T0.module({root:I0({in:"string",morphs:(w)=>w.charAt(0).toUpperCase()+w.slice(1),declaredOut:K1}),preformatted:K1},{name:"string.capitalize"}),v2=(w)=>{let Q=w.replace(/[ -]+/g,""),Y=0,z,H,W=!1;for(let X=Q.length-1;X>=0;X--){if(z=Q.substring(X,X+1),H=Number.parseInt(z,10),W)H*=2,Y+=H>=10?H%10+1:H;else Y+=H;W=!W}return!!(Y%10===0?Q:!1)},y2=/^(?:4\d{12}(?:\d{3,6})?|5[1-5]\d{14}|(222[1-9]|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}|6(?:011|5\d\d)\d{12,15}|3[47]\d{13}|3(?:0[0-5]|[68]\d)\d{11}|(?:2131|1800|35\d{3})\d{11}|6[27]\d{14}|^(81\d{14,17}))$/,m2=I0({domain:"string",pattern:{meta:"a credit card number",rule:y2.source},predicate:{meta:"a credit card number",predicate:v2}});var h2=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))(T((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([,.]\d+(?!:))?)?(\17[0-5]\d([,.]\d+)?)?([Zz]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;var o2=(w)=>!Number.isNaN(new Date(w).valueOf()),B1=I0({domain:"string",predicate:{meta:"a parsable date",predicate:o2}}).assertHasKind("intersection"),A1=P1.root.internal.narrow((w,Q)=>{let Y=Number.parseInt(w),z=mz.epoch(Y);if(z instanceof Z9)return Q.errors.merge(z),!1;return!0}).configure({description:"an integer string representing a safe Unix timestamp"},"self").assertHasKind("intersection"),u2=T0.module({root:A1,parse:I0({in:A1,morphs:(w)=>new Date(w),declaredOut:i.Date})},{name:"string.date.epoch"}),M1=n0(h2,"an ISO 8601 (YYYY-MM-DDTHH:mm:ss.sssZ) date").internal.assertHasKind("intersection"),p2=T0.module({root:M1,parse:I0({in:M1,morphs:(w)=>new Date(w),declaredOut:i.Date})},{name:"string.date.iso"}),l2=T0.module({root:B1,parse:I0({declaredIn:B1,in:"string",morphs:(w,Q)=>{let Y=new Date(w);if(Number.isNaN(Y.valueOf()))return Q.error("a parsable date");return Y},declaredOut:i.Date}),iso:p2,epoch:u2},{name:"string.date"}),r2=n0(/^[\w%+.-]+@[\d.A-Za-z-]+\.[A-Za-z]{2,}$/,"an email address","email"),T1="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",N8=`(${T1}[.]){3}${T1}`,c2=new RegExp(`^${N8}$`),M6="(?:[0-9a-fA-F]{1,4})",d2=new RegExp(`^((?:${M6}:){7}(?:${M6}|:)|(?:${M6}:){6}(?:${N8}|:${M6}|:)|(?:${M6}:){5}(?::${N8}|(:${M6}){1,2}|:)|(?:${M6}:){4}(?:(:${M6}){0,1}:${N8}|(:${M6}){1,3}|:)|(?:${M6}:){3}(?:(:${M6}){0,2}:${N8}|(:${M6}){1,4}|:)|(?:${M6}:){2}(?:(:${M6}){0,3}:${N8}|(:${M6}){1,5}|:)|(?:${M6}:){1}(?:(:${M6}){0,4}:${N8}|(:${M6}){1,6}|:)|(?::((?::${M6}){0,5}:${N8}|(?::${M6}){1,7}|:)))(%[0-9a-zA-Z.]{1,})?$`),i2=T0.module({root:["v4 | v6","@","an IP address"],v4:n0(c2,"an IPv4 address","ipv4"),v6:n0(d2,"an IPv6 address","ipv6")},{name:"string.ip"}),UQ="a JSON string",E1=(w)=>{if(!(w instanceof SyntaxError))throw w;return`must be ${UQ} (${w})`},n2=I0({meta:UQ,domain:"string",predicate:{meta:UQ,predicate:(w,Q)=>{try{return JSON.parse(w),!0}catch(Y){return Q.reject({code:"predicate",expected:UQ,problem:E1(Y)})}}}}),s2=(w,Q)=>{if(w.length===0)return Q.error({code:"predicate",expected:UQ,actual:"empty"});try{return JSON.parse(w)}catch(Y){return Q.error({code:"predicate",expected:UQ,problem:E1(Y)})}},a2=T0.module({root:n2,parse:I0({meta:"safe JSON string parser",in:"string",morphs:s2,declaredOut:i.jsonObject})},{name:"string.json"}),R1=n0(/^[a-z]*$/,"only lowercase letters"),t2=T0.module({root:I0({in:"string",morphs:(w)=>w.toLowerCase(),declaredOut:R1}),preformatted:R1},{name:"string.lower"}),S1=["NFC","NFD","NFKC","NFKD"],_Y=W0(S1,(w,Q)=>[Q,I0({domain:"string",predicate:(Y)=>Y.normalize(Q)===Y,meta:`${Q}-normalized unicode`})]),hz=W0(S1,(w,Q)=>[Q,I0({in:"string",morphs:(Y)=>Y.normalize(Q),declaredOut:_Y[Q]})]),e2=T0.module({root:hz.NFC,preformatted:_Y.NFC},{name:"string.normalize.NFC"}),wI=T0.module({root:hz.NFD,preformatted:_Y.NFD},{name:"string.normalize.NFD"}),QI=T0.module({root:hz.NFKC,preformatted:_Y.NFKC},{name:"string.normalize.NFKC"}),YI=T0.module({root:hz.NFKD,preformatted:_Y.NFKD},{name:"string.normalize.NFKD"}),zI=T0.module({root:"NFC",NFC:e2,NFD:wI,NFKC:QI,NFKD:YI},{name:"string.normalize"}),C1=n0(qz,"a well-formed numeric string"),HI=T0.module({root:C1,parse:I0({in:C1,morphs:(w)=>Number.parseFloat(w),declaredOut:i.number})},{name:"string.numeric"}),D1="a regex pattern",WI=I0({domain:"string",predicate:{meta:D1,predicate:(w,Q)=>{try{return new RegExp(w),!0}catch(Y){return Q.reject({code:"predicate",expected:D1,problem:String(Y)})}}},meta:{format:"regex"}}),XI=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[A-Za-z-][\dA-Za-z-]*)(?:\.(?:0|[1-9]\d*|\d*[A-Za-z-][\dA-Za-z-]*))*))?(?:\+([\dA-Za-z-]+(?:\.[\dA-Za-z-]+)*))?$/,JI=n0(XI,"a semantic version (see https://semver.org/)"),V1=n0(/^\S.*\S$|^\S?$/,"trimmed"),LI=T0.module({root:I0({in:"string",morphs:(w)=>w.trim(),declaredOut:V1}),preformatted:V1},{name:"string.trim"}),G1=n0(/^[A-Z]*$/,"only uppercase letters"),UI=T0.module({root:I0({in:"string",morphs:(w)=>w.toUpperCase(),declaredOut:G1}),preformatted:G1},{name:"string.upper"}),qI=(w)=>URL.canParse(w),$1=I0({domain:"string",predicate:{meta:"a URL string",predicate:qI},meta:{format:"uri"}}),OI=T0.module({root:$1,parse:I0({declaredIn:$1,in:"string",morphs:(w,Q)=>{try{return new URL(w)}catch{return Q.error("a URL string")}},declaredOut:I0(URL)})},{name:"string.url"}),ZI=T0.module({root:["versioned | nil | max","@",{description:"a UUID",format:"uuid"}],"#nil":"'00000000-0000-0000-0000-000000000000'","#max":"'ffffffff-ffff-ffff-ffff-ffffffffffff'","#versioned":/[\da-f]{8}-[\da-f]{4}-[1-8][\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}/i,v1:n0(/^[\da-f]{8}-[\da-f]{4}-1[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv1"),v2:n0(/^[\da-f]{8}-[\da-f]{4}-2[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv2"),v3:n0(/^[\da-f]{8}-[\da-f]{4}-3[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv3"),v4:n0(/^[\da-f]{8}-[\da-f]{4}-4[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv4"),v5:n0(/^[\da-f]{8}-[\da-f]{4}-5[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv5"),v6:n0(/^[\da-f]{8}-[\da-f]{4}-6[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv6"),v7:n0(/^[\da-f]{8}-[\da-f]{4}-7[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv7"),v8:n0(/^[\da-f]{8}-[\da-f]{4}-8[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv8")},{name:"string.uuid"}),b1=T0.module({root:i.string,alpha:n0(/^[A-Za-z]*$/,"only letters"),alphanumeric:n0(/^[\dA-Za-z]*$/,"only letters and digits 0-9"),hex:g2,base64:f2,capitalize:x2,creditCard:m2,date:l2,digits:n0(/^\d*$/,"only digits 0-9"),email:r2,integer:P1,ip:i2,json:a2,lower:t2,normalize:zI,numeric:HI,regex:WI,semver:JI,trim:LI,upper:UI,url:OI,uuid:ZI},{name:"string"});var I1=T0.module({bigint:i.bigint,boolean:i.boolean,false:i.false,never:i.never,null:i.null,number:i.number,object:i.object,string:i.string,symbol:i.symbol,true:i.true,unknown:i.unknown,undefined:i.undefined}),_1=T0.module({root:i.unknown,any:i.unknown},{name:"unknown"}),NI=T0.module({root:i.jsonObject,stringify:WQ("morph",{in:i.jsonObject,morphs:(w)=>JSON.stringify(w),declaredOut:i.string})},{name:"object.json"}),j1=T0.module({root:i.object,json:NI},{name:"object"});class k1 extends m6{description='instantiate an object from an index signature and corresponding value type like `Record("string", "number")`'}var FI=y9(["K",i.key],"V")((w)=>({domain:"object",index:{signature:w.K,value:w.V}}),k1);class g1 extends m6{description='pick a set of properties from an object like `Pick(User, "name | age")`'}var KI=y9(["T",i.object],["K",i.key])((w)=>w.T.pick(w.K),g1);class f1 extends m6{description='omit a set of properties from an object like `Omit(User, "age")`'}var BI=y9(["T",i.object],["K",i.key])((w)=>w.T.omit(w.K),f1);class x1 extends m6{description="make all named properties of an object optional like `Partial(User)`"}var AI=y9(["T",i.object])((w)=>w.T.partial(),x1);class v1 extends m6{description="make all named properties of an object required like `Required(User)`"}var MI=y9(["T",i.object])((w)=>w.T.required(),v1);class y1 extends m6{description='exclude branches of a union like `Exclude("boolean", "true")`'}var TI=y9("T","U")((w)=>w.T.exclude(w.U),y1);class m1 extends m6{description='extract branches of a union like `Extract("0 | false | 1", "number")`'}var RI=y9("T","U")((w)=>w.T.extract(w.U),m1),h1=T0.module({Exclude:TI,Extract:RI,Omit:BI,Partial:AI,Pick:KI,Record:FI,Required:MI});var mw=HX({...I1,...h1,...N1,...J1,string:b1,number:mz,object:j1,unknown:_1},{prereducedAliases:!0,name:"ark"}),P6=mw.export();Object.assign(LQ.ambient,P6);LQ.typeAttachments={string:P6.string.root,number:P6.number.root,bigint:P6.bigint,boolean:P6.boolean,symbol:P6.symbol,undefined:P6.undefined,null:P6.null,object:P6.object.root,unknown:P6.unknown.root,false:P6.false,true:P6.true,never:P6.never,arrayIndex:P6.Array.index,Key:P6.Key,Record:P6.Record,Array:P6.Array.root,Date:P6.Date};var oz=Object.assign(mw.type,LQ.typeAttachments),CI=mw.match,DI=mw.fn,VI=mw.generic,g60=mw.schema,GI=mw.define,$I=mw.declare;var PI=Symbol.for("__confbox_fmt__"),EI=/^(\s+)/,SI=/(\s+)$/;function bI(w,Q={}){let Y=Q.indent===void 0&&Q.preserveIndentation!==!1&&w.slice(0,Q?.sampleSize||1024),z=Q.preserveWhitespace===!1?void 0:{start:EI.exec(w)?.[0]||"",end:SI.exec(w)?.[0]||""};return{sample:Y,whiteSpace:z}}function o1(w,Q,Y){!Q||typeof Q!="object"||Object.defineProperty(Q,PI,{enumerable:!1,configurable:!0,writable:!0,value:bI(w,Y)})}function II(w,Q=!1){let Y=w.length,z=0,H="",W=0,X=16,L=0,U=0,q=0,Z=0,K=0;function B(R,j){let b=0,I=0;for(;b<R;){let _=w.charCodeAt(z);if(_>=48&&_<=57)I=I*16+_-48;else if(_>=65&&_<=70)I=I*16+_-65+10;else if(_>=97&&_<=102)I=I*16+_-97+10;else break;z++,b++}return b<R&&(I=-1),I}function A(R){z=R,H="",W=0,X=16,K=0}function M(){let R=z;if(w.charCodeAt(z)===48)z++;else for(z++;z<w.length&&qQ(w.charCodeAt(z));)z++;if(z<w.length&&w.charCodeAt(z)===46)if(z++,z<w.length&&qQ(w.charCodeAt(z)))for(z++;z<w.length&&qQ(w.charCodeAt(z));)z++;else return K=3,w.substring(R,z);let j=z;if(z<w.length&&(w.charCodeAt(z)===69||w.charCodeAt(z)===101))if(z++,(z<w.length&&w.charCodeAt(z)===43||w.charCodeAt(z)===45)&&z++,z<w.length&&qQ(w.charCodeAt(z))){for(z++;z<w.length&&qQ(w.charCodeAt(z));)z++;j=z}else K=3;return w.substring(R,j)}function T(){let R="",j=z;for(;;){if(z>=Y){R+=w.substring(j,z),K=2;break}let b=w.charCodeAt(z);if(b===34){R+=w.substring(j,z),z++;break}if(b===92){if(R+=w.substring(j,z),z++,z>=Y){K=2;break}switch(w.charCodeAt(z++)){case 34:R+='"';break;case 92:R+="\\";break;case 47:R+="/";break;case 98:R+="\b";break;case 102:R+="\f";break;case 110:R+=`
`;break;case 114:R+="\r";break;case 116:R+="\t";break;case 117:let I=B(4);I>=0?R+=String.fromCharCode(I):K=4;break;default:K=5}j=z;continue}if(b>=0&&b<=31)if(jY(b)){R+=w.substring(j,z),K=2;break}else K=6;z++}return R}function $(){if(H="",K=0,W=z,U=L,Z=q,z>=Y)return W=Y,X=17;let R=w.charCodeAt(z);if(XX(R)){do z++,H+=String.fromCharCode(R),R=w.charCodeAt(z);while(XX(R));return X=15}if(jY(R))return z++,H+=String.fromCharCode(R),R===13&&w.charCodeAt(z)===10&&(z++,H+=`
`),L++,q=z,X=14;switch(R){case 123:return z++,X=1;case 125:return z++,X=2;case 91:return z++,X=3;case 93:return z++,X=4;case 58:return z++,X=6;case 44:return z++,X=5;case 34:return z++,H=T(),X=10;case 47:let j=z-1;if(w.charCodeAt(z+1)===47){for(z+=2;z<Y&&!jY(w.charCodeAt(z));)z++;return H=w.substring(j,z),X=12}if(w.charCodeAt(z+1)===42){z+=2;let b=Y-1,I=!1;for(;z<b;){let _=w.charCodeAt(z);if(_===42&&w.charCodeAt(z+1)===47){z+=2,I=!0;break}z++,jY(_)&&(_===13&&w.charCodeAt(z)===10&&z++,L++,q=z)}return I||(z++,K=1),H=w.substring(j,z),X=13}return H+=String.fromCharCode(R),z++,X=16;case 45:if(H+=String.fromCharCode(R),z++,z===Y||!qQ(w.charCodeAt(z)))return X=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return H+=M(),X=11;default:for(;z<Y&&G(R);)z++,R=w.charCodeAt(z);if(W!==z){switch(H=w.substring(W,z),H){case"true":return X=8;case"false":return X=9;case"null":return X=7}return X=16}return H+=String.fromCharCode(R),z++,X=16}}function G(R){if(XX(R)||jY(R))return!1;switch(R){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function E(){let R;do R=$();while(R>=12&&R<=15);return R}return{setPosition:A,getPosition:()=>z,scan:Q?E:$,getToken:()=>X,getTokenValue:()=>H,getTokenOffset:()=>W,getTokenLength:()=>z-W,getTokenStartLine:()=>U,getTokenStartCharacter:()=>W-Z,getTokenError:()=>K}}function XX(w){return w===32||w===9}function jY(w){return w===10||w===13}function qQ(w){return w>=48&&w<=57}var u1;(function(w){w[w.lineFeed=10]="lineFeed",w[w.carriageReturn=13]="carriageReturn",w[w.space=32]="space",w[w._0=48]="_0",w[w._1=49]="_1",w[w._2=50]="_2",w[w._3=51]="_3",w[w._4=52]="_4",w[w._5=53]="_5",w[w._6=54]="_6",w[w._7=55]="_7",w[w._8=56]="_8",w[w._9=57]="_9",w[w.a=97]="a",w[w.b=98]="b",w[w.c=99]="c",w[w.d=100]="d",w[w.e=101]="e",w[w.f=102]="f",w[w.g=103]="g",w[w.h=104]="h",w[w.i=105]="i",w[w.j=106]="j",w[w.k=107]="k",w[w.l=108]="l",w[w.m=109]="m",w[w.n=110]="n",w[w.o=111]="o",w[w.p=112]="p",w[w.q=113]="q",w[w.r=114]="r",w[w.s=115]="s",w[w.t=116]="t",w[w.u=117]="u",w[w.v=118]="v",w[w.w=119]="w",w[w.x=120]="x",w[w.y=121]="y",w[w.z=122]="z",w[w.A=65]="A",w[w.B=66]="B",w[w.C=67]="C",w[w.D=68]="D",w[w.E=69]="E",w[w.F=70]="F",w[w.G=71]="G",w[w.H=72]="H",w[w.I=73]="I",w[w.J=74]="J",w[w.K=75]="K",w[w.L=76]="L",w[w.M=77]="M",w[w.N=78]="N",w[w.O=79]="O",w[w.P=80]="P",w[w.Q=81]="Q",w[w.R=82]="R",w[w.S=83]="S",w[w.T=84]="T",w[w.U=85]="U",w[w.V=86]="V",w[w.W=87]="W",w[w.X=88]="X",w[w.Y=89]="Y",w[w.Z=90]="Z",w[w.asterisk=42]="asterisk",w[w.backslash=92]="backslash",w[w.closeBrace=125]="closeBrace",w[w.closeBracket=93]="closeBracket",w[w.colon=58]="colon",w[w.comma=44]="comma",w[w.dot=46]="dot",w[w.doubleQuote=34]="doubleQuote",w[w.minus=45]="minus",w[w.openBrace=123]="openBrace",w[w.openBracket=91]="openBracket",w[w.plus=43]="plus",w[w.slash=47]="slash",w[w.formFeed=12]="formFeed",w[w.tab=9]="tab"})(u1||(u1={})),Array(20).fill(0).map((w,Q)=>" ".repeat(Q));var OQ=200;Array(OQ).fill(0).map((w,Q)=>`
`+" ".repeat(Q)),Array(OQ).fill(0).map((w,Q)=>"\r"+" ".repeat(Q)),Array(OQ).fill(0).map((w,Q)=>`\r
`+" ".repeat(Q)),Array(OQ).fill(0).map((w,Q)=>`
`+"\t".repeat(Q)),Array(OQ).fill(0).map((w,Q)=>"\r"+"\t".repeat(Q)),Array(OQ).fill(0).map((w,Q)=>`\r
`+"\t".repeat(Q));var uz;(function(w){w.DEFAULT={allowTrailingComma:!1}})(uz||(uz={}));function _I(w,Q=[],Y=uz.DEFAULT){let z=null,H=[],W=[];function X(L){Array.isArray(H)?H.push(L):z!==null&&(H[z]=L)}return jI(w,{onObjectBegin:()=>{let L={};X(L),W.push(H),H=L,z=null},onObjectProperty:(L)=>{z=L},onObjectEnd:()=>{H=W.pop()},onArrayBegin:()=>{let L=[];X(L),W.push(H),H=L,z=null},onArrayEnd:()=>{H=W.pop()},onLiteralValue:X,onError:(L,U,q)=>{Q.push({error:L,offset:U,length:q})}},Y),H[0]}function jI(w,Q,Y=uz.DEFAULT){let z=II(w,!1),H=[],W=0;function X(o){return o?()=>W===0&&o(z.getTokenOffset(),z.getTokenLength(),z.getTokenStartLine(),z.getTokenStartCharacter()):()=>!0}function L(o){return o?(d)=>W===0&&o(d,z.getTokenOffset(),z.getTokenLength(),z.getTokenStartLine(),z.getTokenStartCharacter()):()=>!0}function U(o){return o?(d)=>W===0&&o(d,z.getTokenOffset(),z.getTokenLength(),z.getTokenStartLine(),z.getTokenStartCharacter(),()=>H.slice()):()=>!0}function q(o){return o?()=>{W>0?W++:o(z.getTokenOffset(),z.getTokenLength(),z.getTokenStartLine(),z.getTokenStartCharacter(),()=>H.slice())===!1&&(W=1)}:()=>!0}function Z(o){return o?()=>{W>0&&W--,W===0&&o(z.getTokenOffset(),z.getTokenLength(),z.getTokenStartLine(),z.getTokenStartCharacter())}:()=>!0}let K=q(Q.onObjectBegin),B=U(Q.onObjectProperty),A=Z(Q.onObjectEnd),M=q(Q.onArrayBegin),T=Z(Q.onArrayEnd),$=U(Q.onLiteralValue),G=L(Q.onSeparator),E=X(Q.onComment),R=L(Q.onError),j=Y&&Y.disallowComments,b=Y&&Y.allowTrailingComma;function I(){for(;;){let o=z.scan();switch(z.getTokenError()){case 4:_(14);break;case 5:_(15);break;case 3:_(13);break;case 1:j||_(11);break;case 2:_(12);break;case 6:_(16);break}switch(o){case 12:case 13:j?_(10):E();break;case 16:_(1);break;case 15:case 14:break;default:return o}}}function _(o,d=[],z0=[]){if(R(o),d.length+z0.length>0){let $9=z.getToken();for(;$9!==17;){if(d.indexOf($9)!==-1){I();break}else if(z0.indexOf($9)!==-1)break;$9=I()}}}function y(o){let d=z.getTokenValue();return o?$(d):(B(d),H.push(d)),I(),!0}function h(){switch(z.getToken()){case 11:let o=z.getTokenValue(),d=Number(o);isNaN(d)&&(_(2),d=0),$(d);break;case 7:$(null);break;case 8:$(!0);break;case 9:$(!1);break;default:return!1}return I(),!0}function q0(){return z.getToken()!==10?(_(3,[],[2,5]),!1):(y(!1),z.getToken()===6?(G(":"),I(),M0()||_(4,[],[2,5])):_(5,[],[2,5]),H.pop(),!0)}function a(){K(),I();let o=!1;for(;z.getToken()!==2&&z.getToken()!==17;){if(z.getToken()===5){if(o||_(4,[],[]),G(","),I(),z.getToken()===2&&b)break}else o&&_(6,[],[]);q0()||_(4,[],[2,5]),o=!0}return A(),z.getToken()!==2?_(7,[2],[]):I(),!0}function C0(){M(),I();let o=!0,d=!1;for(;z.getToken()!==4&&z.getToken()!==17;){if(z.getToken()===5){if(d||_(4,[],[]),G(","),I(),z.getToken()===4&&b)break}else d&&_(6,[],[]);o?(H.push(0),o=!1):H[H.length-1]++,M0()||_(4,[],[4,5]),d=!0}return T(),o||H.pop(),z.getToken()!==4?_(8,[4],[]):I(),!0}function M0(){switch(z.getToken()){case 3:return C0();case 1:return a();case 10:return y(!0);default:return h()}}return I(),z.getToken()===17?Y.allowEmptyContent?!0:(_(4,[],[]),!1):M0()?(z.getToken()!==17&&_(9,[],[]),!0):(_(4,[],[]),!1)}var p1;(function(w){w[w.None=0]="None",w[w.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",w[w.UnexpectedEndOfString=2]="UnexpectedEndOfString",w[w.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",w[w.InvalidUnicode=4]="InvalidUnicode",w[w.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",w[w.InvalidCharacter=6]="InvalidCharacter"})(p1||(p1={}));var l1;(function(w){w[w.OpenBraceToken=1]="OpenBraceToken",w[w.CloseBraceToken=2]="CloseBraceToken",w[w.OpenBracketToken=3]="OpenBracketToken",w[w.CloseBracketToken=4]="CloseBracketToken",w[w.CommaToken=5]="CommaToken",w[w.ColonToken=6]="ColonToken",w[w.NullKeyword=7]="NullKeyword",w[w.TrueKeyword=8]="TrueKeyword",w[w.FalseKeyword=9]="FalseKeyword",w[w.StringLiteral=10]="StringLiteral",w[w.NumericLiteral=11]="NumericLiteral",w[w.LineCommentTrivia=12]="LineCommentTrivia",w[w.BlockCommentTrivia=13]="BlockCommentTrivia",w[w.LineBreakTrivia=14]="LineBreakTrivia",w[w.Trivia=15]="Trivia",w[w.Unknown=16]="Unknown",w[w.EOF=17]="EOF"})(l1||(l1={}));var kI=_I,r1;(function(w){w[w.InvalidSymbol=1]="InvalidSymbol",w[w.InvalidNumberFormat=2]="InvalidNumberFormat",w[w.PropertyNameExpected=3]="PropertyNameExpected",w[w.ValueExpected=4]="ValueExpected",w[w.ColonExpected=5]="ColonExpected",w[w.CommaExpected=6]="CommaExpected",w[w.CloseBraceExpected=7]="CloseBraceExpected",w[w.CloseBracketExpected=8]="CloseBracketExpected",w[w.EndOfFileExpected=9]="EndOfFileExpected",w[w.InvalidCommentToken=10]="InvalidCommentToken",w[w.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",w[w.UnexpectedEndOfString=12]="UnexpectedEndOfString",w[w.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",w[w.InvalidUnicode=14]="InvalidUnicode",w[w.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",w[w.InvalidCharacter=16]="InvalidCharacter"})(r1||(r1={}));function JX(w,Q){let Y=kI(w,Q?.errors,Q);return o1(w,Y,Q),Y}var pz=(async()=>{}).constructor,LX=function*(){}.constructor,c1=async function*(){}.constructor;function F8(w){lz._=w}var lz={_:null,__(){return UX(lz._)}};async function K8(w,...Q){return await{fn:i1,iter:iI,yield:gI,[void 0](){throw TypeError("expected iterator, generator or one-shot function")}}[ZQ(w)](w,...Q)}async function gI(w,Q={}){let z=w({get(L){return Q.args?.[L]}}),H=await z.next(),W=H.value;if(!H.value?.heap&&H.value?.heap!=null)Q.heap=!1;if(Q.concurrency??=H.value?.concurrency??Q.args?.concurrency,!H.value?.counters&&H.value?.counters!=null)Q.$counters=!1;if(H.done||ZQ(W)!=="fn"){if(W=H.value?.bench||H.value?.manual,ZQ(W,!0)!=="fn")throw TypeError("expected benchmarkable yield from generator");Q.params??={};let L=W.length;Q.manual=!H.value.manual?!1:H.value.budget!=="manual"?"real":"manual";for(let U=0;U<L;U++)if(Q.params[U]=H.value[U],ZQ(H.value[U])!=="fn")throw TypeError("expected function for benchmark parameter")}let X=await i1(W,Q);if(!(await z.next()).done)throw TypeError("expected generator to yield once");return{...X,kind:"yield"}}var UX=(()=>{if(globalThis.console?.log)return globalThis.console.log;if(globalThis.print&&!globalThis.document)return globalThis.print;return()=>{throw Error("no print function available")}})(),fI=(()=>{try{return Bun.gc(!0),()=>Bun.gc(!0)}catch{}try{return globalThis.gc(),()=>globalThis.gc()}catch{}try{return globalThis.__gc(),()=>globalThis.__gc()}catch{}try{return globalThis.std.gc(),()=>globalThis.std.gc()}catch{}try{return globalThis.$262.gc(),()=>globalThis.$262.gc()}catch{}try{return globalThis.tjs.engine.gc.run(),()=>globalThis.tjs.engine.gc.run()}catch{}return Object.assign(globalThis.Graal?()=>new Uint8Array(536870912):()=>new Uint8Array(1073741824),{fallback:!0})})(),Ow=(()=>{try{return Bun.nanoseconds(),Bun.nanoseconds}catch{}try{return lz.agent.monotonicNow(),()=>1e6*lz.agent.monotonicNow()}catch{}try{return $262.agent.monotonicNow(),()=>1e6*$262.agent.monotonicNow()}catch{}try{let w=performance.now.bind(performance);return w(),()=>1e6*w()}catch{return()=>1e6*Date.now()}})();function ZQ(w,Q=!1){if(!(w instanceof Function||w instanceof pz||w instanceof LX||w instanceof c1))return;if(w instanceof LX||w instanceof c1)return"yield";if((Q?!0:w.length===0)&&(w instanceof Function||w instanceof pz))return"fn";if(w.length!==0&&(w instanceof Function||w instanceof pz))return"iter"}var xI=1.1,vI=2,yI=1,mI=12,hI=4,oI=1e9,uI=2,pI=4096,lI=12,rI=65536,cI=642000000,dI=500000;function d1(w){if(w.gc??=fI,w.now??=Ow,w.heap??=null,w.params??={},w.manual??=!1,w.inner_gc??=!1,w.$counters??=!1,w.concurrency??=yI,w.min_samples??=mI,w.max_samples??=oI,w.min_cpu_time??=cI,w.batch_unroll??=hI,w.batch_samples??=pI,w.warmup_samples??=uI,w.batch_threshold??=rI,w.warmup_threshold??=dI,w.samples_threshold??=lI,w.heap)w.min_cpu_time*=xI;if(w.gc&&w.inner_gc)w.min_cpu_time*=vI}async function i1(w,Q={}){d1(Q);let Y=!1,z=!1,H=Object.keys(Q.params);w:{let X=Array(H.length);for(let Z=0;Z<H.length;Z++)X[Z]=await Q.params[Z]();let L=Ow(),U=w(...X),q=Ow();if(Y=U instanceof Promise)await U,q=Ow();if(q-L<=Q.warmup_threshold)for(let Z=0;Z<Q.warmup_samples;Z++){for(let A=0;A<H.length;A++)X[A]=await Q.params[A]();let K=Ow();if(await w(...X),z=Ow()-K<=Q.batch_threshold)break}}if(Q.manual)z=!1,Q.concurrency=1;let W=new pz("$fn","$gc","$now","$heap","$params","$counters",`
    ${!Q.$counters?"":"let _hc = false;"}
    ${!Q.$counters?"":"try { $counters.init(); _hc = true; } catch {}"}

    let _ = 0; let t = 0;
    let samples = new Array(2 ** 20);
    ${!Q.heap?"":"const heap = { _: 0, total: 0, min: Infinity, max: -Infinity };"}
    ${!(Q.gc&&Q.inner_gc&&!Q.gc.fallback)?"":"const gc = { total: 0, min: Infinity, max: -Infinity };"}

    ${!H.length?"":Array.from({length:H.length},(X,L)=>`
      ${Array.from({length:Q.concurrency},(U,q)=>`
        let param_${L}_${q} = ${!z?"null":`new Array(${Q.batch_samples})`};
      `.trim()).join(" ")}
    `.trim()).join(`
`)}

    ${!Q.gc?"":"$gc();"}

    for (; _ < ${Q.max_samples}; _++) {
      if (_ >= ${Q.min_samples} && t >= ${Q.min_cpu_time}) break;

      ${!H.length?"":`
        ${!z?`
          ${Array.from({length:H.length},(X,L)=>`
            ${Array.from({length:Q.concurrency},(U,q)=>`
              if ((param_${L}_${q} = $params[${L}]()) instanceof Promise) param_${L}_${q} = await param_${L}_${q};
            `.trim()).join(" ")}
          `.trim()).join(`
`)}
        `:`
          for (let o = 0; o < ${Q.batch_samples}; o++) {
            ${Array.from({length:H.length},(X,L)=>`
              ${Array.from({length:Q.concurrency},(U,q)=>`
                if ((param_${L}_${q}[o] = $params[${L}]()) instanceof Promise) param_${L}_${q}[o] = await param_${L}_${q}[o];
              `.trim()).join(" ")}
            `.trim()).join(`
`)}
          }
        `}
      `}

      ${!(Q.gc&&Q.inner_gc)?"":`
        igc: {
          const t0 = $now();
          $gc(); t += $now() - t0;
        }
      `}

      ${!Q.manual?"":"let t2 = 0;"}
      ${!Q.heap?"":"const h0 = $heap();"}
      ${!Q.$counters?"":"if (_hc) try { $counters.before(); } catch {};"} const t0 = $now();

      ${!z?`
        ${!Y?"":1>=Q.concurrency?"":"await Promise.all(["}
          ${Array.from({length:Q.concurrency},(X,L)=>`
            ${!Q.manual?"":"t2 +="} ${!Y?"":1<Q.concurrency?"":"await"} ${(!H.length?`
              $fn()
            `:`
              $fn(${Array.from({length:H.length},(U,q)=>`param_${q}_${L}`).join(", ")})
            `).trim()}${!Y?";":1<Q.concurrency?",":";"}
          `.trim()).join(`
`)}
        ${!Y?"":1>=Q.concurrency?"":"]);"}
      `:`
        for (let o = 0; o < ${Q.batch_samples/Q.batch_unroll|0}; o++) {
          ${!H.length?"":`const param_offset = o * ${Q.batch_unroll};`}

          ${Array.from({length:Q.batch_unroll},(X,L)=>`
            ${!Y?"":1>=Q.concurrency?"":"await Promise.all(["}
              ${Array.from({length:Q.concurrency},(U,q)=>`
                ${!Y?"":1<Q.concurrency?"":"await"} ${(!H.length?`
                  $fn()
                `:`
                  $fn(${Array.from({length:H.length},(Z,K)=>`param_${K}_${q}[${L===0?"":`${L} + `}param_offset]`).join(", ")})
                `).trim()}${!Y?";":1<Q.concurrency?",":";"}
              `.trim()).join(" ")}
            ${!Y?"":1>=Q.concurrency?"":"]);"}
          `.trim()).join(`
`)}
        }
      `}

      const t1 = $now();
      ${!Q.$counters?"":"if (_hc) try { $counters.after(); } catch {};"}

      ${!Q.heap?"":`
        heap: {
          const t0 = $now();
          const h1 = ($heap() - h0) ${!z?"":`/ ${Q.batch_samples}`}; t += $now() - t0;

          if (0 <= h1) {
            heap._++;
            heap.total += h1;
            heap.min = Math.min(h1, heap.min);
            heap.max = Math.max(h1, heap.max);
          }
        }
      `}

      ${!(Q.gc&&Q.inner_gc&&!Q.gc.fallback)?"":`
        igc: {
          const t0 = $now();
          $gc(); const t1 = $now() - t0;

          t += t1;
          gc.total += t1;
          gc.min = Math.min(t1, gc.min);
          gc.max = Math.max(t1, gc.max);
        }
      `};

      const diff = ${Q.manual?"t2":"t1 - t0"};
      t += ${Q.manual==="manual"?"t2":"t1 - t0"};
      samples[_] = diff ${!z?"":`/ ${Q.batch_samples}`};
    }

    samples.length = _;
    samples.sort((a, b) => a - b);
    if (samples.length > ${Q.samples_threshold}) samples = samples.slice(2, -2);

    return {
      samples,
      min: samples[0],
      max: samples[samples.length - 1],
      p25: samples[(.25 * (samples.length - 1)) | 0],
      p50: samples[(.50 * (samples.length - 1)) | 0],
      p75: samples[(.75 * (samples.length - 1)) | 0],
      p99: samples[(.99 * (samples.length - 1)) | 0],
      p999: samples[(.999 * (samples.length - 1)) | 0],
      avg: samples.reduce((a, v) => a + v, 0) / samples.length,
      ticks: samples.length ${!z?"":`* ${Q.batch_samples}`},
      ${!Q.heap?"":"heap: { ...heap, avg: heap.total / heap._ },"}
      ${!(Q.gc&&Q.inner_gc&&!Q.gc.fallback)?"":"gc: { ...gc, avg: gc.total / _ },"}
      ${!Q.$counters?"":`...(!_hc ? {} : { counters: $counters.translate(${!z?1:Q.batch_samples}, _) }),`}
    };

    ${!Q.$counters?"":"if (_hc) try { $counters.deinit(); } catch {};"}
  `);return{kind:"fn",debug:W.toString(),...await W(w,Q.gc,Q.now,Q.heap,Q.params,Q.$counters)}}async function iI(w,Q={}){let Y={};d1(Q);let z=Array(1048576),H={next(){return Y.next()}},W={[Symbol.iterator](){return H},[Symbol.asyncIterator](){return H},get(L){return Q.args?.[L]}},X=function*(){let L=!1;w:{let q=Ow();if(yield void 0,Ow()-q<=Q.warmup_threshold)for(let K=0;K<Q.warmup_samples;K++){let B=Ow();if(yield void 0,L=Ow()-B<=Q.batch_threshold)break}}let U=new LX("$gc","$now","$samples",Y.debug=`
      let _ = 0; let t = 0;

      ${!Q.gc?"":"$gc();"}

      for (; _ < ${Q.max_samples}; _++) {
        if (_ >= ${Q.min_samples} && t >= ${Q.min_cpu_time}) break;

        ${!(Q.gc&&Q.inner_gc)?"":`
          let inner_gc_cost = 0;

          igc: {
            const t0 = $now(); $gc();
            inner_gc_cost = $now() - t0;
          }
        `}

        const t0 = $now();
        
        ${!L?"yield void 0;":`
          for (let o = 0; o < ${Q.batch_samples/Q.batch_unroll|0}; o++) {
            ${Array(Q.batch_unroll).fill("yield void 0;").join(" ")}
          }
        `}

        const t1 = $now();
        const diff = t1 - t0;

        $samples[_] = diff ${!L?"":`/ ${Q.batch_samples}`};
        t += diff ${!(Q.gc&&Q.inner_gc)?"":"+ inner_gc_cost"};
      }

      $samples.length = _;
    `)(Q.gc,Q.now,z);Y.batch=L,Y.next=U.next.bind(U),yield void 0}();if(await w((Y.next=X.next.bind(X),W)),z.length<Q.min_samples)throw TypeError(`expected at least ${Q.min_samples} samples from iterator`);if(z.sort((L,U)=>L-U),z.length>Q.samples_threshold)z=z.slice(2,-2);return{samples:z,kind:"iter",debug:Y.debug,min:z[0],max:z[z.length-1],p25:z[0.25*(z.length-1)|0],p50:z[0.5*(z.length-1)|0],p75:z[0.75*(z.length-1)|0],p99:z[0.99*(z.length-1)|0],p999:z[0.999*(z.length-1)|0],avg:z.reduce((L,U)=>L+U,0)/z.length,ticks:z.length*(!Y.batch?1:Q.batch_samples)}}var Y_=0,B8=null,o6=[{id:0,name:null,types:[],trials:[]}],uw={compact:1,baseline:2};class n1{f=null;_args={};_name="";_group=0;_gc="once";flags=Y_;_highlight=!1;constructor(w,Q){if(this.f=Q,this.name(w),!ZQ(Q))throw TypeError("expected iterator, generator or one-shot function")}name(w,Q=!1){return this._name=w,this.highlight(Q),this}gc(w="once"){if(![!0,!1,"once","inner"].includes(w))throw TypeError("invalid gc type");return this._gc=w,this}highlight(w=!1){if(!w)return this._highlight=!1,this;if(!F.colors.includes(w))throw TypeError("invalid highlight color");return this._highlight=w,this}compact(w=!0){if(w)return this.flags|=uw.compact,this;if(!w)return this.flags&=~uw.compact,this}baseline(w=!0){if(w)return this.flags|=uw.baseline,this;if(!w)return this.flags&=~uw.baseline,this}range(w,Q,Y,z=8){let H=[];for(let W=Q;W<=Y;W*=z)H.push(Math.min(W,Y));if(!H.includes(Y))H.push(Y);return this.args(w,H)}dense_range(w,Q,Y,z=1){let H=[];for(let W=Q;W<=Y;W+=z)H.push(W);if(!H.includes(Y))H.push(Y);return this.args(w,H)}args(w,Q){if(w===null)return delete this._args.x,this;if(Array.isArray(w))return this._args.x=w,this;if(Q===null&&typeof w==="string")return delete this._args[w],this;if(Array.isArray(Q)&&typeof w==="string")return this._args[w]=Q,this;if(w!==null&&typeof w==="object"){for(let Y in w){let z=w[Y];if(z==null)delete this._args[Y];else if(Array.isArray(z))this._args[Y]=z;else throw TypeError("invalid arguments map value")}return this}throw TypeError("invalid arguments")}*_names(){let w=Object.keys(this._args);if((w.length===0?"static":w.length===1?"args":"multi-args")==="static")yield this._name;else{let Y=Array(w.length).fill(0),z=w.reduce((H,W)=>H*this._args[W].length,1);for(let H=0;H<z;H++){{let X={},L=this._name;for(let U=0;U<w.length;U++)X[w[U]]=this._args[w[U]][Y[U]];for(let U=0;U<w.length;U++)L=L.replaceAll(`$${w[U]}`,X[w[U]]);yield L}let W=0;do Y[W]=(1+Y[W])%this._args[w[W]].length;while(Y[W++]===0&&W<w.length)}}}async run(w=!1){let Q=Object.keys(this._args),Y=Q.length===0?"static":Q.length===1?"args":"multi-args",z={$counters:B8,inner_gc:this._gc==="inner",gc:!this._gc?!1:void 0,heap:await(async()=>{if(globalThis.Bun){let{memoryUsage:H}=await import("bun:jsc");return()=>{return H().current}}try{let{getHeapStatistics:H}=await import("v8");return H(),()=>{let W=H();return W.used_heap_size+W.malloced_memory}}catch{}})()};if(Y==="static"){let H,W;try{H=await K8(this.f,z)}catch(X){if(W=X,w)throw X}return{kind:Y,args:this._args,alias:this._name,group:this._group,baseline:!!(this.flags&uw.baseline),runs:[{stats:H,error:W,args:{},name:this._name}],style:{highlight:this._highlight,compact:!!(this.flags&uw.compact)}}}else{let H=Array(Q.length).fill(0),W=Array(Q.reduce((X,L)=>X*this._args[L].length,1));for(let X=0;X<W.length;X++){{let U,q,Z={},K=this._name;for(let B=0;B<Q.length;B++)Z[Q[B]]=this._args[Q[B]][H[B]];for(let B=0;B<Q.length;B++)K=K.replaceAll(`$${Q[B]}`,Z[Q[B]]);try{U=await K8(this.f,{...z,args:Z})}catch(B){if(q=B,w)throw B}W[X]={stats:U,error:q,args:Z,name:K}}let L=0;do H[L]=(1+H[L])%this._args[Q[L]].length;while(H[L++]===0&&L<Q.length)}return{runs:W,kind:Y,args:this._args,alias:this._name,group:this._group,baseline:!!(this.flags&uw.baseline),style:{highlight:this._highlight,compact:!!(this.flags&uw.compact)}}}}}function s1(w){return z_(w,"b")}function X4(w,Q){if(typeof w==="function")Q=w,w=Q.name||"anonymous";let Y=o6[o6.length-1],z=new n1(w,Q);return z._group=Y.id,Y.trials.push(z),z}var z_=(w,Q,Y=null)=>{let z=o6[o6.length-1];o6.push({trials:[],name:Y??z.name,id:o6.length,types:[Q,...z.types]});let H=w(),W={trials:[],name:z.name,types:z.types,id:o6.length};if(!(H instanceof Promise))o6.push(W);else return H.then(()=>(o6.push(W),void 0))};function H_(){return globalThis.tjs?.env?.FORCE_COLOR||globalThis.process?.env?.FORCE_COLOR||!globalThis.Deno?.noColor&&!globalThis.tjs?.env?.NO_COLOR&&!globalThis.process?.env?.NO_COLOR&&!globalThis.process?.env?.NODE_DISABLE_COLORS}async function W_(){if(globalThis.process?.versions?.webcontainer)return null;try{let w;if(w=l4("os")?.cpus?.()?.[0]?.model)return w}catch{}try{let w;if(w=l4("os")?.cpus?.()?.[0]?.model)return w}catch{}try{let w;if(w=globalThis.tjs?.system?.cpus?.[0]?.model)return w}catch{}try{let w;if(w=(await import("os"))?.cpus?.()?.[0]?.model)return w}catch{}return null}function X_(){return{v8:()=>globalThis.version?.(),bun:()=>globalThis.Bun?.version,"txiki.js":()=>globalThis.tjs?.version,deno:()=>globalThis.Deno?.version?.deno,llrt:()=>globalThis.process?.versions?.llrt,node:()=>globalThis.process?.versions?.node,graaljs:()=>globalThis.Graal?.versionGraalVM,webcontainer:()=>globalThis.process?.versions?.webcontainer,"quickjs-ng":()=>globalThis.navigator?.userAgent?.split?.("/")[1],hermes:()=>globalThis.HermesInternal?.getRuntimeProperties?.()?.["OSS Release Version"]}[kY()]?.()||null}function kY(){if(globalThis.d8)return"v8";if(globalThis.tjs)return"txiki.js";if(globalThis.Graal)return"graaljs";if(globalThis.process?.versions?.llrt)return"llrt";if(globalThis.process?.versions?.webcontainer)return"webcontainer";if(globalThis.inIon&&globalThis.performance?.mozMemory)return"spidermonkey";if(globalThis.window&&globalThis.netscape&&globalThis.InternalError)return"firefox";if(globalThis.window&&globalThis.navigator&&Error.prepareStackTrace)return"chromium";if(globalThis.navigator?.userAgent?.toLowerCase?.()?.includes?.("quickjs-ng"))return"quickjs-ng";if(globalThis.$262&&globalThis.lockdown&&globalThis.AsyncDisposableStack)return"XS Moddable";if(globalThis.$&&"IsHTMLDDA"in globalThis.$&&Error().stack.includes("runtime@"))return"jsc";if(globalThis.window&&globalThis.navigator&&Error().stack.includes("runtime@"))return"webkit";if(globalThis.os&&globalThis.std)return"quickjs";if(globalThis.Bun)return"bun";if(globalThis.Deno)return"deno";if(globalThis.HermesInternal)return"hermes";if(globalThis.window&&globalThis.navigator)return"browser";if(globalThis.process)return"node";else return null}async function J_(){if(kY()==="webcontainer")return"js + wasm";try{let w;if(w=Deno?.build?.target)return w}catch{}try{let w=await import("os");return`${w.arch()}-${w.platform()}`}catch{}if(globalThis.process?.arch&&globalThis.process?.platform)return`${globalThis.process.arch}-${globalThis.process.platform}`;if(kY()==="txiki.js")return`${globalThis.tjs.system?.arch}-${globalThis.tjs.system?.platform}`;if(kY()==="spidermonkey"){try{let w=globalThis.getBuildConfiguration(),Q=["osx","linux","android","windows"],z=["arm","x64","x86","wasi","arm64","mips32","mips64","loong64","riscv64"].find((W)=>w[W]),H=Q.find((W)=>w[W]);if(z)return!H?z:`${z}-${H}`}catch{}try{if(globalThis.isAvxPresent())return"x86_64"}catch{}}return null}function L_(w){w.print??=UX,w.throw??=!1,w.filter??=/.*/,w.format??="mitata",w.colors??=H_(),w.observe??=(Q)=>Q}async function a1(w={}){L_(w);let Q=Date.now(),Y=[],z=await K8(()=>{}),H=await K8(()=>{},{batch_unroll:1}),W=await K8(()=>{},{inner_gc:!0}),X=await K8((Z)=>{for(let K of Z);}),L={now:Q,arch:await J_(),version:X_(),runtime:kY(),cpu:{name:await W_(),freq:1/H.avg},noop:{fn:z,iter:X,fn_gc:W}};if(!B8&&L.arch?.includes?.("darwin")&&["bun","node","deno"].includes(L.runtime))try{if(B8=await Promise.resolve().then(() => (OX(),qX)),process.getuid()!==0)throw B8=!1,1}catch{}if(!B8&&L.arch?.includes?.("linux")&&["bun","node","deno"].includes(L.runtime))try{B8=await Promise.resolve().then(() => (OX(),qX))}catch(Z){if(Z?.message?.includes?.("PermissionDenied"))B8=!1}let U=o6.map((Z)=>({name:Z.name,types:Z.types})),q=typeof w.format==="string"?w.format:Object.keys(w.format)[0];return await U_[q](L,{...w,format:w.format[q]},Y,U),o6=[{name:0,types:[],trials:[]}],{layout:U,context:L,benchmarks:Y}}var U_={async quiet(w,Q,Y){for(let z of o6)for(let H of z.trials)if(Q.filter.test(H._name))Y.push(Q.observe(await H.run(Q.throw)))},async json(w,Q,Y,z){let H=Q.print,W=Q.format?.debug??!0,X=Q.format?.samples??!0;for(let L of o6)for(let U of L.trials)if(Q.filter.test(U._name))Y.push(Q.observe(await U.run(Q.throw)));H(JSON.stringify({layout:z,benchmarks:Y,context:w},(L,U)=>{if(!W&&L==="debug")return"";if(!X&&L==="samples")return null;if(!(U instanceof Error))return U;return{message:String(U.message),stack:U.stack}},0))},async markdown(w,Q,Y){let z=!0,H=Q.print;H(`clk: ~${w.cpu.freq.toFixed(2)} GHz`),H(`cpu: ${w.cpu.name}`),H(`runtime: ${w.runtime}${!w.version?"":` ${w.version}`} (${w.arch})`),H("");for(let W of o6){let X=[];if(!W.trials.length)continue;for(let U of W.trials)if(Q.filter.test(U._name)){let q=await U.run(Q.throw);q=Q.observe(q),X.push(q),Y.push(q)}if(!X.length)continue;if(!z)H("");let L=X.reduce((U,q)=>Math.max(U,q.runs.reduce((Z,K)=>Math.max(Z,K.name.length),0)),0);H(`| ${(W.name?`\u2022 ${W.name}`:!z?"":"benchmark").padEnd(L)} | ${"avg".padStart(16)} | ${"min".padStart(11)} | ${"p75".padStart(11)} | ${"p99".padStart(11)} | ${"max".padStart(11)} |`),H(`| ${"-".repeat(L)} | ${"-".repeat(16)} | ${"-".repeat(11)} | ${"-".repeat(11)} | ${"-".repeat(11)} | ${"-".repeat(11)} |`),z=!1;for(let U of X)for(let q of U.runs)if(q.error)H(`| ${q.name.padEnd(L)} | error: ${q.error.message??q.error} |`);else H(`| ${q.name.padEnd(L)} | \`${`${F.time(q.stats.avg)}/iter`.padStart(14)}\` | \`${F.time(q.stats.min).padStart(9)}\` | \`${F.time(q.stats.p75).padStart(9)}\` | \`${F.time(q.stats.p99).padStart(9)}\` | \`${F.time(q.stats.max).padStart(9)}\` |`)}},async mitata(w,Q,Y){let z=Q.print,H=Q.format?.name??"longest";if(H==="fixed")H=28;else if(H==="longest"){H=28;for(let U of o6)for(let q of U.trials)if(Q.filter.test(q._name))for(let Z of q._names())H=Math.max(H,Z.length)}if(H=Math.max(20,H),!Q.colors)z(`clk: ~${w.cpu.freq.toFixed(2)} GHz`);else z(F.gray+`clk: ~${w.cpu.freq.toFixed(2)} GHz`+F.reset);if(!Q.colors)z(`cpu: ${w.cpu.name}`);else z(F.gray+`cpu: ${w.cpu.name}`+F.reset);if(!Q.colors)z(`runtime: ${w.runtime}${!w.version?"":` ${w.version}`} (${w.arch})`);else z(F.gray+`runtime: ${w.runtime}${!w.version?"":` ${w.version}`} (${w.arch})`+F.reset);z(""),z(`${"benchmark".padEnd(H-1)} avg (min \u2026 max) p75 / p99    (min \u2026 top 1%)`),z("-".repeat(15+H)+" "+"-".repeat(31));let W=!0,X=!1;for(let U of o6){let q=[],Z=!1;if(!U.trials.length)continue;if(!U.trials.some((B)=>Q.filter.test(B._name)))continue;else if(W){if(W=!1,U.name)if(z(`\u2022 ${U.name}`),!Q.colors)z("-".repeat(15+H)+" "+"-".repeat(31));else z(F.gray+"-".repeat(15+H)+" "+"-".repeat(31)+F.reset)}else{if(z(""),U.name)z(`\u2022 ${U.name}`);if(!Q.colors)z("-".repeat(15+H)+" "+"-".repeat(31));else z(F.gray+"-".repeat(15+H)+" "+"-".repeat(31)+F.reset)}for(let B of U.trials)if(Q.filter.test(B._name)){let A=await B.run(Q.throw);if(A=Q.observe(A),q.push([B,A]),Y.push(A),F.colors.indexOf(B._highlight)===-1)B._highlight=null;let M=!Q.colors||!B._highlight?(T)=>T:(T)=>F[B._highlight]+T+F.reset;for(let T of A.runs){if(Z)z("");if(T.error)if(!Q.colors)z(`${M(F.str(T.name,H).padEnd(H))} error: ${T.error.message??T.error}`);else z(`${M(F.str(T.name,H).padEnd(H))} ${F.red+"error:"+F.reset} ${T.error.message??T.error}`);else{let $=B.flags&uw.compact,G=T.stats.kind==="iter"?w.noop.iter:B._gc!=="inner"?w.noop.fn:w.noop.fn_gc,E=T.stats.avg<1.42*G.avg;if(X=X||E,$){let R="";Z=!1;let j=F.time(T.stats.avg).padStart(9),b=F.str(T.name,H).padEnd(H);if(R+=M(b)+" ",!Q.colors)R+=j+"/iter";else R+=F.bold+F.yellow+j+F.reset+F.bold+"/iter"+F.reset;let I=F.time(T.stats.p75).padStart(9),_=F.time(T.stats.p99).padStart(9),y=F.histogram.bins(T.stats,11,0.99),h=F.histogram.ascii(y,1,{colors:Q.colors});if(R+=" ",!Q.colors)R+=I+" "+_+" "+h[0];else R+=F.gray+I+" "+_+F.reset+" "+h[0];if(E)if(!Q.colors)R+=" !";else R+=F.red+" !"+F.reset;z(R)}else{let R="",j=F.time(T.stats.avg).padStart(9),b=F.str(T.name,H).padEnd(H);R+=M(b)+" ";let I=F.time(T.stats.p75).padStart(9),_=F.histogram.bins(T.stats,21,0.99),y=F.histogram.ascii(_,T.stats.gc&&T.stats.heap?2:!(T.stats.gc||T.stats.heap)?2:3,{colors:Q.colors});if(!Q.colors)R+=j+"/iter "+I+" "+y[0];else R+=F.bold+F.yellow+j+F.reset+F.bold+"/iter"+F.reset+" "+F.gray+I+F.reset+" "+y[0];if(E)if(!Q.colors)R+=" !";else R+=F.red+" !"+F.reset;z(R),R="";let h=F.time(T.stats.min),q0=F.time(T.stats.max),a=F.time(T.stats.p99).padStart(9),C0=18-(h.length+q0.length);if(R+=" ".repeat(C0+H-8),!Q.colors)R+="("+h+" \u2026 "+q0+")";else R+=F.gray+"("+F.reset+F.cyan+h+F.reset+F.gray+" \u2026 "+F.reset+F.magenta+q0+F.reset+F.gray+")"+F.reset;if(R+=" ",!Q.colors)R+=a+" "+y[1];else R+=F.gray+a+F.reset+" "+y[1];if(z(R),T.stats.gc){R="",Z=!0,R+=" ".repeat(H-10);let M0=F.time(T.stats.gc.min).padStart(9),o=F.time(T.stats.gc.max).padStart(9);if(!Q.colors)R+="gc("+M0+" \u2026 "+o+")";else R+=F.gray+"gc("+F.reset+F.blue+M0+F.reset+F.gray+" \u2026 "+F.reset+F.blue+o+F.reset+F.gray+")"+F.reset;if(T.stats.heap){R+=" ";let d=F.bytes(T.stats.heap.avg).padStart(9),z0=F.bytes(T.stats.heap.min).padStart(9),$9=F.bytes(T.stats.heap.max).padStart(9);if(!Q.colors)R+=d+" ("+z0+"\u2026"+$9+")";else R+=F.yellow+d+F.reset+F.gray+" ("+F.reset+F.yellow+z0+F.reset+F.gray+"\u2026"+F.reset+F.yellow+$9+F.reset+F.gray+")"+F.reset}else{R+=" ";let d=F.time(T.stats.gc.avg).padStart(9);if(!Q.colors)R+=d+" "+y[2];else R+=F.blue+d+F.reset+" "+y[2]}z(R)}else if(T.stats.heap){Z=!0,R=" ".repeat(H-8);let M0=F.bytes(T.stats.heap.avg).padStart(9),o=F.bytes(T.stats.heap.min).padStart(9),d=F.bytes(T.stats.heap.max).padStart(9);if(!Q.colors)R+="("+o+" \u2026 "+d+") "+M0+" "+y[2];else R+=F.gray+"("+F.reset+F.yellow+o+F.reset+F.gray+" \u2026 "+F.reset+F.yellow+d+F.reset+F.gray+") "+F.reset+F.yellow+M0+F.reset+" "+y[2];z(R)}if(T.stats.counters){if(R="",Z=!0,w.arch.includes("linux")){let M0=T.stats.counters._bmispred.avg,o=T.stats.counters.instructions.avg/T.stats.counters.cycles.avg,d=100-Math.min(100,100*T.stats.counters.cache.misses.avg/T.stats.counters.cache.avg);if(R+=" ".repeat(H-12),!Q.colors)R+=F.amount(o).padStart(7)+" ipc";else R+=F.bold+F.green+F.amount(o).padStart(7)+F.reset+F.bold+" ipc"+F.reset;if(!Q.colors)R+=" ("+d.toFixed(2).padStart(6)+"% cache)";else R+=F.gray+" ("+F.reset+(50>d?F.red:84<d?F.green:F.yellow)+d.toFixed(2).padStart(6)+"%"+F.reset+" cache"+F.gray+")"+F.reset;if(!Q.colors)R+=" "+F.amount(M0).padStart(7)+" branch misses";else R+=" "+F.green+F.amount(M0).padStart(7)+F.reset+" branch misses";if(z(R),R="",R+=" ".repeat(H-20),Q.colors)R+=F.gray;if(R+=F.amount(T.stats.counters.cycles.avg).padStart(7)+" cycles",R+=" "+F.amount(T.stats.counters.instructions.avg).padStart(7)+" instructions",R+=" "+F.amount(T.stats.counters.cache.avg).padStart(7)+" c-refs",R+=" "+F.amount(T.stats.counters.cache.misses.avg).padStart(7)+" c-misses",Q.colors)R+=F.reset;z(R)}if(w.arch.includes("darwin")){let M0=T.stats.counters.instructions.avg/T.stats.counters.cycles.avg,o=100*T.stats.counters.cycles.stalls.avg/T.stats.counters.cycles.avg,d=100*T.stats.counters.instructions.loads_and_stores.avg/T.stats.counters.instructions.avg,z0=100-Math.min(100,100*(T.stats.counters.l1.miss_loads.avg+T.stats.counters.l1.miss_stores.avg)/T.stats.counters.instructions.loads_and_stores.avg);if(R+=" ".repeat(H-13),!Q.colors)R+=F.amount(M0).padStart(7)+" ipc";else R+=F.bold+F.green+F.amount(M0).padStart(7)+F.reset+F.bold+" ipc"+F.reset;if(!Q.colors)R+=" ("+o.toFixed(2).padStart(6)+"% stalls)";else R+=F.gray+" ("+F.reset+(12>o?F.green:50<o?F.red:F.yellow)+o.toFixed(2).padStart(6)+"%"+F.reset+" stalls"+F.gray+")"+F.reset;if(!Q.colors)R+=" "+z0.toFixed(2).padStart(6)+"% L1 data cache";else R+=" "+(50>z0?F.red:84<z0?F.green:F.yellow)+z0.toFixed(2).padStart(6)+"%"+F.reset+" L1 data cache";if(z(R),R="",R+=" ".repeat(H-20),Q.colors)R+=F.gray;if(R+=F.amount(T.stats.counters.cycles.avg).padStart(7)+" cycles",R+=" "+F.amount(T.stats.counters.instructions.avg).padStart(7)+" instructions",R+=" "+d.toFixed(2).padStart(6)+"% retired LD/ST ("+F.amount(T.stats.counters.instructions.loads_and_stores.avg).padStart(7)+")",Q.colors)R+=F.reset;z(R)}}}}}}if(U.types.includes("b")){let B={},A={};for(let[M,T]of q)for(let $ of T.runs){if($.error)continue;B[$.name]=$.stats.avg,A[$.name]=F[M._highlight]}if(Object.keys(B).length)z(""),F.barplot.ascii(B,H,44,{steps:-10,colors:!Q.colors?null:A}).forEach((M)=>z(M))}if(U.types.includes("x")){let B={},A={};if(q.length===1)for(let[M,T]of q)for(let $ of T.runs)B[$.name]=$.stats,A[$.name]=F[M._highlight];else for(let[M,T]of q){let $=T.runs.filter((G)=>G.stats);if(!$.length)continue;if($.length===1)B[$[0].name]=$[0].stats,A[$[0].name]=F[M._highlight];else{let G={avg:0,min:1/0,p25:1/0,p75:-1/0,p99:-1/0};for(let E of $)G.avg+=E.stats.avg,G.min=Math.min(G.min,E.stats.min),G.p25=Math.min(G.p25,E.stats.p25),G.p75=Math.max(G.p75,E.stats.p75),G.p99=Math.max(G.p99,E.stats.p99);B[T.alias]=G,G.avg/=$.length,A[T.alias]=F[M._highlight]}}if(Object.keys(B).length)z(""),F.boxplot.ascii(B,H,44,{colors:!Q.colors?null:A}).forEach((M)=>z(M))}if(U.types.includes("l")){let B={},A={},M={},T={};if(q.length===1)for(let[$,G]of q){let E=G.runs.filter((R)=>R.stats);if(!E.length)continue;if(E.length===1){let{min:R,max:j,avg:b,peak:I,bins:_}=F.histogram.bins(E[0].stats,44,0.99);A.ymax=I,M.xmin=F.cyan,M.xmax=F.magenta,A.ymin=F.min(_),T.xmin=F.time(R),T.xmax=F.time(j),A.xmax=_.length-1,M[E[0].name]=F[$._highlight]||F.bold,B[E[0].name]={y:_,x:_.map((y,h)=>h),format(y,h,q0){if(y=Math.round(y*44),!Q.colors)return q0;if(y===b)return F.yellow+q0+F.reset;return(y<b?F.cyan:F.magenta)+q0+F.reset}}}else{let R=E.map((j)=>j.stats.avg);M.ymin=F.cyan,M.ymax=F.magenta,A.ymin=F.min(R),A.ymax=F.max(R),A.xmax=E.length-1,T.ymin=F.time(A.ymin),T.ymax=F.time(A.ymax),M[G.alias]=F[$._highlight],B[G.alias]={y:R,x:R.map((j,b)=>b)}}}else if(q.every(([$,G])=>G.kind==="static")){M.xmin=F.cyan,M.xmax=F.magenta;for(let[$,G]of q)for(let E of G.runs){if(E.error)continue;let{bins:R,peak:j,steps:b}=F.histogram.bins(E.stats,44,0.99),I=R.map((_)=>_/j);B[E.name]={y:I,x:b},M[E.name]=F[$._highlight],A.ymin=Math.min(F.min(I),A.ymin??1/0),A.ymax=Math.max(F.max(I),A.ymax??-1/0),A.xmin=Math.min(F.min(b),A.xmin??1/0),A.xmax=Math.max(F.max(b),A.xmax??-1/0),T.xmin=F.time(A.xmin),T.xmax=F.time(A.xmax)}}else{let $=1/0,G=-1/0;for(let[E,R]of q)for(let j of R.runs){if(j.error)continue;$=Math.min($,j.stats.avg),G=Math.max(G,j.stats.avg)}M.ymin=F.cyan,M.ymax=F.magenta,T.ymin=F.time($),T.ymax=F.time(G);for(let[E,R]of q){let j=R.runs.filter((b)=>b.stats);if(!j.length)continue;if(j.length===1){let b=j[0].stats.avg/G;M[j[0].name]=F[E._highlight],B[j[0].name]={x:[0,1],y:[b,b]},A.ymin=Math.min(b,A.ymin??1/0),A.ymax=Math.max(b,A.ymax??-1/0)}else{M[R.alias]=F[E._highlight];let b=j.map((I)=>I.stats.avg/G);A.ymin=Math.min(F.min(b),A.ymin??1/0),A.ymax=Math.max(F.max(b),A.ymax??-1/0),B[R.alias]={y:b,x:j.map((I,_)=>_/(j.length-1))}}}}if(Object.keys(B).length)z(""),F.lineplot.ascii(B,{labels:T,...A,width:44,height:16,key:H,colors:!Q.colors?null:M}).forEach(($)=>z($))}if(U.types.includes("s"))if(q.sort((B,A)=>{let M=B[1].runs.filter((E)=>E.stats),T=A[1].runs.filter((E)=>E.stats);if(M.length===0)return 1;if(T.length===0)return-1;let $=M.reduce((E,R)=>E+R.stats.avg,0)/M.length,G=T.reduce((E,R)=>E+R.stats.avg,0)/T.length;return $-G}),q.length===1){let B=q[0][1].runs.filter((A)=>A.stats).sort((A,M)=>A.stats.avg-M.stats.avg);if(1<B.length){if(z(""),!Q.colors)z("summary");else z(F.bold+"summary"+F.reset);if(!Q.colors)z("  "+B[0].name);else z(" ".repeat(2)+F.bold+F.cyan+B[0].name+F.reset);for(let A=1;A<B.length;A++){let M=B[A],T=B[0],$=M.stats.avg>=T.stats.avg,G=!$?Number((1/M.stats.avg*T.stats.avg).toFixed(2)):Number((1/T.stats.avg*M.stats.avg).toFixed(2));if(!Q.colors)z(" ".repeat(3)+G+`x ${$?"faster":"slower"} than ${M.name}`);else z(" ".repeat(3)+(!$?F.red:F.green)+G+F.reset+`x ${$?"faster":"slower"} than ${F.bold+F.cyan+M.name+F.reset}`)}}}else{let B=!1,A=q.find(([M,T])=>T.baseline&&T.runs.some(($)=>$.stats))?.[1]||q[0][1];if(A){let M=A.runs.filter((T)=>!T.error).sort((T,$)=>T.stats.avg-$.stats.avg);for(let[T,$]of q){if($===A)continue;let G=$.runs.filter((E)=>!E.error).sort((E,R)=>E.stats.avg-R.stats.avg);if(!G.length)continue;if(!B){if(z(""),B=!0,!Q.colors)z("summary");else z(F.bold+"summary"+F.reset);if(M.length!==1)if(!Q.colors)z("  "+A.alias);else z(" ".repeat(2)+F.bold+F.cyan+A.alias+F.reset);else if(!Q.colors)z("  "+M[0].name);else z(" ".repeat(2)+F.bold+F.cyan+M[0].name+F.reset)}if(G.length===1&&M.length===1){let E=G[0],R=M[0],j=E.stats.avg>=R.stats.avg,b=!j?Number((1/E.stats.avg*R.stats.avg).toFixed(2)):Number((1/R.stats.avg*E.stats.avg).toFixed(2));if(!Q.colors)z(" ".repeat(3)+b+`x ${j?"faster":"slower"} than ${E.name}`);else z(" ".repeat(3)+(!j?F.red:F.green)+b+F.reset+`x ${j?"faster":"slower"} than ${F.bold+F.cyan+E.name+F.reset}`)}else{let E=G[0],R=M[0],j=G[G.length-1],b=M[M.length-1],I=G.reduce((M0,o)=>M0+o.stats.avg,0)/G.length,_=M.reduce((M0,o)=>M0+o.stats.avg,0)/M.length,y=I>=_,h=j.stats.avg>=b.stats.avg,q0=E.stats.avg>=R.stats.avg,a=!h?Number((1/j.stats.avg*b.stats.avg).toFixed(2)):Number((1/b.stats.avg*j.stats.avg).toFixed(2)),C0=!q0?Number((1/E.stats.avg*R.stats.avg).toFixed(2)):Number((1/R.stats.avg*E.stats.avg).toFixed(2));if(!Q.colors)z(" ".repeat(3)+(a===1?a:(h?"+":"-")+a)+"\u2026"+(C0===1?C0:(q0?"+":"-")+C0)+`x ${y?"faster":"slower"} than ${G.length===1?E.name:$.alias}`);else z(" ".repeat(3)+(a===1?F.gray+a+F.reset:!h?F.red+"-"+a+F.reset:F.green+"+"+a+F.reset)+"\u2026"+(C0===1?F.gray+C0+F.reset:!q0?F.red+"-"+C0+F.reset:F.green+"+"+C0+F.reset)+`x ${y?"faster":"slower"} than ${F.bold+F.cyan+(G.length===1?E.name:$.alias)+F.reset}`)}}}}}let L=!1;if(B8===!1)if(!Q.colors)z(""),L=!0,z("! = run with sudo to enable hardware counters");else z(""),L=!0,z(F.yellow+"!"+F.reset+F.gray+" = "+F.reset+"run with sudo to enable hardware counters");if(X)if(!Q.colors)L||z(""),z(" ".repeat(H-13)+"benchmark was likely optimized out (dead code elimination) = !"),z(" ".repeat(H-13)+"https://github.com/evanwashere/mitata#writing-good-benchmarks");else L||z(""),z(" ".repeat(H-13)+"benchmark was likely optimized out "+F.gray+"(dead code elimination)"+F.reset+F.gray+" = "+F.reset+F.red+"!"+F.reset),z(" ".repeat(H-13)+F.gray+"https://github.com/evanwashere/mitata#writing-good-benchmarks"+F.reset)}},F={bold:"\x1B[1m",reset:"\x1B[0m",red:"\x1B[31m",cyan:"\x1B[36m",blue:"\x1B[34m",gray:"\x1B[90m",white:"\x1B[37m",black:"\x1B[30m",green:"\x1B[32m",yellow:"\x1B[33m",magenta:"\x1B[35m",colors:["red","cyan","blue","green","yellow","magenta","gray","white","black"],clamp(w,Q,Y){return Q<w?w:Q>Y?Y:Q},min(w,Q=1/0){return w.reduce((Y,z)=>Math.min(Y,z),Q)},max(w,Q=-1/0){return w.reduce((Y,z)=>Math.max(Y,z),Q)},str(w,Q=3){if(Q>=w.length)return w;return`${w.slice(0,Q-2)}..`},amount(w){if(Number.isNaN(w))return"NaN";if(w<1000)return w.toFixed(2);if(w/=1000,w<1000)return`${w.toFixed(2)}k`;if(w/=1000,w<1000)return`${w.toFixed(2)}M`;if(w/=1000,w<1000)return`${w.toFixed(2)}G`;if(w/=1000,w<1000)return`${w.toFixed(2)}T`;return w/=1000,`${w.toFixed(2)}P`},bytes(w,Q=!0){if(Number.isNaN(w))return"NaN";if(w<1000)return`${w.toFixed(2)} ${!Q?"":" "}b`;if(w/=1024,w<1000)return`${w.toFixed(2)} kb`;if(w/=1024,w<1000)return`${w.toFixed(2)} mb`;if(w/=1024,w<1000)return`${w.toFixed(2)} gb`;if(w/=1024,w<1000)return`${w.toFixed(2)} tb`;return w/=1024,`${w.toFixed(2)} pb`},time(w){if(w<1)return`${(w*1000).toFixed(2)} ps`;if(w<1000)return`${w.toFixed(2)} ns`;if(w/=1000,w<1000)return`${w.toFixed(2)} \xB5s`;if(w/=1000,w<1000)return`${w.toFixed(2)} ms`;if(w/=1000,w<1000)return`${w.toFixed(2)} s`;if(w/=60,w<1000)return`${w.toFixed(2)} m`;return w/=60,`${w.toFixed(2)} h`},barplot:{symbols:{bar:"\u25A0",legend:"\u2524",tl:"\u250C",tr:"\u2510",bl:"\u2514",br:"\u2518"},ascii(w,Q=8,Y=14,{steps:z=0,fmt:H=F.time,colors:W=!0,symbols:X=F.barplot.symbols}={}){let L=Object.values(w),U=Array(2+L.length).fill("");z+=Y;let q=F.min(L),K=(F.max(L)-q)/z;return U[0]+=" ".repeat(1+Q),U[0]+=X.tl+" ".repeat(Y)+X.tr,Object.keys(w).forEach((B,A)=>{let M=w[B],T=Math.round((M-q)/K);if(W?.[B])U[A+1]+=W[B];if(U[A+1]+=F.str(B,Q).padStart(Q),W?.[B])U[A+1]+=F.reset;if(U[A+1]+=" "+X.legend,W)U[A+1]+=F.gray;if(U[A+1]+=X.bar.repeat(T),W)U[A+1]+=F.reset;if(U[A+1]+=" ",W)U[A+1]+=F.yellow;if(U[A+1]+=H(M),W)U[A+1]+=F.reset}),U[U.length-1]+=" ".repeat(1+Q),U[U.length-1]+=X.bl+" ".repeat(Y)+X.br,U}},canvas:{braille(w,Q){let Y=2*w,z=4*Q,H=new Uint8Array(Y*z),W=[10241,10242,10244,10304,10248,10256,10272,10368];return{buffer:H,width:w,height:Q,vwidth:Y,vheight:z,set(X,L,U=1){H[X+L*Y]=U},line(X,L,U=1){X.x=Math.round(X.x),X.y=Math.round(X.y),L.x=Math.round(L.x),L.y=Math.round(L.y);let q=Math.abs(L.x-X.x),Z=Math.abs(L.y-X.y),K=q-Z,B=X.x,A=X.y,M=X.x<L.x?1:-1,T=X.y<L.y?1:-1;while(!0){if(H[B+A*Y]=U,B===L.x&&A===L.y)break;let $=2*K;if($<q)A+=T,K+=q;if($>-Z)B+=M,K-=Z}},toString({background:X=!1,format:L=(U,q,Z,K,B)=>Z}={}){let U=Array(Q).fill("");for(let q=0;q<z;q+=4){let Z=q*Y,K=Z+Y,B=K+Y,A=B+Y;for(let M=0;M<Y;M+=2){let T=10240;if(H[M+Z])T|=W[0];if(H[1+M+Z])T|=W[4];if(H[M+K])T|=W[1];if(H[1+M+K])T|=W[5];if(H[M+B])T|=W[2];if(H[1+M+B])T|=W[6];if(H[M+A])T|=W[3];if(H[1+M+A])T|=W[7];if(T===10240&&!X)U[q/4]+=" ";else U[q/4]+=L(M/(Y-1),q/(z-1),String.fromCharCode(T),H[M+Z]||H[1+M+Z]||H[M+K]||H[1+M+K]||H[M+B]||H[1+M+B]||H[M+A]||H[1+M+A],T===10240)}}return U}}}},lineplot:{symbols:{tl:"\u250C",tr:"\u2510",bl:"\u2514",br:"\u2518"},ascii(w,{colors:Q=!0,xmin:Y=0,xmax:z=1,ymin:H=0,ymax:W=1,symbols:X=F.lineplot.symbols,key:L=8,width:U=12,height:q=12,labels:Z={xmin:null,xmax:null,ymin:null,ymax:null}}={}){let K=Object.keys(w),B=F.canvas.braille(U,q),A=(B.vwidth-1)/(z-Y),M=(B.vheight-1)/(W-H),T=Object.entries(Q).filter(([b])=>!Object.keys(Z).includes(b)).map(([b,I])=>I),$=F.colors.filter((b)=>!T.includes(F[b]));K.forEach((b,I)=>{let{x:_,y}=w[b];for(let h=0;h<_.length-1;h++){if(_[h]==null||_[h+1]==null)continue;if(y[h]==null||y[h+1]==null)continue;let q0={x:Math.round(A*(_[h]-Y)),y:B.vheight-1-Math.round(M*(y[h]-H))},a={x:Math.round(A*(_[h+1]-Y)),y:B.vheight-1-Math.round(M*(y[h+1]-H))};B.line(q0,a,1+I)}});let G=Array(2+B.height).fill("");G[0]+=" ".repeat(1+L),G[0]+=X.tl+" ".repeat(U)+X.tr;let E=B.toString({format(b,I,_,y){let h=K[y-1];if(w[h].format)return w[h].format(b,I,_);else if(Q?.[h])return Q[h]+_+F.reset;else return F[$[(y-1)%$.length]]+_+F.reset}}),R={0:!Q?.ymax?Z.ymax||"":Q.ymax+(Z.ymax||"")+F.reset,[E.length-1]:!Q?.ymin?Z.ymin||"":Q.ymin+(Z.ymin||"")+F.reset},j=K.map((b,I)=>{if(Q?.[b])return Q[b]+F.str(b,L).padStart(L)+F.reset;else return F[$[I%$.length]]+F.str(b,L).padStart(L)+F.reset});if(E.forEach((b,I)=>{G[I+1]+=j[I]??" ".repeat(L),G[I+1]+=" ".repeat(2)+b+(!R[I]?"":" "+R[I])}),G[G.length-1]+=" ".repeat(1+L),G[G.length-1]+=X.bl+" ".repeat(U)+X.br,Z.xmin||Z.xmax){let b=Z.xmin||"",I=Z.xmax||"",_=2+U-b.length;G.push(" ".repeat(L)+" "+(!Q?.xmin?b:Q.xmin+b+F.reset)+(!Q?.xmax?I.padStart(_):Q.xmax+I.padStart(_)+F.reset))}return G}},histogram:{symbols:["\u2581","\u2582","\u2583","\u2584","\u2585","\u2586","\u2587","\u2588"],bins(w,Q=6,Y=1){let z=Y*(w.samples.length-1)|0,H=w.min,W=w.samples[z]||w.max||1,X=Array(Q),L=Array(Q).fill(0),U=(W-H)/(Q-1);if(U===0){H=0;for(let q=0;q<Q;q++)X[q]=q*U;L[F.clamp(0,Math.round((w.avg-H)/U),Q-1)]=1}else{for(let q=0;q<Q;q++)X[q]=H+q*U;for(let q=0;q<=z;q++)L[Math.round((w.samples[q]-H)/U)]++}return{min:H,max:W,step:U,bins:L,steps:X,peak:F.max(L),outliers:w.samples.length-1-z,avg:F.clamp(0,Math.round((w.avg-H)/U),Q-1)}},ascii(w,Q=1,{colors:Y=!0,symbols:z=F.histogram.symbols}={}){let H=Array(Q),{avg:W,peak:X,bins:L}=w,U=(Q*z.length-1)/X;for(let q=0;q<Q;q++){let Z="";if(W!==0){if(Y)Z+=F.cyan;for(let K=0;K<W;K++){let B=L[K];if(q===0)Z+=z[F.clamp(0,Math.round(B*U),z.length-1)];else{let A=q*z.length,M=(q+1)*z.length,T=Math.round(B*U)|0;if(A>=T)Z+=" ";else if(M<=T)Z+=z[z.length-1];else Z+=z[F.clamp(A,T,M)%z.length]}}if(Y)Z+=F.reset}{if(Y)Z+=F.yellow;let K=L[W];if(q===0)Z+=z[F.clamp(0,Math.round(K*U),z.length-1)];else{let B=q*z.length,A=(q+1)*z.length,M=Math.round(K*U)|0;if(B>=M)Z+=" ";else if(A<=M)Z+=z[z.length-1];else Z+=z[F.clamp(B,M,A)%z.length]}if(Y)Z+=F.reset}if(W!=L.length-1){if(Y)Z+=F.magenta;for(let K=1+W;K<L.length;K++){let B=L[K];if(q===0)Z+=z[F.clamp(0,Math.round(B*U),z.length-1)];else{let A=q*z.length,M=(q+1)*z.length,T=Math.round(B*U)|0;if(A>=T)Z+=" ";else if(M<=T)Z+=z[z.length-1];else Z+=z[F.clamp(A,T,M)%z.length]}}if(Y)Z+=F.reset}H[q]=Z}return H.reverse()}},boxplot:{symbols:{v:"\u2502",h:"\u2500",tl:"\u250C",tr:"\u2510",bl:"\u2514",br:"\u2518",avg:{top:"\u252C",middle:"\u2502",bottom:"\u2534"},tail:{top:"\u2577",bottom:"\u2575",middle:["\u251C","\u2524"]}},ascii(w,Q=8,Y=14,{fmt:z=F.time,colors:H=!0,symbols:W=F.boxplot.symbols}={}){let X=1/0,L=-1/0,U=Object.keys(w),q=Array(3+3*U.length).fill("");for(let $ of U){let G=w[$];if(X>G.min)X=G.min;let E=G.p99||G.max||1;if(E>L)L=E}let Z=2+Y,K=(L-X)/(Z-1);q[0]+=" ".repeat(1+Q),q[0]+=W.tl+" ".repeat(Y)+W.tr,U.forEach(($,G)=>{G*=3;let E=w[$],R=E.min,j=E.avg,b=E.p25,I=E.p75,_=E.p99||E.max||1,y=1+Math.min(Z-1,Math.round((R-X)/K)),h=1+Math.min(Z-1,Math.round((_-X)/K)),q0=1+Math.min(Z-1,Math.round((j-X)/K)),a=1+Math.min(Z-1,Math.round((b-X)/K)),C0=1+Math.min(Z-1,Math.round((I-X)/K)),M0=Array(2+Z).fill(" "),o=Array(2+Z).fill(" "),d=Array(2+Z).fill(" ");if(M0[0]=!H?"":F.cyan,o[0]=!H?"":F.cyan,d[0]=!H?"":F.cyan,y<a){M0[y]=W.tail.top,d[y]=W.tail.bottom,o[y]=W.tail.middle[0];for(let z0=1+y;z0<a;z0++)o[z0]=W.h}if(q0>a){M0[a]=W.tl,d[a]=W.bl,o[a]=y===a?W.v:W.tail.middle[1];for(let z0=1+a;z0<q0;z0++)M0[z0]=d[z0]=W.h}if(M0[q0]=!H?W.avg.top:F.reset+F.yellow+W.avg.top+F.reset+F.magenta,d[q0]=!H?W.avg.bottom:F.reset+F.yellow+W.avg.bottom+F.reset+F.magenta,o[q0]=!H?W.avg.middle:F.reset+F.yellow+W.avg.middle+F.reset+F.magenta,q0<C0){M0[C0]=W.tr,d[C0]=W.br,o[C0]=h===C0?W.v:W.tail.middle[0];for(let z0=1+q0;z0<C0;z0++)M0[z0]=d[z0]=W.h}if(h>C0){M0[h]=W.tail.top,d[h]=W.tail.bottom,o[h]=W.tail.middle[1];for(let z0=1+Math.max(q0,C0);z0<h;z0++)o[z0]=W.h}if(q[G+1]=" ".repeat(1+Q)+M0.join("").trimEnd()+(!H?"":F.reset),H?.[$])q[G+2]+=H[$];if(q[G+2]+=F.str($,Q).padStart(Q),H?.[$])q[G+2]+=F.reset;q[G+2]+=" "+o.join("").trimEnd()+(!H?"":F.reset),q[G+3]=" ".repeat(1+Q)+d.join("").trimEnd()+(!H?"":F.reset)}),q[q.length-2]+=" ".repeat(1+Q),q[q.length-2]+=W.bl+" ".repeat(Y)+W.br;let B=z(X),A=z(L),M=z((X+L)/2),T=(Y-B.length-M.length-A.length)/2;return q[q.length-1]+=" ".repeat(1+Q),q[q.length-1]+=!H?B:F.cyan+B+F.reset,q[q.length-1]+=" ".repeat(1+T|0),q[q.length-1]+=!H?M:F.gray+M+F.reset,q[q.length-1]+=" ".repeat(1+Math.ceil(T)),q[q.length-1]+=!H?A:F.magenta+A+F.reset,q}}};function AX(w){if(w===null||w.BS_PRIVATE_NESTED_SOME_NONE===void 0)return w;let Q=w.BS_PRIVATE_NESTED_SOME_NONE;if(Q===0)return;else return{BS_PRIVATE_NESTED_SOME_NONE:Q-1|0}}var ZX={};function q_(w){let Q=ZX[w];if(Q!==void 0){let Y=Q+1|0;return ZX[w]=Y,w+("/"+Y)}return ZX[w]=1,w}var O_=[];function Z_(w){return w.slice(0,1).toUpperCase()+w.slice(1)}var MX=(w)=>({...w});function xY(w){let Q=0;while(!0){let Y=Q,z=w[Y];if(z===void 0)return'"'+w+'"';switch(z){case'"':case`
`:return JSON.stringify(w);default:Q=Y+1|0;continue}}}function N_(w){if(w==="")return[];else return JSON.parse(w.split('"]["').join('","'))}var TX="sury",RX=Symbol(TX),N90=Symbol(TX+":item"),F_=q_("Sury.Error"),A8="const";function JO(w,Q){return(w&Q)!==0}var m9={unknown:1,string:2,number:4,boolean:8,undefined:16,null:32,object:64,array:128,union:256,ref:512,bigint:1024,nan:2048,function:4096,instance:8192,never:16384,symbol:32768};function rz(w){let Q=m9[typeof w];if(Q&16)return"undefined";if(!(Q&64))if(Q&2)return'"'+w+'"';else if(Q&1024)return w+"n";else return w.toString();if(w===null)return"null";if(Array.isArray(w)){let H="[";for(let W=0,X=w.length;W<X;++W){if(W!==0)H=H+", ";H=H+rz(w[W])}return H+"]"}if(w.constructor!==Object)return Object.prototype.toString.call(w);let Y=Object.keys(w),z="{ ";for(let H=0,W=Y.length;H<W;++H){let X=Y[H],L=w[X];z=z+X+": "+rz(L)+"; "}return z+"}"}function E9(w){let{type:Q,const:Y,name:z}=w;if(z!==void 0)return z;if(Y!==void 0)return rz(Y);let{format:H,anyOf:W}=w;if(W!==void 0)return W.map(E9).join(" | ");if(H!==void 0)return H;switch(Q){case"nan":return"NaN";case"object":let{additionalItems:X,properties:L}=w,U=Object.keys(L);if(U.length===0)if(typeof X==="object")return"{ [key: string]: "+E9(X)+"; }";else return"{}";else return"{ "+U.map((q)=>q+": "+E9(L[q])+";").join(" ")+" }";default:if(w.b)return Q;switch(Q){case"instance":return w.class.name;case"array":let{additionalItems:q,items:Z}=w;if(typeof q!=="object")return"["+Z.map((B)=>E9(B.schema)).join(", ")+"]";let K=E9(q);return(q.type==="union"?"("+K+")":K)+"[]";default:return Q}}}class U4 extends Error{constructor(w,Q,Y){super();this.flag=Q,this.code=w,this.path=Y}}var T8=Object.defineProperty,BQ=U4.prototype;T8(BQ,"message",{get(){return LO(this)}});T8(BQ,"reason",{get(){return sz(this)}});T8(BQ,"name",{value:"SuryError"});T8(BQ,"s",{value:RX});T8(BQ,"_1",{get(){return this}});T8(BQ,"RE_EXN_ID",{value:F_});var H6=function(w){this.type=w},CX=Object.create(null);T8(CX,"with",{get(){return(w,...Q)=>w(this,...Q)}});H6.prototype=CX;function nz(w){if(w&&w.s===RX)return w;throw w}function sz(w,Q){let Y=Q!==void 0?Q:0,z=w.code;if(typeof z!=="object")return"Encountered unexpected async transform or refine. Use parseAsyncOrThrow operation instead";switch(z.TAG){case"OperationFailed":return z._0;case"InvalidOperation":return z.description;case"InvalidType":let H=z.unionErrors,W="Expected "+E9(z.expected)+", received "+rz(z.received);if(H!==void 0){let X=`
`+" ".repeat(Y<<1),L={};for(let U=0,q=H.length;U<q;++U){let Z=H[U],K=sz(Z,Y+1),B=Z.path,M="- "+(B===""?"":"At "+B+": ")+K;if(!L[M])L[M]=1,W=W+X+M}}return W;case"UnsupportedTransformation":return"Unsupported transformation from "+E9(z.from)+" to "+E9(z.to);case"ExcessField":return'Unrecognized key "'+z._0+'"';case"InvalidJsonSchema":return E9(z._0)+" is not valid JSON"}}function LO(w){let Q=w.flag,Y="Failed ";if(Q&2)Y=Y+"async ";if(Y=Y+(Q&1?Q&4?"asserting":"parsing":"converting"),Q&8)Y=Y+" to JSON"+(Q&16?" string":"");let z=w.path,H=z===""?"":" at "+z;return Y+H+": "+sz(w,void 0)}var UO={m:LO,d:void 0,a:"strip",n:!1},KX="as",K_={get:(w,Q)=>{let Y=w[KX];if(Y===void 0)return w[Q];if(Q===KX)return w[Q];let z=AX(Y),H="Schema S."+z+" is not enabled. To start using it, add S.enable"+Z_(z)+"() at the project root.";throw Error("[Sury] "+H)}};function qO(w){let Q=new H6("never");return Q[KX]=w,new Proxy(Q,K_)}var vY=new H6("unknown"),OO=new H6("boolean"),B_=new H6("symbol"),DX=new H6("string"),VX=new H6("number");VX.format="int32";var A_=new H6("number"),M_=new H6("bigint"),M8=new H6("undefined");M8.const=void 0;var cz=(w)=>{let Q=new H6(w.type);for(let Y in w)if(Y>"a"||Y==="$ref"||Y==="$defs")Q[Y]=w[Y];return Q};function dz(w,Q){let Y=cz(w),z=Y;while(z.to){let H=cz(z.to);z.to=H,z=H}return Q(z),Y}var T_=U4;function R_(w,Q,Y){return new U4(w,Q,Y)}var ZO={value:T_,constructor:R_};function pw(w,Q){let Y=w.g.e,z=Y.length;return Y[z]=Q,"e["+z+"]"}function az(w,Q){let Y=m9[Q.type],z=Q.const;if(Y&16)return"void 0";else if(Y&2)return xY(z);else if(Y&1024)return z+"n";else if(Y&45056)return pw(w,Q.const);else return z}function FQ(w,Q){let Y='"'+Q+'"',z=w.g[Y];if(z!==void 0)return z;let H=xY(Q);return w.g[Y]=H,H}function C_(w){let Q=this;Q.l=Q.l+","+w}function q4(w){let Q=this;Q.l=w,Q.a=C_}function NO(w,Q){let Y={c:"",l:"",a:q4,v:-1,o:w,f:"",e:[],d:Q};return Y.g=Y,Y}function AQ(w){delete w.a;let Q=w.l;if(Q==="")return w.f+w.c;else return w.f+"let "+Q+";"+w.c}function yY(w){let Q=w.v+1;return w.v=Q,"v"+Q}function MQ(w){return this.i}function Zw(w){let Q=this,Y=yY(w.g),z=Q.i;if(z==="")Q.b.a(Y);else if(w.a!==void 0)w.a(Y+"="+z);else w.c=w.c+(Y+"="+z+";"),w.g.a(Y);return Q.v=MQ,Q.i=Y,Y}function BX(w,Q){let Y=yY(w.g);return w.a(Y),{b:w,v:MQ,i:Y,f:0,type:Q.type}}function KQ(w,Q,Y){return{b:w,v:Zw,i:Q,f:0,type:Y.type}}function NX(w,Q){return{b:w,v:Zw,i:az(w,Q),f:0,type:Q.type,const:Q.const}}function GX(w,Q){return{b:w,v:Zw,i:Q,f:2,type:"unknown"}}function D_(w,Q){return w+":"+Q+","}function V_(w,Q){return Q+","}function t1(w,Q){return{b:w,v:Zw,i:"",f:0,type:Q?"array":"object",properties:{},additionalItems:"strict",j:Q?V_:D_,c:0,r:""}}function e1(w,Q,Y){let z=FQ(w.b,Q);if(w.properties[Q]=Y,Y.f&2)w.r=w.r+Y.i+",",w.i=w.i+w.j(z,"a["+w.c+++"]");else w.i=w.i+w.j(z,Y.i)}function wO(w,Q){if(w.i=Q?"["+w.i+"]":"{"+w.i+"}",w.c)w.f=w.f|2,w.i="Promise.all(["+w.r+"]).then(a=>("+w.i+"))";return w.additionalItems="strict",w}function G_(w,Q,Y,z){return Q.v(w)+"["+Y+"]="+z.i}function QO(w,Q,Y){if(Q===Y)return"";let z=Q.v(w),H=Q.f&2,W=Y.f&2;if(H){if(!W)return z+"=Promise.resolve("+Y.i+")"}else if(W)return Q.f=Q.f|2,z+"="+Y.i;return z+"="+Y.i}function $_(w,Q,Y){let z=Q.properties,H=z[Y];if(H!==void 0)return H;let W=Q.additionalItems,X;if(W==="strip"||W==="strict"){if(W==="strip")throw Error("[Sury] The schema doesn't have additional items");throw Error("[Sury] The schema doesn't have additional items")}else X=W;let L={b:w,v:Zw,i:Q.v(w)+("["+xY(Y)+"]"),f:0,type:X.type};return z[Y]=L,L}function P_(w,Q,Y){return Q.v(w)+"="+Y}function E_(w,Q){return{b:Q.b,v:Zw,i:w+"("+Q.i+")",f:0,type:"unknown"}}function $X(w,Q,Y){throw new U4(Q,w.g.o,Y)}function J4(w,Q,Y,z){return pw(w,(H)=>$X(w,Y(H),Q))+"("+z+")"}function FO(w,Q,Y,z,H,W){if(Y===""&&z===void 0)return W(w,Q,Y);try{let X=(E,R)=>{E.c=R+".path="+xY(Y)+"+"+(z!==void 0?`'["'+`+z+`+'"]'+`:"")+R+".path"},L=(E)=>W(E,Q,""),U=w.c;w.c="";let q=yY(w.g),Z=X(w,q),K="if("+(q+"&&"+q+".s===s")+"){"+w.c;w.c="";let B={c:"",l:"",a:q4,f:"",g:w.g},A=L(B);w.c=w.c+AQ(B);let M=A.i===Q.i&&w.c==="";if(H!==void 0)H(w,A);if(M)return A;let T=A.f&2,$=Q===A?Q:H!==void 0?A:{b:w,v:Zw,i:"",f:T?2:0,type:"unknown"},G=Z!==void 0?(E)=>K+(E===1?"return "+Z.i:QO(w,$,Z))+("}else{throw "+q+"}"):(E)=>K+"}throw "+q;return w.c=U+("try{"+w.c+(T?P_(w,$,A.i+".catch("+q+"=>{"+G(1)+"})"):QO(w,$,A))+"}catch("+q+"){"+G(0)+"}"),$}catch(X){let L=nz(X);throw new U4(L.code,L.flag,Y+"[]"+L.path)}}function NQ(w,Q,Y,z){let H=z?"!==":"===",W=z?"||":"&&",X=z?"!":"",L=Y.type,U=m9[L];if(U&2048)return X+("Number.isNaN("+Q+")");if(A8 in Y)return Q+H+az(w,Y);if(U&4)return"typeof "+Q+H+'"'+L+'"';if(U&64)return"typeof "+Q+H+'"'+L+'"'+W+X+Q;if(U&128)return X+"Array.isArray("+Q+")";if(!(U&8192))return"typeof "+Q+H+'"'+L+'"';let q=Q+" instanceof "+pw(w,Y.class);if(z)return"!("+q+")";else return q}function fY(w,Q,Y,z){let H=z?"!==":"===",W=z?"||":"&&",X=z?"":"!",L=z?">":"<",U=z?"<":">",q=Y.type,Z,K=0;if(Y.const!==void 0)return"";let A=Y.format;if(A!==void 0)switch(A){case"int32":return W+Q+L+"2147483647"+W+Q+U+"-2147483648"+W+Q+"%1"+H+"0";case"port":case"json":K=2;break}else K=2;if(K===2)switch(q){case"number":if(UO.n)return"";else return W+X+"Number.isNaN("+Q+")";case"array":case"object":Z=q;break;default:return""}let{additionalItems:M,items:T}=Y,$=T.length,G=Z==="array"?M==="strip"||M==="strict"?M==="strip"?W+Q+".length"+U+$:W+Q+".length"+H+$:"":M==="strip"?"":W+X+"Array.isArray("+Q+")";for(let E=0,R=T.length;E<R;++E){let j=T[E],b=j.location,I=j.schema,_;if(A8 in I||Y.unnest){let y=FQ(w,b);_=NQ(w,Q+("["+y+"]"),I,z)}else if(I.items){let y=FQ(w,b),h=Q+("["+y+"]");_=NQ(w,h,I,z)+fY(w,h,I,z)}else _="";if(_!=="")G=G+W+_}return G}function KO(w,Q,Y){let z={b:w,v:Q.v,i:Q.i,f:Q.f,type:Y.type},H=(W,X)=>{if(A8 in X)W.const=X.const;let L=X.items;if(L===void 0)return;let U={};L.forEach((q)=>{let Z=q.schema,K=A8 in Z;if(!(K||Z.items))return;let B;if(K)B=az(w,Z);else{let M=FQ(w,q.location);B=W.v(w)+("["+M+"]")}let A={b:W.b,v:Zw,i:B,f:0,type:Z.type};H(A,Z),U[q.location]=A}),W.properties=U,W.additionalItems=vY};return H(z,Y),z}function YO(w,Q,Y,z){if(Q.noValidation||m9[Q.type]&17153)return"";let H=Y.v(w);return"if("+NQ(w,H,Q,!0)+fY(w,H,Q,!0)+"){"+J4(w,z,(W)=>({TAG:"InvalidType",expected:Q,received:W}),H)+"}"}function BO(w,Q,Y,z){return $X(w,{TAG:"UnsupportedTransformation",from:Q,to:Y},z)}function S_(w){return w}function AO(w,Q){w[Q==="union"||Q==="ref"?"unknown":Q]=!0}var b_="JSON",MO=qO("jsonString");function zO(w,Q){return KQ(w,'""+'+Q.i,DX)}function TQ(w,Q,Y,z){let H={c:"",l:"",a:q4,f:"",g:w.g};if(Q.$defs)H.g.d=Q.$defs;let W=Y,X=A8 in W,L=A8 in Q,U=W.type===Q.type,q=m9[Q.type],Z=m9[W.type],K=!1;if(!(q&257||Q.format==="json")){if(Q.name===b_&&!(Z&1)){if(!(Z&14))if(Z&1024)W=zO(H,W);else K=!0}else if(L)if(X){if(W.const!==Q.const)W=NX(H,Q)}else if(Z&2&&q&3132){let M=W.v(H);H.f=Q.noValidation?"":W.i+'==="'+Q.const+'"||'+J4(H,z,(T)=>({TAG:"InvalidType",expected:Q,received:T}),M)+";",W=NX(H,Q)}else if(Q.noValidation)W=NX(H,Q);else H.f=YO(w,Q,W,z),W.type=Q.type,W.const=Q.const;else if(X&&!L){if(!U)if(q&2&&Z&3132){let M=""+W.const;W={b:H,v:Zw,i:'"'+M+'"',f:0,type:"string",const:M}}else K=!0}else if(Z&1){let M=Q.$ref;if(M!==void 0){let T=H.g.d,$=M.slice(8),G=T[$],E=Q.noValidation?(H.g.o|1)^1:H.g.o,R=G[E],j;if(R!==void 0){let b=AX(R);j=b===0?pw(H,G)+("["+E+"]"):pw(H,b)}else{G[E]=0;let b=RO(G,E,H.g.d);G[E]=b,j=pw(H,b)}W=FO(H,W,z,void 0,void 0,(b,I,_)=>{let y=E_(j,I);if(G.isAsync===void 0){let h=MX(T);h[$]=vY,I_(G,h)}if(G.isAsync)y.f=y.f|2;return y}),W.v(H)}else{if(H.g.o&1)H.f=YO(w,Q,W,z);let T=KO(H,W,Q);if(W.type=T.type,W.i=T.i,W.v=T.v,W.additionalItems=T.additionalItems,W.properties=T.properties,A8 in T)W.const=T.const}}else if(q&2&&Z&1036)W=zO(H,W);else if(!U)if(Z&2){let M=W.v(H);if(q&8){let T=BX(H,Q);H.c=H.c+("("+T.i+"="+M+'==="true")||'+M+'==="false"||'+J4(H,z,($)=>({TAG:"InvalidType",expected:Q,received:$}),M)+";"),W=T}else if(q&4){let T=KQ(H,"+"+M,Q),$=T.v(H),G=Q.format;H.c=H.c+(G!==void 0?"("+fY(H,$,Q,!0).slice(2)+")":"Number.isNaN("+$+")")+("&&"+J4(H,z,(E)=>({TAG:"InvalidType",expected:Q,received:E}),M)+";"),W=T}else if(q&1024){let T=BX(H,Q);H.c=H.c+("try{"+T.i+"=BigInt("+M+")}catch(_){"+J4(H,z,($)=>({TAG:"InvalidType",expected:Q,received:$}),M)+"}"),W=T}else K=!0}else if(Z&4&&q&1024)W=KQ(H,"BigInt("+W.i+")",Q);else K=!0}if(K)BO(H,W,Q,z);let B=Q.compiler;if(B!==void 0)W=B(H,W,Q,z);if(W.t!==!0){let M=Q.refiner;if(M!==void 0)H.c=H.c+M(H,W.v(H),Q,z)}let A=Q.to;if(A!==void 0){let M=Q.parser;if(M!==void 0)W=M(H,W,Q,z);if(W.t!==!0)W=TQ(H,A,W,z)}return w.c=w.c+AQ(H),W}function TO(w){while(!0){let Q=w,Y=Q.to;if(Y===void 0)return Q;w=Y;continue}}function gY(w,Q,Y,z){let H=m9[w.type];if(H&48129||H&16&&Q.type!=="object")throw new U4({TAG:"InvalidJsonSchema",_0:Q},z,Y);if(H&256){w.anyOf.forEach((L)=>gY(L,Q,Y,z));return}if(!(H&192))return;let W=w.additionalItems;if(W==="strip"||W==="strict");else gY(W,Q,Y,z);let X=w.properties;if(X!==void 0){let L=Object.keys(X);for(let U=0,q=L.length;U<q;++U){let Z=L[U];gY(X[Z],Q,Y,z)}return}w.items.forEach((L)=>gY(L.schema,w,Y+("["+xY(L.location)+"]"),z))}function L4(w){let Q,Y=w;while(Y){let z=cz(Y),H=z.to,W=Q;if(W!==void 0)z.to=W;else delete z.to;let{parser:X,serializer:L}=z;if(L!==void 0)z.parser=L;else delete z.parser;if(X!==void 0)z.serializer=X;else delete z.serializer;let{fromDefault:U,default:q}=z;if(q!==void 0)z.fromDefault=q;else delete z.fromDefault;if(U!==void 0)z.default=U;else delete z.default;let Z=z.items;if(Z!==void 0){let A={},M=Array(Z.length);for(let $=0,G=Z.length;$<G;++$){let E=Z[$],R=L4(E.schema),j=E.location,b={schema:R,location:j};if(E.r)b.r=E.r;A[E.location]=R,M[$]=b}if(z.items=M,z.properties!==void 0)z.properties=A}if(typeof z.additionalItems==="object")z.additionalItems=L4(z.additionalItems);let K=z.anyOf;if(K!==void 0){let A={},M=[];for(let T=0,$=K.length;T<$;++T){let G=K[T],E=L4(G);M.push(E),AO(A,E.type)}z.has=A,z.anyOf=M}let B=z.$defs;if(B!==void 0){let A={};for(let M=0,T=Object.keys(B).length;M<T;++M){let $=Object.keys(B)[M];A[$]=L4(B[$])}z.$defs=A}Q=z,Y=H}return Q}function RO(w,Q,Y){let z=NO(Q,Y);if(Q&8){let B=L4(w);gY(B,B,"",Q)}let H={b:z,v:MQ,i:"i",f:0,type:"unknown"},W=Q&4?dz(w,(B)=>{let A=new H6(M8.type);A.const=M8.const,A.noValidation=!0,B.to=A}):Q&16?dz(w,(B)=>{B.to=MO}):w,X=TQ(z,W,H,""),L=AQ(z),U=JO(X.f,2);if(W.isAsync=U,L===""&&X===H&&!(Q&2))return S_;let q=X.i;if(Q&2&&!U&&!Y)q="Promise.resolve("+q+")";let Z="i=>{"+L+"return "+q+"}",K=z.g.e;return Function("e","s","return "+Z)(K,RX)}function I_(w,Q){try{let Y=NO(2,Q),H=TQ(Y,w,{b:Y,v:MQ,i:"i",f:0,type:"unknown"},""),W=JO(H.f,2);return w.isAsync=W,W}catch(Y){return nz(Y),!1}}function PX(w,Q){if(Q in w)return w[Q];let Y=RO(Q&32?L4(w):w,Q,0);return w[Q]=Y,Y}T8(CX,"~standard",{get:function(){let w=this;return{version:1,vendor:TX,validate:(Q)=>{try{return{value:PX(w,1)(Q)}}catch(Y){let z=nz(Y);return{issues:[{message:sz(z,void 0),path:z.path===""?void 0:N_(z.path)}]}}}}}});function CO(w,Q){return PX(Q,1)(w)}var EX=new H6("null");EX.const=null;function DO(w){if(w===null)return EX;let Q=typeof w,Y;if(Q==="object"){let z=new H6("instance");z.class=w.constructor,Y=z}else Y=Q==="undefined"?M8:Q==="number"?Number.isNaN(w)?new H6("nan"):new H6(Q):new H6(Q);return Y.const=w,Y}function __(w,Q){if(w!==void 0)return(Y,z,H,W)=>w(Y,z,H,W)+Q(Y,z,H,W);else return Q}var VO=new H6("null");VO.const=null;VO.to=M8;function j_(w,Q,Y,z){return w.c=w.c+J4(w,z,(H)=>({TAG:"InvalidType",expected:Y,received:H}),Q.i)+";",Q}var GO=new H6("never");GO.compiler=j_;var k_="BS_PRIVATE_NESTED_SOME_NONE";function FX(w,Q,Y,z,H,W){try{let X=w.g.o;if(H)w.g.o=X|1;let L={c:"",l:"",a:q4,f:"",g:w.g},U=H?MX(Y):KO(L,Y,Q),q=TQ(L,Q,U,W);if(q!==U){if(q.b=L,q.f&2)z.f=z.f|2;L.c=L.c+(z.v(w)+"="+q.i)}return w.g.o=X,AQ(L)}catch(X){return"throw "+pw(w,nz(X))}}function HO(w,Q){if(w&8320&&"object"in Q)return!0;else if(w&2048)return"number"in Q;else return!1}function g_(w,Q){return Q.every((Y,z)=>{let H=w[z];if(H!==void 0&&!(m9[Y.type]&9152)&&Y.type===H.type)return Y.const===H.const;else return!1})}function f_(w,Q,Y,z){let H=Y.anyOf,W=Q.anyOf;if(W!==void 0)if(g_(H,W))return Q;else return BO(w,Q,Y,z);let X=(I)=>pw(w,function(){let _=arguments;return $X(w,{TAG:"InvalidType",expected:Y,received:_[0],unionErrors:_.length>1?Array.from(_).slice(1):void 0},z)})+"("+Q.v(w)+I+")",L=w.g.o&1,U=Q.i,q=-1,Z=H.length-1|0,K={},B=[];for(let I=0;I<=Z;++I){let _=Y.to,y=_!==void 0&&!Y.parser&&_.type!=="union"?dz(H[I],(a)=>{let C0=Y.refiner;if(C0!==void 0)a.refiner=__(a.refiner,C0);a.to=_}):H[I],h=y.type,q0=m9[h];if(!(q0&16&&("fromDefault"in Y)))if(q0&17153||!(m9[Q.type]&1)&&Q.type!==h)q=I,K={},B=[];else{let a=q0&8192?y.class.name:h,C0=K[a];if(C0!==void 0){if(q0&64&&k_ in y.properties)C0.unshift(y);else if(!(q0&2096))C0.push(y)}else{if(HO(q0,K))B.unshift(a);else B.push(a);K[a]=[y]}}}let A=q,M=K,T=B,$="",G="",E="",R=!1;if(A!==-1){for(let I=0;I<=A;++I)if(!R){let _=H[I],y=FX(w,_,Q,Q,!0,z);if(y){let h="e"+I;$=$+("try{"+y+"}catch("+h+"){"),G="}"+G,E=E+","+h}else R=!0}}if(!R){let I=!1,_="";for(let y=0,h=T.length;y<h;++y){let q0=M[T[y]],a=q0.length>1,C0=q0[0],M0=0,o;if(a){let d=Q.v(w),z0="",$9="",kw=!1,Hw={contents:""},Wz="",u4={},a8=0,hH=q0.length-1|0;while(a8<=hH){let k9=q0[a8],Ww=(A8 in k9?NQ(w,d,k9,!1):"")+fY(w,d,k9,!1).slice(2),p4=FX(w,k9,Q,Q,!1,z);if(Ww)if(p4){let Xw=u4[Ww];if(Xw!==void 0)if(typeof Xw==="string")u4[Ww]=[Xw,p4];else Xw.push(p4);else u4[Ww]=p4}else Hw.contents=Hw.contents?Hw.contents+"||"+Ww:Ww;if(!Ww||a8===hH){let Xw=Object.keys(u4);for(let Xz=0,TE=Xw.length;Xz<TE;++Xz){let VL=Xw[Xz];z0=z0+(kw?"else if":"if")+("("+VL+"){");let YY=u4[VL];if(typeof YY==="string")z0=z0+YY+"}";else{let oH="";for(let Jz=0,RE=YY.length;Jz<RE;++Jz){let CE=YY[Jz],GL="e"+Jz;z0=z0+("try{"+CE+"}catch("+GL+"){"),oH=oH+","+GL}z0=z0+X(oH)+"}".repeat(YY.length)+"}"}kw=!0}u4={}}if(!Ww)if(p4){if(Hw.contents)z0=z0+(kw?"else if":"if")+("(!("+Hw.contents+")){"),$9="}"+$9,Hw.contents="",kw=!1;let Xw="e"+a8;z0=z0+((kw?"else{":"")+"try{"+p4+"}catch("+Xw+"){"),$9=(kw?"}":"")+"}"+$9,Wz=Wz+","+Xw,kw=!1}else Hw.contents="",a8=hH;a8=a8+1}if(M0=(k9)=>NQ(w,k9,{type:C0.type,parser:0},!1),Hw.contents)if(z0){if(L)z0=z0+(kw?"else if":"if")+("(!("+Hw.contents+")){"+X(Wz)+"}")}else{let k9=M0;M0=(Ww)=>k9(Ww)+("&&("+Hw.contents+")")}else if(L&&z0){let k9=X(Wz);z0=z0+(kw?"else{"+k9+"}":k9)}o=z0+$9}else M0=(d)=>NQ(w,d,C0,!1)+fY(w,d,C0,!1),o=FX(w,C0,Q,Q,!1,z);if(o||HO(m9[C0.type],M))$=$+(I?"else if":"if")+("("+M0(Q.v(w))+"){"+o+"}"),I=!0;else if(L){let d=M0(Q.v(w));_=_?_+"||"+d:d}}if(L||A===Z){let y=X(E),h;if(_)h=(I?"else if":"if")+("(!("+_+")){"+y+"}");else h=I?"else{"+y+"}":y;$=$+h}}w.c=w.c+$+G;let j=Q.f&2?GX(w,"Promise.resolve("+Q.i+")"):Q.v===MQ?w.c===""&&Q.b.c===""&&(Q.b.l===Q.i+"="+U||U==="i")?(Q.b.l="",Q.b.a=q4,Q.v=Zw,Q.i=U,Q):MX(Q):Q;j.anyOf=Y.anyOf;let b=Y.to;return j.type=b!==void 0&&b.type!=="union"?(j.t=!0,TO(b).type):"union",j}function SX(w){let Q=w.length;if(Q===1)return w[0];if(Q!==0){let Y={},z=new Set;for(let W=0,X=w.length;W<X;++W){let L=w[W];if(L.type==="union"&&L.to===void 0)L.anyOf.forEach((U)=>{z.add(U)}),Object.assign(Y,L.has);else z.add(L),AO(Y,L.type)}let H=new H6("union");return H.anyOf=Array.from(z),H.compiler=f_,H.has=Y,H}throw Error("[Sury] S.union requires at least one item")}function WO(w,Q){return dz(w,(Y)=>{let z=Y.anyOf;if(z!==void 0){let H,W;for(let Z=0,K=z.length;Z<K;++Z){let B=z[Z],A=TO(B);if(A.type!=="undefined"){if(H!==void 0){let $="Can't set default for "+E9(Y);throw Error("[Sury] "+$)}H=B,W=A}}let X=H,L;if(X!==void 0)L=X;else{let Z="Can't set default for "+E9(Y);throw Error("[Sury] "+Z)}Y.parser=(Z,K,B,A)=>{let M=(R,j)=>{let b=j.v(R),I;return I=Q.TAG==="Value"?az(R,DO(Q._0)):pw(R,Q._0)+"()",KQ(R,b+"===void 0?"+I+":"+b,B.to)};if(!(K.f&2))return M(Z,K);let T={c:"",l:"",a:q4,f:"",g:Z.g},$={b:Z,v:MQ,i:yY(T.g),f:0,type:"unknown"},G=M(T,$),E=AQ(T);return GX(K.b,K.i+".then("+$.v(Z)+"=>{"+E+"return "+G.i+"})")};let U=cz(W),q=U.compiler;if(q!==void 0)U.serializer=q,delete U.compiler;else U.serializer=(Z,K,B,A)=>K;if(Y.to=U,Q.TAG!=="Value")return;try{Y.default=PX(L,32)(Q._0);return}catch(Z){return}}else{let H="Can't set default for "+E9(Y);throw Error("[Sury] "+H)}})}function x_(w,Q,Y,z){let H=Y.additionalItems,W=Q.v(w),X=yY(w.g),L={c:"",l:"",a:q4,f:"",g:w.g},U=KQ(L,W+"["+X+"]",vY),q=FO(L,U,z,X,void 0,(A,M,T)=>TQ(A,H,M,T)),Z=AQ(L),K=U!==q,B=K?KQ(w,"new Array("+W+".length)",Y):Q;if(B.type=Y.type,B.additionalItems=Y.additionalItems,K||Z!=="")w.c=w.c+("for(let "+X+"=0;"+X+"<"+W+".length;++"+X+"){"+Z+(K?G_(w,B,X,q):"")+"}");if(q.f&2)return GX(B.b,"Promise.all("+B.i+")");else return B}function v_(w){let Q=new H6("array");return Q.additionalItems=w,Q.items=O_,Q.compiler=x_,Q}var y_=qO("json");function m_(w,Q,Y,z,H){if(!(z.type==="object"&&z.additionalItems==="strict"&&w.g.o&1))return;let X=BX(w,vY).i;if(w.c=w.c+("for("+X+" in "+Q.v(w)+"){if("),Y.length!==0)for(let L=0,U=Y.length;L<U;++L){let q=Y[L];if(L!==0)w.c=w.c+"&&";w.c=w.c+(X+"!=="+FQ(w,q.location))}else w.c=w.c+"true";w.c=w.c+("){"+J4(w,H,(L)=>({TAG:"ExcessField",_0:L}),X)+"}}")}function XO(w,Q,Y,z){let{additionalItems:H,items:W}=Y,X=m9[Y.type]&128;if(w.g.o&64){let U=t1(w,X);for(let q=0,Z=W.length;q<Z;++q){let B=W[q].location;e1(U,B,Q.properties[B])}return wO(U,X)}let L=t1(w,X);for(let U=0,q=W.length;U<q;++U){let Z=W[U],K=Z.location,B=$_(w,Q,K),A=FQ(w,K),M=z+("["+A+"]");e1(L,K,TQ(w,Z.schema,B,M))}if(m_(w,Q,W,Y,z),(H!=="strip"||w.g.o&32)&&W.every((U)=>L.properties[U.location]===Q.properties[U.location]))return Q.additionalItems="strip",Q;else return wO(L,X)}function iz(w){if(typeof w!=="object"||w===null)return DO(w);if(w["~standard"])return w;if(Array.isArray(w)){for(let L=0,U=w.length;L<U;++L){let q=iz(w[L]),Z=L.toString();w[L]={schema:q,location:Z}}let X=new H6("array");return X.items=w,X.additionalItems="strict",X.compiler=XO,X}let Q=w.constructor;if(Q&&Q!==Object)return{type:"instance",const:w,class:Q};let Y=Object.keys(w),z=Y.length,H=[];for(let X=0;X<z;++X){let L=Y[X],U=iz(w[L]),q={schema:U,location:L};w[L]=U,H[X]=q}let W=new H6("object");return W.items=H,W.properties=w,W.additionalItems=UO.a,W.compiler=XO,W}var $O=iz;function PO(w){return SX([w,M8,EX])}function EO(w){return SX(w.map(iz))}function SO(w,Q){let Y=SX([w,M8]);if(Q===void 0)return Y;let z=AX(Q);if(typeof z==="function")return WO(Y,{TAG:"Callback",_0:z});else return WO(Y,{TAG:"Value",_0:z})}var bO=v_;var Ow0=ZO.value,bX=DX,K9=OO,IX=VX;var l0=SO;var IO=PO,_O=bO;var lw=EO;var _X=$O;var jO=CO;var C={};y6(C,{Update:()=>Ek,Metrics:()=>r9,Discard:()=>Pk,Create:()=>$k,Clone:()=>hY,Assign:()=>u_});var r9={assign:0,create:0,clone:0,discard:0,update:0};function u_(w,Q){return r9.assign+=1,{...w,...Q}}var N={};y6(N,{Ternary:()=>hj,StringGraphemeCount:()=>bj,Statements:()=>oj,Return:()=>lj,ReduceOr:()=>cj,ReduceAnd:()=>rj,PrefixIncrement:()=>dj,Or:()=>vO,Not:()=>yO,New:()=>yj,MultipleOf:()=>ij,Member:()=>mj,Keys:()=>jj,IsUndefined:()=>Cj,IsSymbol:()=>Rj,IsString:()=>Tj,IsObjectNotArray:()=>Mj,IsObject:()=>hO,IsNumber:()=>Aj,IsNull:()=>Bj,IsLessThan:()=>Pj,IsLessEqualThan:()=>Ej,IsIterator:()=>Kj,IsInteger:()=>Fj,IsGreaterThan:()=>$j,IsGreaterEqualThan:()=>Sj,IsFunction:()=>Dj,IsEqual:()=>Gj,IsDeepEqual:()=>gj,IsConstructor:()=>Vj,IsBoolean:()=>Nj,IsBigInt:()=>Zj,IsAsyncIterator:()=>Oj,IsArray:()=>mO,If:()=>pj,HasPropertyKey:()=>kj,Every:()=>Ij,Entries:()=>_j,Constant:()=>oO,ConstDeclaration:()=>uj,Call:()=>vj,ArrowFunction:()=>xj,ArrayLiteral:()=>fj,And:()=>fX});var J={};y6(J,{Values:()=>Xj,Symbols:()=>Wj,StringGraphemeCount:()=>e_,Keys:()=>tz,IsValueLike:()=>t_,IsUndefined:()=>kX,IsSymbol:()=>d_,IsString:()=>rw,IsObjectNotArray:()=>c_,IsObject:()=>Z4,IsNumber:()=>w7,IsNull:()=>ez,IsMultipleOf:()=>s_,IsLessThan:()=>n_,IsLessEqualThan:()=>fO,IsIterator:()=>r_,IsInteger:()=>jX,IsGreaterThan:()=>i_,IsGreaterEqualThan:()=>xO,IsFunction:()=>gO,IsEqual:()=>N0,IsDeepEqual:()=>gX,IsConstructor:()=>l_,IsClassInstance:()=>a_,IsBoolean:()=>kO,IsBigInt:()=>mY,IsAsyncIterator:()=>p_,IsArray:()=>O4,HasPropertyKey:()=>Yj,EveryAll:()=>Qj,Every:()=>wj,EntriesRegExp:()=>zj,Entries:()=>Hj});function O4(w){return Array.isArray(w)}function p_(w){return Z4(w)&&Symbol.asyncIterator in w}function mY(w){return N0(typeof w,"bigint")}function kO(w){return N0(typeof w,"boolean")}function l_(w){if(kX(w)||!gO(w))return!1;let Q=Function.prototype.toString.call(w);if(/^class\s/.test(Q))return!0;if(/\[native code\]/.test(Q))return!0;return!1}function gO(w){return N0(typeof w,"function")}function jX(w){return Number.isInteger(w)}function r_(w){return Z4(w)&&Symbol.iterator in w}function ez(w){return N0(w,null)}function w7(w){return Number.isFinite(w)}function c_(w){return Z4(w)&&!O4(w)}function Z4(w){return N0(typeof w,"object")&&!ez(w)}function rw(w){return N0(typeof w,"string")}function d_(w){return N0(typeof w,"symbol")}function kX(w){return N0(w,void 0)}function N0(w,Q){return w===Q}function i_(w,Q){return w>Q}function n_(w,Q){return w<Q}function fO(w,Q){return w<=Q}function xO(w,Q){return w>=Q}function s_(w,Q){if(mY(w)||mY(Q))return BigInt(w)%BigInt(Q)===0n;let Y=0.0000000001;if(!w7(w))return!0;if(jX(w)&&1/Q%1===0)return!0;let z=w%Q;return Math.min(Math.abs(z),Math.abs(z-Q))<Y}function a_(w){if(!Z4(w))return!1;let Q=globalThis.Object.getPrototypeOf(w);if(ez(Q))return!1;return N0(typeof Q.constructor,"function")&&!(N0(Q.constructor,globalThis.Object)||N0(Q.constructor.name,"Object"))}function t_(w){return mY(w)||kO(w)||ez(w)||w7(w)||rw(w)||kX(w)}function e_(w){return Array.from(w).length}function wj(w,Q,Y){for(let z=Q;z<w.length;z++)if(!Y(w[z],z))return!1;return!0}function Qj(w,Q,Y){let z=!0;for(let H=Q;H<w.length;H++)if(!Y(w[H],H))z=!1;return z}function Yj(w,Q){return N0(Q,"__proto__")||N0(Q,"constructor")?Object.prototype.hasOwnProperty.call(w,Q):(Q in w)}function zj(w){return tz(w).map((Q)=>[new RegExp(`^${Q}$`),w[Q]])}function Hj(w){return Object.entries(w)}function tz(w){return Object.getOwnPropertyNames(w)}function Wj(w){return Object.getOwnPropertySymbols(w)}function Xj(w){return Object.values(w)}function Jj(w,Q){if(!Z4(Q))return!1;let Y=tz(w);return N0(Y.length,tz(Q).length)&&Y.every((z)=>gX(w[z],Q[z]))}function Lj(w,Q){return O4(Q)&&N0(w.length,Q.length)&&w.every((Y,z)=>gX(w[z],Q[z]))}function gX(w,Q){return O4(w)?Lj(w,Q):Z4(w)?Jj(w,Q):N0(w,Q)}var Uj=/^[\p{ID_Start}_$][\p{ID_Continue}_$\u200C\u200D]*$/u;function qj(w){return Uj.test(w)}function fX(w,Q){return`(${w} && ${Q})`}function vO(w,Q){return`(${w} || ${Q})`}function yO(w){return`!(${w})`}function mO(w){return`Array.isArray(${w})`}function Oj(w){return`Guard.IsAsyncIterator(${w})`}function Zj(w){return`typeof ${w} === "bigint"`}function Nj(w){return`typeof ${w} === "boolean"`}function Fj(w){return`Number.isInteger(${w})`}function Kj(w){return`Guard.IsIterator(${w})`}function Bj(w){return`${w} === null`}function Aj(w){return`Number.isFinite(${w})`}function Mj(w){return fX(hO(w),yO(mO(w)))}function hO(w){return`typeof ${w} === "object" && ${w} !== null`}function Tj(w){return`typeof ${w} === "string"`}function Rj(w){return`typeof ${w} === "symbol"`}function Cj(w){return`${w} === undefined`}function Dj(w){return`typeof ${w} === "function"`}function Vj(w){return`Guard.IsConstructor(${w})`}function Gj(w,Q){return`${w} === ${Q}`}function $j(w,Q){return`${w} > ${Q}`}function Pj(w,Q){return`${w} < ${Q}`}function Ej(w,Q){return`${w} <= ${Q}`}function Sj(w,Q){return`${w} >= ${Q}`}function bj(w){return`Guard.StringGraphemeCount(${w})`}function Ij(w,Q,Y,z){return N0(Q,"0")?`${w}.every((${Y[0]}, ${Y[1]}) => ${z})`:`((value, callback) => { for(let index = ${Q}; index < value.length; index++) if (!callback(value[index], index)) return false; return true })(${w}, (${Y[0]}, ${Y[1]}) => ${z})`}function _j(w){return`Object.entries(${w})`}function jj(w){return`Object.getOwnPropertyNames(${w})`}function kj(w,Q){return N0(Q,'"__proto__"')||N0(Q,'"constructor"')?`Object.prototype.hasOwnProperty.call(${w}, ${Q})`:`${Q} in ${w}`}function gj(w,Q){return`Guard.IsDeepEqual(${w}, ${Q})`}function fj(w){return`[${w.join(", ")}]`}function xj(w,Q){return`((${w.join(", ")}) => ${Q})`}function vj(w,Q){return`${w}(${Q.join(", ")})`}function yj(w,Q){return`new ${w}(${Q.join(", ")})`}function mj(w,Q){return`${w}${qj(Q)?`.${Q}`:`[${oO(Q)}]`}`}function oO(w){return rw(w)?JSON.stringify(w):`${w}`}function hj(w,Q,Y){return`(${w} ? ${Q} : ${Y})`}function oj(w){return`{ ${w.join("; ")}; }`}function uj(w,Q){return`const ${w} = ${Q}`}function pj(w,Q){return`if(${w}) { ${Q} }`}function lj(w){return`return ${w}`}function rj(w){return N0(w.length,0)?"true":w.reduce((Q,Y)=>fX(Q,Y))}function cj(w){return N0(w.length,0)?"false":w.reduce((Q,Y)=>vO(Q,Y))}function dj(w){return`++${w}`}function ij(w,Q){return`Guard.IsMultipleOf(${w}, ${Q})`}var u6={};y6(u6,{IsUint8ClampedArray:()=>Qk,IsUint8Array:()=>wk,IsUint32Array:()=>Wk,IsUint16Array:()=>zk,IsTypeArray:()=>tj,IsString:()=>aj,IsSet:()=>Zk,IsRegExp:()=>qk,IsNumber:()=>sj,IsMap:()=>Nk,IsInt8Array:()=>ej,IsInt32Array:()=>Hk,IsInt16Array:()=>Yk,IsFloat64Array:()=>Jk,IsFloat32Array:()=>Xk,IsDate:()=>Ok,IsBoolean:()=>nj,IsBigUint64Array:()=>Uk,IsBigInt64Array:()=>Lk});function nj(w){return w instanceof Boolean}function sj(w){return w instanceof Number}function aj(w){return w instanceof String}function tj(w){return globalThis.ArrayBuffer.isView(w)}function ej(w){return w instanceof globalThis.Int8Array}function wk(w){return w instanceof globalThis.Uint8Array}function Qk(w){return w instanceof globalThis.Uint8ClampedArray}function Yk(w){return w instanceof globalThis.Int16Array}function zk(w){return w instanceof globalThis.Uint16Array}function Hk(w){return w instanceof globalThis.Int32Array}function Wk(w){return w instanceof globalThis.Uint32Array}function Xk(w){return w instanceof globalThis.Float32Array}function Jk(w){return w instanceof globalThis.Float64Array}function Lk(w){return w instanceof globalThis.BigInt64Array}function Uk(w){return w instanceof globalThis.BigUint64Array}function qk(w){return w instanceof globalThis.RegExp}function Ok(w){return w instanceof globalThis.Date}function Zk(w){return w instanceof globalThis.Set}function Nk(w){return w instanceof globalThis.Map}function Kk(w){return J.IsObject(w)&&J.HasPropertyKey(w,"~guard")}function Bk(w){return w}function Ak(w){return w.map((Q)=>xX(Q))}function Mk(w){let Q={},Y=Object.getOwnPropertyDescriptors(w);for(let z of Object.keys(Y)){let H=Y[z];if(J.HasPropertyKey(H,"value"))Object.defineProperty(Q,z,{...H,value:xX(H.value)})}return Q}function Tk(w){return new RegExp(w.source,w.flags)}function Rk(w){return w}function xX(w){return w instanceof RegExp?Tk(w):Kk(w)?Bk(w):J.IsArray(w)?Ak(w):J.IsObject(w)?Mk(w):Rk(w)}function hY(w){return r9.clone+=1,xX(w)}var B9={};y6(B9,{Set:()=>Dk,Reset:()=>Ck,Get:()=>Vk});var N4={immutableTypes:!1,maxErrors:8,useEval:!0,exactOptionalPropertyTypes:!1,enumerableKind:!1};function Ck(){N4.immutableTypes=!1,N4.maxErrors=8,N4.useEval=!0,N4.exactOptionalPropertyTypes=!1,N4.enumerableKind=!1}function Dk(w){for(let Q of J.Keys(w)){let Y=w[Q];if(Y!==void 0)Object.defineProperty(N4,Q,{value:Y})}}function Vk(){return N4}function Gk(w,Q,Y={}){for(let z of Object.keys(Q))Object.defineProperty(w,z,{configurable:!0,writable:!0,enumerable:!1,value:Q[z]});return w}function uO(w,Q){return{...w,...Q}}function $k(w,Q,Y={}){r9.create+=1;let z=B9.Get(),H=uO(Q,Y),W=z.enumerableKind?uO(H,w):Gk(H,w);return z.immutableTypes?Object.freeze(W):W}function Pk(w,Q){r9.discard+=1;let Y={},z=Object.getOwnPropertyDescriptors(hY(w)),H=new Set(Q);for(let W of Object.keys(z)){if(H.has(W))continue;Object.defineProperty(Y,W,z[W])}return Y}function Ek(w,Q,Y){r9.update+=1;let z=B9.Get(),H=hY(w);for(let W of Object.keys(Q))Object.defineProperty(H,W,{configurable:!0,writable:!0,enumerable:z.enumerableKind,value:Q[W]});for(let W of Object.keys(Y))Object.defineProperty(H,W,{configurable:!0,enumerable:!0,writable:!0,value:Y[W]});return H}function f(w,Q){return J.IsObject(w)&&J.HasPropertyKey(w,"~kind")&&J.IsEqual(w["~kind"],Q)}function m(w){return J.IsObject(w)}function pO(w){return C.Create({["~kind"]:"OptionalAddAction"},{type:w},{})}function lO(w){return J.IsObject(w)&&J.HasPropertyKey(w,"~kind")&&J.HasPropertyKey(w,"type")&&J.IsEqual(w["~kind"],"OptionalAddAction")&&m(w.type)}function rO(w){return C.Create({["~kind"]:"OptionalRemoveAction"},{type:w},{})}function cO(w){return J.IsObject(w)&&J.HasPropertyKey(w,"~kind")&&J.HasPropertyKey(w,"type")&&J.IsEqual(w["~kind"],"OptionalRemoveAction")&&m(w.type)}function dO(w){return C.Create({["~kind"]:"ReadonlyAddAction"},{type:w},{})}function iO(w){return J.IsObject(w)&&J.HasPropertyKey(w,"~kind")&&J.HasPropertyKey(w,"type")&&J.IsEqual(w["~kind"],"ReadonlyAddAction")&&m(w.type)}function nO(w){return C.Create({["~kind"]:"ReadonlyRemoveAction"},{type:w},{})}function sO(w){return J.IsObject(w)&&J.HasPropertyKey(w,"~kind")&&J.HasPropertyKey(w,"type")&&J.IsEqual(w["~kind"],"ReadonlyRemoveAction")&&m(w.type)}function r(w,Q,Y){return C.Create({"~kind":"Deferred"},{action:w,parameters:Q,options:Y},{})}function aO(w){return f(w,"Deferred")}function vX(w){return C.Update(w,{"~immutable":!0},{})}function R8(w){return vX(w)}function F4(w){return m(w)&&J.HasPropertyKey(w,"~immutable")}function RQ(w){return C.Discard(w,["~optional"])}function t6(w){return C.Update(w,{"~optional":!0},{})}function Q7(w){return t6(w)}function N6(w){return m(w)&&J.HasPropertyKey(w,"~optional")}function Y7(w){return C.Discard(w,["~readonly"])}function e6(w){return C.Update(w,{"~readonly":!0},{})}function z7(w){return e6(w)}function K4(w){return m(w)&&J.HasPropertyKey(w,"~readonly")}function c9(w,Q){return C.Create({"~kind":"Array"},{type:"array",items:w},Q)}function V0(w){return f(w,"Array")}function H7(w){return C.Discard(w,["~kind","type","items"])}function Nw(w,Q){return C.Create({"~kind":"AsyncIterator"},{type:"asyncIterator",iteratorItems:w},Q)}function g6(w){return f(w,"AsyncIterator")}function tO(w){return C.Discard(w,["~kind","type","iteratorItems"])}function eO(w){return{enumerable:B9.Get().enumerableKind,writable:!1,configurable:!1,value:w}}class oY{constructor(){globalThis.Object.defineProperty(this,"~kind",eO("Base")),globalThis.Object.defineProperty(this,"~guard",eO({check:(w)=>this.Check(w),errors:(w)=>this.Errors(w)}))}Check(w){return!0}Errors(w){return[]}Convert(w){return w}Clean(w){return w}Default(w){return w}Create(){throw Error("Create not implemented")}Clone(){throw Error("Clone not implemented")}}function S9(w){return f(w,"Base")}function C8(w,Q,Y={}){return C.Create({"~kind":"Constructor"},{type:"constructor",parameters:w,instanceType:Q},Y)}function F6(w){return f(w,"Constructor")}function wZ(w){return C.Discard(w,["~kind","type","parameters","instanceType"])}function D8(w,Q,Y={}){return C.Create({["~kind"]:"Function"},{type:"function",parameters:w,returnType:Q},Y)}function K6(w){return f(w,"Function")}function QZ(w){return C.Discard(w,["~kind","type","parameters","returnType"])}function W6(w,Q){return C.Create({["~kind"]:"Ref"},{$ref:w},Q)}function j0(w){return f(w,"Ref")}function V8(w,Q){return C.Create({"~kind":"Generic"},{type:"generic",parameters:w,expression:Q})}function CQ(w){return f(w,"Generic")}var YZ="(?!)";function P0(w){return C.Create({"~kind":"Never"},{not:{}},w)}function cw(w){return f(w,"Never")}function Sk(){return["(not-resolvable)",P0()]}function bk(){return["(not-generic)",P0()]}function Ik(w,Q,Y){return[w,V8(Q,Y)]}function _k(w,Q,Y){return Q in w?zZ(w,Q,w[Q],Y):Sk()}function zZ(w,Q,Y,z){return CQ(Y)?Ik(Q,Y.parameters,Y.expression):j0(Y)?_k(w,Y.$ref,z):bk()}function HZ(w,Q,Y){return zZ(w,"(anonymous)",Q,Y)}function Fw(w,Q,Y){let z=J.Keys(w).reduce((H,W)=>{return{...H,[W]:C.Update(w[W],{},{$id:W})}},{});return C.Create({["~kind"]:"Cyclic"},{$defs:z,$ref:Q},Y)}function k0(w){return f(w,"Cyclic")}var O0={};y6(O0,{Match:()=>jk});function jk(w,Q){return Q[w.length]?.(...w)??(()=>{throw Error("Invalid Arguments")})()}function E6(w){return C.Create({["~kind"]:"Unknown"},{},w)}function w9(w){return f(w,"Unknown")}function uY(...w){let[Q,Y]=O0.Match(w,{2:(z,H)=>[z,H,H],1:(z)=>[z,E6(),E6()]});return C.Create({["~kind"]:"Infer"},{type:"infer",name:Q,extends:Y},{})}function X6(w){return f(w,"Infer")}function DQ(w){return C.Create({["~kind"]:"Any"},{},w)}function p6(w){return f(w,"Any")}function WZ(w){return J.IsObjectNotArray(w)}function XZ(w){return J.Keys(w).filter((Y)=>isNaN(Y)).reduce((Y,z)=>[...Y,w[z]],[])}function JZ(w,Q){let Y=WZ(w)?XZ(w):w;return C.Create({"~kind":"Enum"},{enum:Y},Q)}function J6(w){return f(w,"Enum")}function b9(w,Q={}){return C.Create({"~kind":"Intersect"},{allOf:w},Q)}function n(w){return f(w,"Intersect")}function LZ(w){return C.Discard(w,["~kind","allOf"])}function F0(){throw Error("Unreachable")}var B4={};y6(B4,{CanEvaluate:()=>gk});var yX=void 0;function kk(){try{return new globalThis.Function("null")(),!0}catch{return!1}}function gk(){if(J.IsUndefined(yX))yX=kk();return yX&&B9.Get().useEval}var d9={};y6(d9,{HashCode:()=>FZ,Hash:()=>tk});function fk(w){let Q=new Set,Y=w;while(Y&&Y!==Object.prototype){for(let z of Reflect.ownKeys(Y))if(z!=="constructor"&&typeof z!=="symbol")Q.add(z);Y=Object.getPrototypeOf(Y)}return[...Q]}function xk(w){return typeof w==="number"}var l6;(function(w){w[w.Array=0]="Array",w[w.BigInt=1]="BigInt",w[w.Boolean=2]="Boolean",w[w.Date=3]="Date",w[w.Constructor=4]="Constructor",w[w.Function=5]="Function",w[w.Null=6]="Null",w[w.Number=7]="Number",w[w.Object=8]="Object",w[w.RegExp=9]="RegExp",w[w.String=10]="String",w[w.Symbol=11]="Symbol",w[w.TypeArray=12]="TypeArray",w[w.Undefined=13]="Undefined"})(l6||(l6={}));var VQ=BigInt("14695981039346656037"),[vk,yk]=[BigInt("1099511628211"),BigInt("18446744073709551616")],mk=Array.from({length:256}).map((w,Q)=>BigInt(Q)),OZ=new Float64Array(1),ZZ=new DataView(OZ.buffer),NZ=new Uint8Array(OZ.buffer);function S6(w){VQ=VQ^mk[w],VQ=VQ*vk%yk}function hk(w){S6(l6.Array);for(let Q of w)G8(Q)}function ok(w){S6(l6.BigInt),ZZ.setBigInt64(0,w);for(let Q of NZ)S6(Q)}function UZ(w){S6(l6.Boolean),S6(w?1:0)}function uk(w){S6(l6.Constructor),G8(w.toString())}function pk(w){S6(l6.Date),G8(w.getTime())}function lk(w){S6(l6.Function),G8(w.toString())}function rk(w){S6(l6.Null)}function qZ(w){S6(l6.Number),ZZ.setFloat64(0,w,!0);for(let Q of NZ)S6(Q)}function ck(w){S6(l6.Object);for(let Q of fk(w).sort())G8(Q),G8(w[Q])}function dk(w){S6(l6.RegExp),mX(w.toString())}var ik=new TextEncoder;function mX(w){S6(l6.String);for(let Q of ik.encode(w))S6(Q)}function nk(w){S6(l6.Symbol),G8(w.toString())}function sk(w){S6(l6.TypeArray);let Q=new Uint8Array(w.buffer);for(let Y=0;Y<Q.length;Y++)S6(Q[Y])}function ak(w){return S6(l6.Undefined)}function G8(w){return u6.IsTypeArray(w)?sk(w):u6.IsDate(w)?pk(w):u6.IsRegExp(w)?dk(w):u6.IsBoolean(w)?UZ(w.valueOf()):u6.IsString(w)?mX(w.valueOf()):u6.IsNumber(w)?qZ(w.valueOf()):xk(w)?qZ(w):J.IsArray(w)?hk(w):J.IsBoolean(w)?UZ(w):J.IsBigInt(w)?ok(w):J.IsConstructor(w)?uk(w):J.IsNull(w)?rk(w):J.IsObject(w)?ck(w):J.IsString(w)?mX(w):J.IsSymbol(w)?nk(w):J.IsUndefined(w)?ak(w):J.IsFunction(w)?lk(w):F0()}function FZ(w){return VQ=BigInt("14695981039346656037"),G8(w),VQ}function tk(w){return FZ(w).toString(16).padStart(16,"0")}function KZ(w){switch(w.keyword){case"additionalProperties":return"must not have additional properties";case"anyOf":return"must match a schema in anyOf";case"boolean":return"schema is false";case"const":return"must be equal to constant";case"contains":return"must contain at least 1 valid item";case"dependencies":return`must have properties ${w.params.dependencies.join(", ")} when property ${w.params.property} is present`;case"dependentRequired":return`must have properties ${w.params.dependencies.join(", ")} when property ${w.params.property} is present`;case"enum":return"must be equal to one of the allowed values";case"exclusiveMaximum":return`must be ${w.params.comparison} ${w.params.limit}`;case"exclusiveMinimum":return`must be ${w.params.comparison} ${w.params.limit}`;case"format":return`must match format "${w.params.format}"`;case"if":return`must match "${w.params.failingKeyword}" schema`;case"maxItems":return`must not have more than ${w.params.limit} items`;case"maxLength":return`must not have more than ${w.params.limit} characters`;case"maxProperties":return`must not have more than ${w.params.limit} properties`;case"maximum":return`must be ${w.params.comparison} ${w.params.limit}`;case"minItems":return`must not have fewer than ${w.params.limit} items`;case"minLength":return`must not have fewer than ${w.params.limit} characters`;case"minProperties":return`must not have fewer than ${w.params.limit} properties`;case"minimum":return`must be ${w.params.comparison} ${w.params.limit}`;case"multipleOf":return`must be multiple of ${w.params.multipleOf}`;case"not":return"must not be valid";case"oneOf":return"must match exactly one schema in oneOf";case"pattern":return`must match pattern "${w.params.pattern}"`;case"propertyNames":return`property names ${w.params.propertyNames.join(", ")} are invalid`;case"required":return`must have required properties ${w.params.requiredProperties.join(", ")}`;case"type":return typeof w.params.type==="string"?`must be ${w.params.type}`:`must be either ${w.params.type.join(" or ")}`;case"unevaluatedItems":return"must not have unevaluated items";case"unevaluatedProperties":return"must not have unevaluated properties";case"uniqueItems":return"must not have duplicate items";case"~guard":return"must match check function";case"~refine":return w.params.message;default:return"an unknown validation error occurred"}}var ek=KZ;function BZ(){return ek}class W7{constructor(w,Q){this.type=w,this.decode=Q}Encode(w){let Q=this.type,Y=r6(Q)?(W)=>this.decode(Q["~codec"].decode(W)):this.decode,z=r6(Q)?(W)=>Q["~codec"].encode(w(W)):w,H={decode:Y,encode:z};return C.Update(this.type,{"~codec":H},{})}}class X7{constructor(w){this.type=w}Decode(w){return new W7(this.type,w)}}function J7(w){return new X7(w)}function MZ(w,Q){return J7(w).Decode(Q).Encode(()=>{throw Error("Encode not implemented")})}function TZ(w,Q){return J7(w).Decode(()=>{throw Error("Decode not implemented")}).Encode(Q)}function r6(w){return m(w)&&J.HasPropertyKey(w,"~codec")&&J.IsObject(w["~codec"])&&J.HasPropertyKey(w["~codec"],"encode")&&J.HasPropertyKey(w["~codec"],"decode")}function Qg(w,Q){let Y=L7(w)?[...w["~refine"],Q]:[Q];return C.Update(w,{"~refine":Y},{})}function RZ(w,Q,Y="error"){return Qg(w,{refine:Q,message:Y})}function L7(w){return m(w)&&J.HasPropertyKey(w,"~refine")}var CZ="-?(?:0|[1-9][0-9]*)n";function pY(w){return C.Create({"~kind":"BigInt"},{type:"bigint"},w)}function A9(w){return f(w,"BigInt")}function U7(w){return C.Create({"~kind":"Boolean"},{type:"boolean"},w)}function c6(w){return f(w,"Boolean")}function lY(w){return C.Create({"~kind":"Identifier"},{name:w})}function DZ(w){return f(w,"Identifier")}var q7="-?(?:0|[1-9][0-9]*)";function A4(w){return C.Create({"~kind":"Integer"},{type:"integer"},w)}function T6(w){return f(w,"Integer")}function Kw(w,Q){return C.Create({"~kind":"Iterator"},{type:"iterator",iteratorItems:w},Q)}function f6(w){return f(w,"Iterator")}function VZ(w){return C.Discard(w,["~kind","type","iteratorItems"])}class GZ extends Error{constructor(w){super("Invalid Literal value");Object.defineProperty(this,"cause",{value:{value:w},writable:!1,configurable:!1,enumerable:!1})}}function Yg(w){return J.IsBigInt(w)?"bigint":J.IsBoolean(w)?"boolean":J.IsNumber(w)?"number":J.IsString(w)?"string":(()=>{throw new GZ(w)})()}function A0(w,Q){return C.Create({"~kind":"Literal"},{type:Yg(w),const:w},Q)}function O7(w){return J.IsBigInt(w)||J.IsBoolean(w)||J.IsNumber(w)||J.IsString(w)}function $Z(w){return G0(w)&&J.IsBigInt(w.const)}function PZ(w){return G0(w)&&J.IsBoolean(w.const)}function GQ(w){return G0(w)&&J.IsNumber(w.const)}function $Q(w){return G0(w)&&J.IsString(w.const)}function G0(w){return f(w,"Literal")}function $8(w){return C.Create({"~kind":"Null"},{type:"null"},w)}function Bw(w){return f(w,"Null")}var Z7="-?(?:0|[1-9][0-9]*)(?:.[0-9]+)?";function I9(w){return C.Create({"~kind":"Number"},{type:"number"},w)}function t0(w){return f(w,"Number")}function PQ(w){return C.Create({"~kind":"Symbol"},{type:"symbol"},w)}function Aw(w){return f(w,"Symbol")}function EZ(w){return J.Keys(w).filter((Q)=>!N6(w[Q]))}function SZ(w){return J.Keys(w)}function N7(w){return J.Values(w)}function zg(w,Q={}){let Y=EZ(w),z=Y.length>0?{required:Y}:{};return C.Create({"~kind":"Object"},{type:"object",...z,properties:w},Q)}var t=zg;function e(w){return f(w,"Object")}function bZ(w){return C.Discard(w,["~kind","type","properties","required"])}function M4(...w){let[Q,Y,z]=O0.Match(w,{3:(H,W,X)=>[H,W,X],2:(H,W)=>[H,W,W],1:(H)=>[H,E6(),E6()]});return C.Create({"~kind":"Parameter"},{name:Q,extends:Y,equals:z},{})}function IZ(w){return f(w,"Parameter")}function Mw(w,Q){return C.Create({["~kind"]:"Promise"},{type:"promise",item:w},Q)}function b6(w){return f(w,"Promise")}function _Z(w){return C.Discard(w,["~kind","type","item"])}var F7=".*";function Q9(w){return C.Create({"~kind":"String"},{type:"string"},w)}function q6(w){return f(w,"String")}function Y9(w,Q){let z={[w]:Q};return C.Create({["~kind"]:"Record"},{type:"object",patternProperties:z})}var EQ=`^${q7}$`,SQ=`^${Z7}$`,Tw=`^${F7}$`;function rY(w,Q,Y={}){return r("Record",[w,Q],Y)}function Hg(w,Q,Y={}){return l({},rY(w,Q,Y))}function K7(w,Q,Y={}){return Hg(w,Q,Y)}function jZ(w,Q){return Y9(w,Q)}function M9(w){return J.Keys(w.patternProperties)[0]}function bQ(w){let Q=M9(w);return J.IsEqual(Q,EQ)?A4():J.IsEqual(Q,SQ)?I9():Q9()}function R6(w){return w.patternProperties[M9(w)]}function s0(w){return f(w,"Record")}function T4(w){return C.Create({"~kind":"Rest"},{type:"rest",items:w},{})}function P8(w){return f(w,"Rest")}function B7(w){return C.Create({["~kind"]:"This"},{$ref:"#"},w)}function kZ(w){return f(w,"This")}function C6(w,Q={}){let[Y,z,H]=[w,w.length,!1];return C.Create({["~kind"]:"Tuple"},{type:"array",additionalItems:H,items:Y,minItems:z},Q)}function K0(w){return f(w,"Tuple")}function gZ(w){return C.Discard(w,["~kind","type","items","minItems","additionalItems"])}function IQ(w){return C.Create({"~kind":"Undefined"},{type:"undefined"},w)}function Rw(w){return f(w,"Undefined")}function U0(w,Q={}){return C.Create({"~kind":"Union"},{anyOf:w},Q)}function v(w){return f(w,"Union")}function fZ(w){return C.Discard(w,["~kind","anyOf"])}function xZ(w){return C.Create({["~kind"]:"Unsafe"},{},w)}function vZ(w){return f(w,"Unsafe")}function A7(w){return C.Create({"~kind":"Void"},{type:"void"},w)}function T9(w){return f(w,"Void")}function Xg(w,Q){return J.IsEqual(w,"Array")?c9(Q[0]):J.IsEqual(w,"AsyncIterator")?Nw(Q[0]):J.IsEqual(w,"Iterator")?Kw(Q[0]):J.IsEqual(w,"Promise")?Mw(Q[0]):J.IsEqual(w,"Awaited")?q5(Q[0]):J.IsEqual(w,"Capitalize")?dY(Q[0]):J.IsEqual(w,"ConstructorParameters")?tY(Q[0]):J.IsEqual(w,"Evaluate")?oX(Q[0]):J.IsEqual(w,"Exclude")?eY(Q[0],Q[1]):J.IsEqual(w,"Extract")?w5(Q[0],Q[1]):J.IsEqual(w,"Index")?kQ(Q[0],Q[1]):J.IsEqual(w,"InstanceType")?Q5(Q[0]):J.IsEqual(w,"Lowercase")?iY(Q[0]):J.IsEqual(w,"NonNullable")?Y5(Q[0]):J.IsEqual(w,"Omit")?z5(Q[0],Q[1]):J.IsEqual(w,"Options")?fQ(Q[0],Q[1]):J.IsEqual(w,"Parameters")?H5(Q[0]):J.IsEqual(w,"Partial")?W5(Q[0]):J.IsEqual(w,"Pick")?X5(Q[0],Q[1]):J.IsEqual(w,"Readonly")?J5(Q[0]):J.IsEqual(w,"KeyOf")?gQ(Q[0]):J.IsEqual(w,"Record")?rY(Q[0],Q[1]):J.IsEqual(w,"Required")?L5(Q[0]):J.IsEqual(w,"ReturnType")?U5(Q[0]):J.IsEqual(w,"Uncapitalize")?nY(Q[0]):J.IsEqual(w,"Uppercase")?sY(Q[0]):M7(W6(w),Q)}function R4(){throw Error("Unreachable")}var Jg=(w,Q=[])=>{return w.reduce((Y,z)=>{return J.IsArray(z)&&J.IsEqual(z.length,2)?[...Y,z[0]]:[...Y,z]},[])},dw=(w)=>{let[Q,Y]=w;return Jg([...Q,...Y])};function uZ(w){return M4(w[0],w[2],w[4])}function pZ(w){return M4(w[0],w[2],w[2])}function lZ(w){return M4(w[0],E6(),w[2])}function rZ(w){return M4(w,E6(),E6())}function cZ(w){return w}function dZ(w){return dw(w)}function iZ(w){return w[1]}function nZ(w){return dw(w)}function sZ(w){return w[1]}function aZ(w){return Xg(w[0],w[1])}function tZ(w){return null}function eZ(w){return Q9()}function wN(w){return I9()}function QN(w){return U7()}function YN(w){return IQ()}function zN(w){return $8()}function HN(w){return A4()}function WN(w){return pY()}function XN(w){return E6()}function JN(w){return DQ()}function LN(w){return t({})}function UN(w){return P0()}function qN(w){return PQ()}function ON(w){return A7()}function ZN(w){return B7()}function NN(w){return w}function FN(w){return w[1]}function KN(w){return A0(w)}function BN(w){return J.IsEqual(w.length,3)?[w[0],w[1],...w[2]]:[w[0]]}function AN(w){return w[1]}function MN(w){return cY(w)}function TN(w){return A0(BigInt(w))}function RN(w){return A0(J.IsEqual(w,"true"))}function CN(w){return A0(parseFloat(w))}function DN(w){return A0(w)}function VN(w){return w}function GN(w){return w.length>0}function $N(w){return w.reduce((Q,Y)=>{return J.IsEqual(Y.length,3)?[...Q,[Y[1]]]:[...Q,[]]},[])}function PN(w){return J.IsEqual(w.length,6)?[w[1],w[3],w[5]]:[]}function EN(w){return J.IsArray(w)&&J.IsEqual(w.length,3)?w[1]:w}var yZ=(w,Q)=>{return Q.reduceRight((Y,z)=>{let H=z;return J.IsEqual(H.length,1)?kQ(Y,H[0]):J.IsEqual(H.length,0)?c9(Y):R4()},w)},mZ=(w,Q)=>{return J.IsEqual(Q.length,3)?aY(w,Q[0],Q[1],Q[2]):w};function SN(w){let[Q,Y,z,H]=w;return Q?mZ(gQ(yZ(Y,z)),H):mZ(yZ(Y,z),H)}function hX(w,Q){return J.IsEqual(Q.length,3)?(()=>{let[Y,z,H]=Q,W=hX(z,H);if(J.IsEqual(Y,"&"))return n(W)?b9([w,...W.allOf]):b9([w,W]);if(J.IsEqual(Y,"|"))return v(W)?U0([w,...W.anyOf]):U0([w,W]);R4()})():w}function bN(w){return w}function IN(w){let[Q,Y]=w;return hX(Q,Y)}function _N(w){return w}function jN(w){let[Q,Y]=w;return hX(Q,Y)}function kN(w){return vX(w[1])}function gN(w){return w[1]}function fN(w){return V8(w[0],w[2])}function xN(w){return J.IsEqual(w.length,4)?uY(w[1],w[3]):J.IsEqual(w.length,2)?uY(w[1],E6()):R4()}function vN(w){return w}function yN(w){return`${w}`}function mN(w){return w}function hN(w){return w}function oN(w){return T6(w[3])?EQ:t0(w[3])?SQ:Aw(w[3])?Tw:q6(w[3])?Tw:R4()}function uN(w){return w}function pN(w){return w.length>0}function lN(w){return w.length>0}function rN(w){let[Q,Y,z,H,W]=w;return{[Y]:Q&&z?e6(t6(W)):Q&&!z?e6(W):!Q&&z?t6(W):W}}function cN(w){return w}function dN(w){return dw(w)}function iN(w){return w.reduce((Q,Y)=>{return J.HasPropertyKey(Y,EQ)||J.HasPropertyKey(Y,SQ)||J.HasPropertyKey(Y,Tw)?[Q[0],C.Assign(Q[1],Y)]:[C.Assign(Q[0],Y),Q[1]]},[{},{}])}function nN(w){return iN(w[1])}function sN(w){let[Q,Y]=w,z=J.IsEqual(J.Keys(Y).length,0)?{}:{patternProperties:Y};return t(Q,z)}function aN(w){return J.IsEqual(w.length,5)?e6(t6(w[4])):J.IsEqual(w.length,3)?w[2]:J.IsEqual(w.length,4)?J.IsEqual(w[2],"readonly")?e6(w[3]):t6(w[3]):R4()}function tN(w){return e6(t6(w[1]))}function eN(w){return e6(w[1])}function wF(w){return t6(w[0])}function QF(w){return w}function YF(w){return J.IsEqual(w.length,2)?T4(w[1]):J.IsEqual(w.length,1)?w[0]:R4()}function zF(w){return dw(w)}function HF(w){return C6(w[1])}function WF(w){return e6(t6(w[4]))}function XF(w){return e6(w[3])}function JF(w){return t6(w[3])}function LF(w){return w[2]}function UF(w){return w}function qF(w){return J.IsEqual(w.length,2)?T4(w[1]):J.IsEqual(w.length,1)?w[0]:R4()}function OF(w){return dw(w)}function ZF(w){return D8(w[1],w[4])}function NF(w){return C8(w[2],w[5])}function hZ(w,Q){return J.IsEqual(w,"remove")?nO(Q):J.IsEqual(w,"add")?dO(Q):Q}function FF(w){return J.IsEqual(w.length,2)&&J.IsEqual(w[0],"-")?"remove":J.IsEqual(w.length,2)&&J.IsEqual(w[0],"+")?"add":J.IsEqual(w.length,1)?"add":"none"}function oZ(w,Q){return J.IsEqual(w,"remove")?rO(Q):J.IsEqual(w,"add")?pO(Q):Q}function KF(w){return J.IsEqual(w.length,2)&&J.IsEqual(w[0],"-")?"remove":J.IsEqual(w.length,2)&&J.IsEqual(w[0],"+")?"add":J.IsEqual(w.length,1)?"add":"none"}function BF(w){return J.IsEqual(w.length,2)?[w[1]]:[]}function AF(w){return J.IsArray(w[6])&&J.IsEqual(w[6].length,1)?_Q(lY(w[3]),w[5],w[6][0],hZ(w[1],oZ(w[8],w[10]))):_Q(lY(w[3]),w[5],W6(w[3]),hZ(w[1],oZ(w[8],w[10])))}function MF(w){return W6(w)}function TF(w){return fQ(w[2],w[4])}function RF(w){return parseFloat(w)}function CF(w){return J.IsEqual(w,"true")}function DF(w){return w}function VF(w){return null}function GF(w){return{[w[0]]:w[2]}}function $F(w){return dw(w)}function Lg(w){return w.reduce((Q,Y)=>{return C.Assign(Q,Y)},{})}function PF(w){return Lg(w[1])}function EF(w){return dw(w)}function SF(w){return w[1]}function bF(w){return w}function IF(w){return pY()}function _F(w){return Q9()}function jF(w){return I9()}function kF(w){return A4()}function gF(w){return P0()}function fF(w){return A0(w)}function xF(w){return w}function vF(w){return U0(w[1])}function yF(w){return w.length===3?[...w[0],...w[2]]:w.length===1?[...w[0]]:[]}function mF(w){return[w[0],...w[1]]}function hF(w){return w}function oF(w){return w[1]}function uF(w){return dw(w)}function pF(w){return J.IsEqual(w.length,2)?w[1]:[]}function lF(w){let Q=w[2],Y=w[3],[z,H]=w[4],W=J.IsEqual(J.Keys(H).length,0)?{}:{patternProperties:H};return{[w[1]]:V8(Q,jQ(Y,z,W))}}function rF(w){let Q=w[2],[Y,z]=w[3],H=J.IsEqual(J.Keys(z).length,0)?{}:{patternProperties:z};return{[w[1]]:jQ(Q,Y,H)}}function cF(w){return{[w[1]]:V8(w[2],w[4])}}function dF(w){return{[w[1]]:w[3]}}function iF(w){return null}function nF(w){return w}function sF(w){return iN(dw(w))}function aF(w){return w[1]}function tF(w){let Q=w[0],Y=w[1];return uX(C.Assign(Q,Y[0]))}function eF(w){return w}function _0(w){return O4(w)&&N0(w.length,2)}function Og(w,Q){return N0(Q.indexOf(w),0)?[w,Q.slice(w.length)]:[]}function B6(w,Q){let[Y,...z]=w;return rw(Y)?(()=>{let H=Og(Y,Q);return N0(H.length,2)?H:B6(z,Q)})():[]}function pX(w,Q){return Array.from({length:Q-w+1},(Y,z)=>String.fromCharCode(w+z))}var wK=[...pX(97,122),...pX(65,90)],lX="0",rX=pX(49,57),xQ=[lX,...rX],QK=" ",vQ=`
`;var E8="_",T7=".",YK="$",R7="-";var zK="//",HK="/*",Ng="*/";function WK(w){let Q=w.indexOf(Ng);return N0(Q,-1)?"":w.slice(Q+2)}function XK(w){let Q=w.indexOf(vQ);return N0(Q,-1)?"":w.slice(Q)}function Fg(w){return w.replace(/^[ \t\r\f\v]+/,"")}function C7(w){let Q=Fg(w);return Q.startsWith(HK)?C7(WK(Q.slice(2))):Q.startsWith(zK)?C7(XK(Q.slice(2))):Q}function z9(w){let Q=w.trimStart();return Q.startsWith(HK)?z9(WK(Q.slice(2))):Q.startsWith(zK)?z9(XK(Q.slice(2))):Q}function Kg(w,Q){return w.includes(Q)}function yQ(w,Q,Y,z=""){let H=B6(w,Y);return _0(H)?Kg(Q,H[0])?yQ(w,Q,H[1],z):yQ(w,Q,H[1],`${z}${H[0]}`):[z,Y]}function D7(w,Q){let Y=B6([w],Q);return _0(Y)?Y:["",Q]}function Bg(w){return D7(R7,w)}function Ag(w){return B6(rX,w)}var Mg=[...xQ,E8];function Tg(w){return yQ(Mg,[E8],w)}function Rg(w){let Q=Bg(w);return _0(Q)?(()=>{let Y=B6([lX],Q[1]);return _0(Y)?[`${Q[0]}${Y[0]}`,Y[1]]:(()=>{let z=Ag(Q[1]);return _0(z)?(()=>{let H=Tg(z[1]);return _0(H)?[`${Q[0]}${z[0]}${H[0]}`,H[1]]:[]})():[]})()})():[]}function V7(w){return Rg(z9(w))}function Cg(w){let Q=V7(w);return _0(Q)?(()=>{let Y=B6(["n"],Q[1]);return _0(Y)?[`${Q[0]}`,Y[1]]:[]})():[]}function JK(w){return Cg(w)}function cX(w,Q){return B6([w],Q)}function D(w,Q){return N0(w,"")?["",Q]:w.startsWith(vQ)?cX(w,C7(Q)):w.startsWith(QK)?cX(w,Q):cX(w,z9(Q))}var LK=[...wK,E8,YK];function Dg(w){return B6(LK,w)}var Vg=[...LK,...xQ];function UK(w,Q=""){let Y=B6(Vg,w);return _0(Y)?UK(Y[1],`${Q}${Y[0]}`):[Q,w]}function Gg(w){let Q=Dg(w);return _0(Q)?(()=>{let Y=UK(Q[1]);return _0(Y)?[`${Q[0]}${Y[0]}`,Y[1]]:[]})():[]}function e0(w){return Gg(z9(w))}var $g=[...xQ,E8];function Pg(w){return D7(R7,w)}function Eg(w){return _0(B6([T7],w))}function qK(w){let Q=yQ($g,[E8],w);return _0(Q)?N0(Q[0],"")?[]:[Q[0],Q[1]]:[]}function Sg(w,Q){let Y=B6([T7],Q);return _0(Y)?(()=>{let z=qK(Y[1]);return _0(z)?[`${w}0${Y[0]}${z[0]}`,z[1]]:[]})():[]}function bg(w,Q){let Y=V7(Q);return _0(Y)?(()=>{let z=B6([T7],Y[1]);return _0(z)?(()=>{let H=qK(z[1]);return _0(H)?[`${w}${Y[0]}${z[0]}${H[0]}`,H[1]]:[`${w}${Y[0]}`,z[1]]})():[`${w}${Y[0]}`,Y[1]]})():[]}function Ig(w){let Q=Pg(w);return _0(Q)?Eg(Q[1])?Sg(Q[0],Q[1]):bg(Q[0],Q[1]):[]}function G7(w){return Ig(z9(w))}function OK(w,Q){let[Y,...z]=w;return rw(Y)?Q.startsWith(Y)?!0:OK(z,Q):!1}function S8(w,Q,Y=""){return N0(Q,"")?[]:OK(w,Q)?[Y,Q]:(()=>{let[z,H]=[Q.slice(0,1),Q.slice(1)];return S8(w,H,`${Y}${z}`)})()}function _g(w,Q,Y){return Y.startsWith(w)?(()=>{let z=S8([Q],Y.slice(w.length));return _0(z)?(()=>{return z[1].startsWith(Q)?[`${z[0]}`,z[1].slice(Q.length)]:[]})():[]})():[]}function jg(w,Q,Y){return Y.startsWith(w)?(()=>{let z=S8([vQ,Q],Y.slice(w.length));return _0(z)?(()=>{return z[1].startsWith(Q)?[`${z[0]}`,z[1].slice(Q.length)]:[]})():[]})():[]}function ZK(w,Q,Y,z){return Y?_g(w,Q,z9(z)):jg(w,Q,z9(z))}function kg(w,Q){return B6(w,Q)}function gg(w,Q){return ZK(w,w,!1,Q)}function fg(w,Q){let Y=kg(w,Q);return _0(Y)?gg(Y[0],`${Y[0]}${Y[1]}`):[]}function $7(w,Q){return fg(w,z9(Q))}function NK(w,Q){let Y=S8(w,Q);return _0(Y)?N0(Y[0],"")?[]:Y:[]}var O=(w,Q,Y=()=>[])=>w.length===2?Q(w):Y(),vg=(w)=>O(O(e0(w),([Q,Y])=>O(D("extends",Y),([z,H])=>O($0(H),([W,X])=>O(D("=",X),([L,U])=>O($0(U),([q,Z])=>[[Q,z,W,L,q],Z]))))),([Q,Y])=>[uZ(Q),Y]),yg=(w)=>O(O(e0(w),([Q,Y])=>O(D("extends",Y),([z,H])=>O($0(H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[pZ(Q),Y]),mg=(w)=>O(O(e0(w),([Q,Y])=>O(D("=",Y),([z,H])=>O($0(H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[lZ(Q),Y]),hg=(w)=>O(e0(w),([Q,Y])=>[rZ(Q),Y]),BK=(w)=>O(O(vg(w),([Q,Y])=>[Q,Y],()=>O(yg(w),([Q,Y])=>[Q,Y],()=>O(mg(w),([Q,Y])=>[Q,Y],()=>O(hg(w),([Q,Y])=>[Q,Y],()=>[])))),([Q,Y])=>[cZ(Q),Y]),AK=(w,Q=[])=>O(O(BK(w),([Y,z])=>O(D(",",z),([H,W])=>[[Y,H],W])),([Y,z])=>AK(z,[...Q,Y]),()=>[Q,w]),og=(w)=>O(O(AK(w),([Q,Y])=>O(O(O(BK(Y),([z,H])=>[[z],H]),([z,H])=>[z,H],()=>O([[],Y],([z,H])=>[z,H],()=>[])),([z,H])=>[[Q,z],H])),([Q,Y])=>[dZ(Q),Y]),nX=(w)=>O(O(D("<",w),([Q,Y])=>O(og(Y),([z,H])=>O(D(">",H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[iZ(Q),Y]),MK=(w,Q=[])=>O(O($0(w),([Y,z])=>O(D(",",z),([H,W])=>[[Y,H],W])),([Y,z])=>MK(z,[...Q,Y]),()=>[Q,w]),ug=(w)=>O(O(MK(w),([Q,Y])=>O(O(O($0(Y),([z,H])=>[[z],H]),([z,H])=>[z,H],()=>O([[],Y],([z,H])=>[z,H],()=>[])),([z,H])=>[[Q,z],H])),([Q,Y])=>[nZ(Q),Y]),pg=(w)=>O(O(D("<",w),([Q,Y])=>O(ug(Y),([z,H])=>O(D(">",H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[sZ(Q),Y]),lg=(w)=>O(O(e0(w),([Q,Y])=>O(pg(Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[aZ(Q),Y]),TK=(w)=>O(O(O(D(";",w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>O([[],w],([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[tZ(Q),Y]),RK=(w)=>O(D("string",w),([Q,Y])=>[eZ(Q),Y]),CK=(w)=>O(D("number",w),([Q,Y])=>[wN(Q),Y]),rg=(w)=>O(D("boolean",w),([Q,Y])=>[QN(Q),Y]),cg=(w)=>O(D("undefined",w),([Q,Y])=>[YN(Q),Y]),dg=(w)=>O(D("null",w),([Q,Y])=>[zN(Q),Y]),DK=(w)=>O(D("integer",w),([Q,Y])=>[HN(Q),Y]),ig=(w)=>O(D("bigint",w),([Q,Y])=>[WN(Q),Y]),ng=(w)=>O(D("unknown",w),([Q,Y])=>[XN(Q),Y]),sg=(w)=>O(D("any",w),([Q,Y])=>[JN(Q),Y]),ag=(w)=>O(D("object",w),([Q,Y])=>[LN(Q),Y]),tg=(w)=>O(D("never",w),([Q,Y])=>[UN(Q),Y]),VK=(w)=>O(D("symbol",w),([Q,Y])=>[qN(Q),Y]),eg=(w)=>O(D("void",w),([Q,Y])=>[ON(Q),Y]),wf=(w)=>O(D("this",w),([Q,Y])=>[ZN(Q),Y]),Qf=(w)=>O(O(RK(w),([Q,Y])=>[Q,Y],()=>O(CK(w),([Q,Y])=>[Q,Y],()=>O(rg(w),([Q,Y])=>[Q,Y],()=>O(cg(w),([Q,Y])=>[Q,Y],()=>O(dg(w),([Q,Y])=>[Q,Y],()=>O(DK(w),([Q,Y])=>[Q,Y],()=>O(ig(w),([Q,Y])=>[Q,Y],()=>O(ng(w),([Q,Y])=>[Q,Y],()=>O(sg(w),([Q,Y])=>[Q,Y],()=>O(ag(w),([Q,Y])=>[Q,Y],()=>O(tg(w),([Q,Y])=>[Q,Y],()=>O(VK(w),([Q,Y])=>[Q,Y],()=>O(eg(w),([Q,Y])=>[Q,Y],()=>O(wf(w),([Q,Y])=>[Q,Y],()=>[])))))))))))))),([Q,Y])=>[NN(Q),Y]),Yf=(w)=>O(O(D("${",w),([Q,Y])=>O($0(Y),([z,H])=>O(D("}",H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[FN(Q),Y]),dX=(w)=>O(S8(["${","`"],w),([Q,Y])=>[KN(Q),Y]),GK=(w)=>O(O(O(dX(w),([Q,Y])=>O(Yf(Y),([z,H])=>O(GK(H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[Q,Y],()=>O(O(dX(w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>O(O(dX(w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>[]))),([Q,Y])=>[BN(Q),Y]),sX=(w)=>O(O(D("`",w),([Q,Y])=>O(GK(Y),([z,H])=>O(D("`",H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[AN(Q),Y]),zf=(w)=>O(sX(w),([Q,Y])=>[MN(Q),Y]),Hf=(w)=>O(JK(w),([Q,Y])=>[TN(Q),Y]),Wf=(w)=>O(O(D("true",w),([Q,Y])=>[Q,Y],()=>O(D("false",w),([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[RN(Q),Y]),Xf=(w)=>O(G7(w),([Q,Y])=>[CN(Q),Y]),Jf=(w)=>O($7(["'",'"'],w),([Q,Y])=>[DN(Q),Y]),Lf=(w)=>O(O(Hf(w),([Q,Y])=>[Q,Y],()=>O(Wf(w),([Q,Y])=>[Q,Y],()=>O(Xf(w),([Q,Y])=>[Q,Y],()=>O(Jf(w),([Q,Y])=>[Q,Y],()=>[])))),([Q,Y])=>[VN(Q),Y]),Uf=(w)=>O(O(O(D("keyof",w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>O([[],w],([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[GN(Q),Y]),$K=(w,Q=[])=>O(O(O(D("[",w),([Y,z])=>O($0(z),([H,W])=>O(D("]",W),([X,L])=>[[Y,H,X],L]))),([Y,z])=>[Y,z],()=>O(O(D("[",w),([Y,z])=>O(D("]",z),([H,W])=>[[Y,H],W])),([Y,z])=>[Y,z],()=>[])),([Y,z])=>$K(z,[...Q,Y]),()=>[Q,w]),qf=(w)=>O($K(w),([Q,Y])=>[$N(Q),Y]),Of=(w)=>O(O(O(D("extends",w),([Q,Y])=>O($0(Y),([z,H])=>O(D("?",H),([W,X])=>O($0(X),([L,U])=>O(D(":",U),([q,Z])=>O($0(Z),([K,B])=>[[Q,z,W,L,q,K],B])))))),([Q,Y])=>[Q,Y],()=>O([[],w],([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[PN(Q),Y]),Zf=(w)=>O(O(O(D("(",w),([Q,Y])=>O($0(Y),([z,H])=>O(D(")",H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[Q,Y],()=>O(Qf(w),([Q,Y])=>[Q,Y],()=>O(Gf(w),([Q,Y])=>[Q,Y],()=>O(If(w),([Q,Y])=>[Q,Y],()=>O(zf(w),([Q,Y])=>[Q,Y],()=>O(Lf(w),([Q,Y])=>[Q,Y],()=>O(xf(w),([Q,Y])=>[Q,Y],()=>O(ff(w),([Q,Y])=>[Q,Y],()=>O(hf(w),([Q,Y])=>[Q,Y],()=>O(uf(w),([Q,Y])=>[Q,Y],()=>O(lg(w),([Q,Y])=>[Q,Y],()=>O(of(w),([Q,Y])=>[Q,Y],()=>[])))))))))))),([Q,Y])=>[EN(Q),Y]),PK=(w)=>O(O(Uf(w),([Q,Y])=>O(Zf(Y),([z,H])=>O(qf(H),([W,X])=>O(Of(X),([L,U])=>[[Q,z,W,L],U])))),([Q,Y])=>[SN(Q),Y]),EK=(w)=>O(O(O(D("&",w),([Q,Y])=>O(PK(Y),([z,H])=>O(EK(H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[Q,Y],()=>O([[],w],([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[bN(Q),Y]),SK=(w)=>O(O(PK(w),([Q,Y])=>O(EK(Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[IN(Q),Y]),bK=(w)=>O(O(O(D("|",w),([Q,Y])=>O(SK(Y),([z,H])=>O(bK(H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[Q,Y],()=>O([[],w],([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[_N(Q),Y]),P7=(w)=>O(O(SK(w),([Q,Y])=>O(bK(Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[jN(Q),Y]),Nf=(w)=>O(O(D("readonly",w),([Q,Y])=>O(P7(Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[kN(Q),Y]),Ff=(w)=>O(O(D("|",w),([Q,Y])=>O(P7(Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[gN(Q),Y]),Kf=(w)=>O(O(nX(w),([Q,Y])=>O(D("=",Y),([z,H])=>O($0(H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[fN(Q),Y]),Bf=(w)=>O(O(O(D("infer",w),([Q,Y])=>O(e0(Y),([z,H])=>O(D("extends",H),([W,X])=>O(P7(X),([L,U])=>[[Q,z,W,L],U])))),([Q,Y])=>[Q,Y],()=>O(O(D("infer",w),([Q,Y])=>O(e0(Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[xN(Q),Y]),$0=(w)=>O(O(Bf(w),([Q,Y])=>[Q,Y],()=>O(Ff(w),([Q,Y])=>[Q,Y],()=>O(Nf(w),([Q,Y])=>[Q,Y],()=>O(P7(w),([Q,Y])=>[Q,Y],()=>[])))),([Q,Y])=>[vN(Q),Y]),Af=(w)=>O(G7(w),([Q,Y])=>[yN(Q),Y]),Mf=(w)=>O(e0(w),([Q,Y])=>[mN(Q),Y]),Tf=(w)=>O($7(["'",'"'],w),([Q,Y])=>[hN(Q),Y]),Rf=(w)=>O(O(D("[",w),([Q,Y])=>O(e0(Y),([z,H])=>O(D(":",H),([W,X])=>O(O(DK(X),([L,U])=>[L,U],()=>O(CK(X),([L,U])=>[L,U],()=>O(RK(X),([L,U])=>[L,U],()=>O(VK(X),([L,U])=>[L,U],()=>[])))),([L,U])=>O(D("]",U),([q,Z])=>[[Q,z,W,L,q],Z]))))),([Q,Y])=>[oN(Q),Y]),IK=(w)=>O(O(Af(w),([Q,Y])=>[Q,Y],()=>O(Mf(w),([Q,Y])=>[Q,Y],()=>O(Tf(w),([Q,Y])=>[Q,Y],()=>O(Rf(w),([Q,Y])=>[Q,Y],()=>[])))),([Q,Y])=>[uN(Q),Y]),Cf=(w)=>O(O(O(D("readonly",w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>O([[],w],([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[pN(Q),Y]),Df=(w)=>O(O(O(D("?",w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>O([[],w],([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[lN(Q),Y]),_K=(w)=>O(O(Cf(w),([Q,Y])=>O(IK(Y),([z,H])=>O(Df(H),([W,X])=>O(D(":",X),([L,U])=>O($0(U),([q,Z])=>[[Q,z,W,L,q],Z]))))),([Q,Y])=>[rN(Q),Y]),jK=(w)=>O(O(O(D(",",w),([Q,Y])=>O(D(`
`,Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[Q,Y],()=>O(O(D(";",w),([Q,Y])=>O(D(`
`,Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[Q,Y],()=>O(O(D(",",w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>O(O(D(";",w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>O(O(D(`
`,w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>[]))))),([Q,Y])=>[cN(Q),Y]),kK=(w,Q=[])=>O(O(_K(w),([Y,z])=>O(jK(z),([H,W])=>[[Y,H],W])),([Y,z])=>kK(z,[...Q,Y]),()=>[Q,w]),Vf=(w)=>O(O(kK(w),([Q,Y])=>O(O(O(_K(Y),([z,H])=>[[z],H]),([z,H])=>[z,H],()=>O([[],Y],([z,H])=>[z,H],()=>[])),([z,H])=>[[Q,z],H])),([Q,Y])=>[dN(Q),Y]),aX=(w)=>O(O(D("{",w),([Q,Y])=>O(Vf(Y),([z,H])=>O(D("}",H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[nN(Q),Y]),Gf=(w)=>O(aX(w),([Q,Y])=>[sN(Q),Y]),$f=(w)=>O(O(O(e0(w),([Q,Y])=>O(D("?",Y),([z,H])=>O(D(":",H),([W,X])=>O(D("readonly",X),([L,U])=>O($0(U),([q,Z])=>[[Q,z,W,L,q],Z]))))),([Q,Y])=>[Q,Y],()=>O(O(e0(w),([Q,Y])=>O(D(":",Y),([z,H])=>O(D("readonly",H),([W,X])=>O($0(X),([L,U])=>[[Q,z,W,L],U])))),([Q,Y])=>[Q,Y],()=>O(O(e0(w),([Q,Y])=>O(D("?",Y),([z,H])=>O(D(":",H),([W,X])=>O($0(X),([L,U])=>[[Q,z,W,L],U])))),([Q,Y])=>[Q,Y],()=>O(O(e0(w),([Q,Y])=>O(D(":",Y),([z,H])=>O($0(H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[Q,Y],()=>[])))),([Q,Y])=>[aN(Q),Y]),Pf=(w)=>O(O(D("readonly",w),([Q,Y])=>O($0(Y),([z,H])=>O(D("?",H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[tN(Q),Y]),Ef=(w)=>O(O(D("readonly",w),([Q,Y])=>O($0(Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[eN(Q),Y]),Sf=(w)=>O(O($0(w),([Q,Y])=>O(D("?",Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[wF(Q),Y]),FK=(w)=>O(O($f(w),([Q,Y])=>[Q,Y],()=>O(Pf(w),([Q,Y])=>[Q,Y],()=>O(Ef(w),([Q,Y])=>[Q,Y],()=>O(Sf(w),([Q,Y])=>[Q,Y],()=>O($0(w),([Q,Y])=>[Q,Y],()=>[]))))),([Q,Y])=>[QF(Q),Y]),gK=(w)=>O(O(O(D("...",w),([Q,Y])=>O(FK(Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[Q,Y],()=>O(O(FK(w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[YF(Q),Y]),fK=(w,Q=[])=>O(O(gK(w),([Y,z])=>O(D(",",z),([H,W])=>[[Y,H],W])),([Y,z])=>fK(z,[...Q,Y]),()=>[Q,w]),bf=(w)=>O(O(fK(w),([Q,Y])=>O(O(O(gK(Y),([z,H])=>[[z],H]),([z,H])=>[z,H],()=>O([[],Y],([z,H])=>[z,H],()=>[])),([z,H])=>[[Q,z],H])),([Q,Y])=>[zF(Q),Y]),If=(w)=>O(O(D("[",w),([Q,Y])=>O(bf(Y),([z,H])=>O(D("]",H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[HF(Q),Y]),_f=(w)=>O(O(e0(w),([Q,Y])=>O(D("?",Y),([z,H])=>O(D(":",H),([W,X])=>O(D("readonly",X),([L,U])=>O($0(U),([q,Z])=>[[Q,z,W,L,q],Z]))))),([Q,Y])=>[WF(Q),Y]),jf=(w)=>O(O(e0(w),([Q,Y])=>O(D(":",Y),([z,H])=>O(D("readonly",H),([W,X])=>O($0(X),([L,U])=>[[Q,z,W,L],U])))),([Q,Y])=>[XF(Q),Y]),kf=(w)=>O(O(e0(w),([Q,Y])=>O(D("?",Y),([z,H])=>O(D(":",H),([W,X])=>O($0(X),([L,U])=>[[Q,z,W,L],U])))),([Q,Y])=>[JF(Q),Y]),gf=(w)=>O(O(e0(w),([Q,Y])=>O(D(":",Y),([z,H])=>O($0(H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[LF(Q),Y]),KK=(w)=>O(O(_f(w),([Q,Y])=>[Q,Y],()=>O(jf(w),([Q,Y])=>[Q,Y],()=>O(kf(w),([Q,Y])=>[Q,Y],()=>O(gf(w),([Q,Y])=>[Q,Y],()=>[])))),([Q,Y])=>[UF(Q),Y]),xK=(w)=>O(O(O(D("...",w),([Q,Y])=>O(KK(Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[Q,Y],()=>O(O(KK(w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[qF(Q),Y]),vK=(w,Q=[])=>O(O(xK(w),([Y,z])=>O(D(",",z),([H,W])=>[[Y,H],W])),([Y,z])=>vK(z,[...Q,Y]),()=>[Q,w]),yK=(w)=>O(O(vK(w),([Q,Y])=>O(O(O(xK(Y),([z,H])=>[[z],H]),([z,H])=>[z,H],()=>O([[],Y],([z,H])=>[z,H],()=>[])),([z,H])=>[[Q,z],H])),([Q,Y])=>[OF(Q),Y]),ff=(w)=>O(O(D("(",w),([Q,Y])=>O(yK(Y),([z,H])=>O(D(")",H),([W,X])=>O(D("=>",X),([L,U])=>O($0(U),([q,Z])=>[[Q,z,W,L,q],Z]))))),([Q,Y])=>[ZF(Q),Y]),xf=(w)=>O(O(D("new",w),([Q,Y])=>O(D("(",Y),([z,H])=>O(yK(H),([W,X])=>O(D(")",X),([L,U])=>O(D("=>",U),([q,Z])=>O($0(Z),([K,B])=>[[Q,z,W,L,q,K],B])))))),([Q,Y])=>[NF(Q),Y]),vf=(w)=>O(O(O(D("+",w),([Q,Y])=>O(D("readonly",Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[Q,Y],()=>O(O(D("-",w),([Q,Y])=>O(D("readonly",Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[Q,Y],()=>O(O(D("readonly",w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>O([[],w],([Q,Y])=>[Q,Y],()=>[])))),([Q,Y])=>[FF(Q),Y]),yf=(w)=>O(O(O(D("+",w),([Q,Y])=>O(D("?",Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[Q,Y],()=>O(O(D("-",w),([Q,Y])=>O(D("?",Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[Q,Y],()=>O(O(D("?",w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>O([[],w],([Q,Y])=>[Q,Y],()=>[])))),([Q,Y])=>[KF(Q),Y]),mf=(w)=>O(O(O(D("as",w),([Q,Y])=>O($0(Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[Q,Y],()=>O([[],w],([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[BF(Q),Y]),hf=(w)=>O(O(D("{",w),([Q,Y])=>O(vf(Y),([z,H])=>O(D("[",H),([W,X])=>O(e0(X),([L,U])=>O(D("in",U),([q,Z])=>O($0(Z),([K,B])=>O(mf(B),([A,M])=>O(D("]",M),([T,$])=>O(yf($),([G,E])=>O(D(":",E),([R,j])=>O($0(j),([b,I])=>O(TK(I),([_,y])=>O(D("}",y),([h,q0])=>[[Q,z,W,L,q,K,A,T,G,R,b,_,h],q0]))))))))))))),([Q,Y])=>[AF(Q),Y]),of=(w)=>O(e0(w),([Q,Y])=>[MF(Q),Y]),uf=(w)=>O(O(D("Options",w),([Q,Y])=>O(D("<",Y),([z,H])=>O($0(H),([W,X])=>O(D(",",X),([L,U])=>O(oK(U),([q,Z])=>O(D(">",Z),([K,B])=>[[Q,z,W,L,q,K],B])))))),([Q,Y])=>[TF(Q),Y]),pf=(w)=>O(G7(w),([Q,Y])=>[RF(Q),Y]),lf=(w)=>O(O(D("true",w),([Q,Y])=>[Q,Y],()=>O(D("false",w),([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[CF(Q),Y]),rf=(w)=>O($7(['"',"'"],w),([Q,Y])=>[DF(Q),Y]),cf=(w)=>O(D("null",w),([Q,Y])=>[VF(Q),Y]),mK=(w)=>O(O(IK(w),([Q,Y])=>O(D(":",Y),([z,H])=>O(tX(H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[GF(Q),Y]),hK=(w,Q=[])=>O(O(mK(w),([Y,z])=>O(jK(z),([H,W])=>[[Y,H],W])),([Y,z])=>hK(z,[...Q,Y]),()=>[Q,w]),df=(w)=>O(O(hK(w),([Q,Y])=>O(O(O(mK(Y),([z,H])=>[[z],H]),([z,H])=>[z,H],()=>O([[],Y],([z,H])=>[z,H],()=>[])),([z,H])=>[[Q,z],H])),([Q,Y])=>[$F(Q),Y]),oK=(w)=>O(O(D("{",w),([Q,Y])=>O(df(Y),([z,H])=>O(D("}",H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[PF(Q),Y]),uK=(w,Q=[])=>O(O(tX(w),([Y,z])=>O(D(",",z),([H,W])=>[[Y,H],W])),([Y,z])=>uK(z,[...Q,Y]),()=>[Q,w]),nf=(w)=>O(O(uK(w),([Q,Y])=>O(O(O(tX(Y),([z,H])=>[[z],H]),([z,H])=>[z,H],()=>O([[],Y],([z,H])=>[z,H],()=>[])),([z,H])=>[[Q,z],H])),([Q,Y])=>[EF(Q),Y]),sf=(w)=>O(O(D("[",w),([Q,Y])=>O(nf(Y),([z,H])=>O(D("]",H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[SF(Q),Y]),tX=(w)=>O(O(pf(w),([Q,Y])=>[Q,Y],()=>O(lf(w),([Q,Y])=>[Q,Y],()=>O(rf(w),([Q,Y])=>[Q,Y],()=>O(cf(w),([Q,Y])=>[Q,Y],()=>O(oK(w),([Q,Y])=>[Q,Y],()=>O(sf(w),([Q,Y])=>[Q,Y],()=>[])))))),([Q,Y])=>[bF(Q),Y]),af=(w)=>O(D("-?(?:0|[1-9][0-9]*)n",w),([Q,Y])=>[IF(Q),Y]),tf=(w)=>O(D(".*",w),([Q,Y])=>[_F(Q),Y]),ef=(w)=>O(D("-?(?:0|[1-9][0-9]*)(?:.[0-9]+)?",w),([Q,Y])=>[jF(Q),Y]),wx=(w)=>O(D("-?(?:0|[1-9][0-9]*)",w),([Q,Y])=>[kF(Q),Y]),Qx=(w)=>O(D("(?!)",w),([Q,Y])=>[gF(Q),Y]),Yx=(w)=>O(NK(["-?(?:0|[1-9][0-9]*)n",".*","-?(?:0|[1-9][0-9]*)(?:.[0-9]+)?","-?(?:0|[1-9][0-9]*)","(?!)","(",")","$","|"],w),([Q,Y])=>[fF(Q),Y]),zx=(w)=>O(O(af(w),([Q,Y])=>[Q,Y],()=>O(tf(w),([Q,Y])=>[Q,Y],()=>O(ef(w),([Q,Y])=>[Q,Y],()=>O(wx(w),([Q,Y])=>[Q,Y],()=>O(Qx(w),([Q,Y])=>[Q,Y],()=>O(Hx(w),([Q,Y])=>[Q,Y],()=>O(Yx(w),([Q,Y])=>[Q,Y],()=>[]))))))),([Q,Y])=>[xF(Q),Y]),Hx=(w)=>O(O(D("(",w),([Q,Y])=>O(eX(Y),([z,H])=>O(D(")",H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[vF(Q),Y]),pK=(w)=>O(O(O(iX(w),([Q,Y])=>O(D("|",Y),([z,H])=>O(pK(H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[Q,Y],()=>O(O(iX(w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>O([[],w],([Q,Y])=>[Q,Y],()=>[]))),([Q,Y])=>[yF(Q),Y]),iX=(w)=>O(O(zx(w),([Q,Y])=>O(eX(Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[mF(Q),Y]),eX=(w)=>O(O(pK(w),([Q,Y])=>[Q,Y],()=>O(iX(w),([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[hF(Q),Y]),lK=(w)=>O(O(D("^",w),([Q,Y])=>O(eX(Y),([z,H])=>O(D("$",H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[oF(Q),Y]),rK=(w,Q=[])=>O(O($0(w),([Y,z])=>O(D(",",z),([H,W])=>[[Y,H],W])),([Y,z])=>rK(z,[...Q,Y]),()=>[Q,w]),Wx=(w)=>O(O(rK(w),([Q,Y])=>O(O(O($0(Y),([z,H])=>[[z],H]),([z,H])=>[z,H],()=>O([[],Y],([z,H])=>[z,H],()=>[])),([z,H])=>[[Q,z],H])),([Q,Y])=>[uF(Q),Y]),cK=(w)=>O(O(O(D("extends",w),([Q,Y])=>O(Wx(Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[Q,Y],()=>O([[],w],([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[pF(Q),Y]),Xx=(w)=>O(O(D("interface",w),([Q,Y])=>O(e0(Y),([z,H])=>O(nX(H),([W,X])=>O(cK(X),([L,U])=>O(aX(U),([q,Z])=>[[Q,z,W,L,q],Z]))))),([Q,Y])=>[lF(Q),Y]),Jx=(w)=>O(O(D("interface",w),([Q,Y])=>O(e0(Y),([z,H])=>O(cK(H),([W,X])=>O(aX(X),([L,U])=>[[Q,z,W,L],U])))),([Q,Y])=>[rF(Q),Y]),Lx=(w)=>O(O(D("type",w),([Q,Y])=>O(e0(Y),([z,H])=>O(nX(H),([W,X])=>O(D("=",X),([L,U])=>O($0(U),([q,Z])=>[[Q,z,W,L,q],Z]))))),([Q,Y])=>[cF(Q),Y]),Ux=(w)=>O(O(D("type",w),([Q,Y])=>O(e0(Y),([z,H])=>O(D("=",H),([W,X])=>O($0(X),([L,U])=>[[Q,z,W,L],U])))),([Q,Y])=>[dF(Q),Y]),qx=(w)=>O(O(O(D("export",w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>O([[],w],([Q,Y])=>[Q,Y],()=>[])),([Q,Y])=>[iF(Q),Y]),Ox=(w)=>O(O(O(D(";",w),([Q,Y])=>O(D(`
`,Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[Q,Y],()=>O(O(D(";",w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>O(O(D(`
`,w),([Q,Y])=>[[Q],Y]),([Q,Y])=>[Q,Y],()=>[]))),([Q,Y])=>[nF(Q),Y]),dK=(w,Q=[])=>O(O(w3(w),([Y,z])=>O(Ox(z),([H,W])=>[[Y,H],W])),([Y,z])=>dK(z,[...Q,Y]),()=>[Q,w]),Zx=(w)=>O(O(dK(w),([Q,Y])=>O(O(O(w3(Y),([z,H])=>[[z],H]),([z,H])=>[z,H],()=>O([[],Y],([z,H])=>[z,H],()=>[])),([z,H])=>[[Q,z],H])),([Q,Y])=>[sF(Q),Y]),w3=(w)=>O(O(qx(w),([Q,Y])=>O(O(Xx(Y),([z,H])=>[z,H],()=>O(Jx(Y),([z,H])=>[z,H],()=>O(Lx(Y),([z,H])=>[z,H],()=>O(Ux(Y),([z,H])=>[z,H],()=>[])))),([z,H])=>O(TK(H),([W,X])=>[[Q,z,W],X]))),([Q,Y])=>[aF(Q),Y]),Nx=(w)=>O(O(w3(w),([Q,Y])=>O(Zx(Y),([z,H])=>[[Q,z],H])),([Q,Y])=>[tF(Q),Y]),iK=(w)=>O(O(Nx(w),([Q,Y])=>[Q,Y],()=>O(Kf(w),([Q,Y])=>[Q,Y],()=>O($0(w),([Q,Y])=>[Q,Y],()=>[]))),([Q,Y])=>[eF(Q),Y]);function nK(w){let Q=sX(`\`${w}\``);return J.IsEqual(Q.length,2)?Q[0]:F0()}function cY(w,Q={}){return r("TemplateLiteral",[w],Q)}function sK(w){return l({},cY(w,{}))}function Kx(w){let Q=nK(w);return sK(Q)}function aK(w,Q={}){let Y=J.IsString(w)?Kx(w):sK(w);return C.Update(Y,{},Q)}function L6(w){return f(w,"TemplateLiteral")}var s={};y6(s,{IsExtendsUnion:()=>tK,IsExtendsTrueLike:()=>w6,IsExtendsTrue:()=>eK,IsExtendsFalse:()=>Bx,ExtendsUnion:()=>Q3,ExtendsTrue:()=>p,ExtendsFalse:()=>Z0});function Q3(w){return C.Create({["~kind"]:"ExtendsUnion"},{inferred:w})}function tK(w){return J.IsObject(w)&&J.HasPropertyKey(w,"~kind")&&J.HasPropertyKey(w,"inferred")&&J.IsEqual(w["~kind"],"ExtendsUnion")&&J.IsObject(w.inferred)}function p(w){return C.Create({["~kind"]:"ExtendsTrue"},{inferred:w})}function eK(w){return J.IsObject(w)&&J.HasPropertyKey(w,"~kind")&&J.HasPropertyKey(w,"inferred")&&J.IsEqual(w["~kind"],"ExtendsTrue")&&J.IsObject(w.inferred)}function Z0(){return C.Create({["~kind"]:"ExtendsFalse"},{})}function Bx(w){return J.IsObject(w)&&J.HasPropertyKey(w,"~kind")&&J.IsEqual(w["~kind"],"ExtendsFalse")}function w6(w){return tK(w)||eK(w)}function E7(w){let Q=lK(w);return J.IsEqual(Q.length,2)?Q[0]:F0()}function Ax(w){return!0}function wB(w){let[Q,...Y]=w;return m(Q)?Mx(Q)?wB(Y):!1:!0}function QB(w){return J.IsEqual(w.length,0)?!1:wB(w)}function Mx(w){return v(w)?QB(w.anyOf):G0(w)?Ax(w.const):!1}function S7(w){return QB(w)}function YB(w,Q,Y=[]){let[z,...H]=w;return J.IsString(z)?YB(H,Q,[...Y,`${z}${Q}`]):Y}function Tx(w,Q){return J.IsEqual(w.length,0)?[`${Q}`]:YB(w,Q)}function zB(w,Q,Y=[]){let[z,...H]=Q;return m(z)?zB(w,H,[...Y,...HB(w,z)]):Y}function HB(w,Q){return v(Q)?zB(w,Q.anyOf):G0(Q)?Tx(w,Q.const):F0()}function WB(w,Q){let[Y,...z]=Q;return m(Y)?WB(HB(w,Y),z):w}function Rx(w){return w.map((Q)=>A0(Q))}function Cx(w){let Q=WB([],w),Y=Rx(Q);return U0(Y)}function Dx(w){return J.IsEqual(w.length,0)?F0():J.IsEqual(w.length,1)&&G0(w[0])?w[0]:Cx(w)}function I6(w){let Q=E7(w);return S7(Q)?Dx(Q):Q9()}function Vx(w){return J.IsString(w)||J.IsNumber(w)?A0(w):J.IsNull(w)?$8():P0()}function i9(w){return w.map((Y)=>Vx(Y))}function O5(w){let Q=i9(w);return U0(Q)}function C4(w){return O5(w.enum)}function Gx(w,Q,Y,z){let H=E0(w,Y,z);return w6(H)?p(C.Assign(C.Assign(w,H.inferred),{[Q]:Y})):Z0()}function $x(w,Q){return p(w)}function Px(w,Q,Y){let z=O5(Y);return E0(w,Q,z)}function XB(w,Q,Y){let[z,...H]=Y;return m(z)?(()=>{let W=E0(w,Q,z);return w6(W)?XB(W.inferred,Q,H):Z0()})():p(w)}function Ex(w,Q,Y){let z=I6(Y);return E0(w,Q,z)}function JB(w,Q,Y){let[z,...H]=Y;return m(z)?(()=>{let W=E0(w,Q,z);return w6(W)?p(W.inferred):JB(w,Q,H)})():Z0()}function B0(w,Q,Y){return p6(Y)?$x(w,Q):J6(Y)?Px(w,Q,Y.enum):X6(Y)?Gx(w,Y.name,Q,Y.extends):n(Y)?XB(w,Q,Y.allOf):L6(Y)?Ex(w,Q,Y.pattern):v(Y)?JB(w,Q,Y.anyOf):w9(Y)?p(w):Z0()}function LB(w,Q,Y){return X6(Y)?B0(w,Q,Y):p6(Y)?p(w):w9(Y)?p(w):Q3(w)}function Sx(w,Q){let Y=F4(w),z=F4(Q);return Y&&z?!0:!Y&&z?!0:Y&&!z?!1:!0}function UB(w,Q,Y,z){return V0(z)?Sx(Q,z)?E0(w,Y,z.items):Z0():B0(w,Q,z)}function qB(w,Q,Y){return g6(Y)?E0(w,Q,Y.iteratorItems):B0(w,Nw(Q),Y)}function OB(w,Q,Y){return A9(Y)?p(w):B0(w,Q,Y)}function ZB(w,Q,Y){return c6(Y)?p(w):B0(w,Q,Y)}function bx(w,Q,Y,z,H){let W=X6(z)?Q:z,X=X6(z)?z:Q,L=N6(Q),U=N6(z),q=E0(w,W,X);return!L&&U?Z0():w6(q)?Z5(q.inferred,Y,H):Z0()}function Ix(w,Q,Y,z){let[H,...W]=z;return m(H)?bx(w,Q,Y,H,W):N6(Q)?p(w):Z0()}function _x(w,Q,Y){let[z,...H]=Q;return m(z)?Ix(w,z,H,Y):p(w)}function Z5(w,Q,Y){return _x(w,Q,Y)}function b7(w,Q,Y){return T9(Y)?p(w):E0(w,Q,Y)}function NB(w,Q,Y,z){return F6(z)?(()=>{let H=Z5(w,Q,z.parameters);return w6(H)?b7(H.inferred,Y,z.instanceType):Z0()})():Z0()}function FB(w,Q,Y){return E0(w,C4(Q),Y)}function KB(w,Q,Y,z){return K6(z)?(()=>{let H=Z5(w,Q,z.parameters);return w6(H)?b7(H.inferred,Y,z.returnType):Z0()})():Z0()}function BB(w,Q,Y){return T6(Y)?p(w):t0(Y)?p(w):B0(w,Q,Y)}var N5="equal",jx="disjoint",F5="left-inside",K5="right-inside";function B5(w,Q){let Y=[w9(w)?s.ExtendsFalse():j6({},w,Q),w9(w)?s.ExtendsTrue({}):j6({},Q,w)];return s.IsExtendsTrueLike(Y[0])&&s.IsExtendsTrueLike(Y[1])?N5:s.IsExtendsTrueLike(Y[0])&&s.IsExtendsFalse(Y[1])?F5:s.IsExtendsFalse(Y[0])&&s.IsExtendsTrueLike(Y[1])?K5:jx}function kx(w){return v(w)?Cw(w.anyOf):[w]}function Cw(w){return w.reduce((Q,Y)=>{return[...Q,...kx(Y)]},[])}function Y3(w){return w.reduceRight((Y,z,H)=>{return{[H]:z,...Y}},{})}function AB(w){let Q=Y3(w.items);return t(Q)}function gx(w,Q){return K4(w)?K4(Q)?!0:!1:!1}function fx(w,Q){return N6(w)?N6(Q)?!0:!1:!1}function xx(w,Q){let Y=gx(w,Q),z=fx(w,Q),H=U6([w,Q]),W=Y7(RQ(H));return Y&&z?e6(t6(W)):Y&&!z?e6(W):!Y&&z?t6(W):W}function vx(w,Q,Y){return Y in w?Y in Q?xx(w[Y],Q[Y]):w[Y]:(Y in Q)?Q[Y]:P0()}function yx(w,Q){return[...new Set([...J.Keys(Q),...J.Keys(w)])].reduce((z,H)=>{return{...z,[H]:vx(w,Q,H)}},{})}function MB(w){return e(w)?w.properties:K0(w)?Y3(w.items):F0()}function TB(w,Q){let Y=MB(w),z=MB(Q),H=yx(Y,z);return t(H)}function RB(w,Q){let Y=B5(w,Q);return J.IsEqual(Y,F5)?w:J.IsEqual(Y,K5)?Q:J.IsEqual(Y,N5)?Q:P0()}function CB(w){return e(w)||K0(w)}function DB(w){return n(w)?U6(w.allOf):w}function mx(w,Q){let Y=DB(w),z=DB(Q),H=CB(Y),W=CB(z);return H&&W?TB(b8(Y),z):H&&!W?b8(Y):!H&&W?z:RB(b8(Y),z)}function VB(w,Q,Y=[]){let[z,...H]=Q;return!J.IsUndefined(z)?VB(w,H,[...Y,mx(w,z)]):Y.length===0?[w]:Y}function GB(w,Q,Y=[]){let[z,...H]=w;return m(z)?GB(H,Q,[...Y,...A5([z],Q)]):Y}function A5(w,Q=[]){let[Y,...z]=w;return m(Y)?v(Y)?A5(z,GB(Y.anyOf,Q)):A5(z,VB(Y,Q)):Q}function U6(w){let Q=A5(w);return z3(Q)}function d6(w){return z3(w)}function b8(w){return n(w)?U6(w.allOf):v(w)?d6(w.anyOf):w}function hx(w,Q){return Q.filter((Y)=>{return B5(w,Y)===K5?!1:!0})}function ox(w,Q){let Y=Q.some((z)=>{let H=B5(w,z);return J.IsEqual(H,F5)||J.IsEqual(H,N5)});return J.IsEqual(Y,!1)}function ux(w,Q){let Y=b8(w);return p6(Y)?[Y]:ox(Y,Q)?[...hx(Y,Q),Y]:Q}function H3(w,Q=[]){let[Y,...z]=w;return m(Y)?e(Y)?H3(z,[...Q,Y]):H3(z,ux(Y,Q)):Q}function z3(w){let Q=H3(w),Y=Cw(Q);return Y.length===0?P0():Y.length===1?Y[0]:U0(Y)}function px(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(b8(H),{},z)}function $B(w,Q,Y,z){return px(w,Q,Y,z)}function PB(w,Q,Y){let z=U6(Q);return E0(w,z,Y)}function EB(w,Q,Y){return f6(Y)?E0(w,Q,Y.iteratorItems):B0(w,Kw(Q),Y)}function I7(w,Q,Y){return Q===Y?p(w):Z0()}function lx(w,Q,Y){return G0(Y)?I7(w,Q,Y.const):A9(Y)?p(w):B0(w,A0(Q),Y)}function rx(w,Q,Y){return G0(Y)?I7(w,Q,Y.const):c6(Y)?p(w):B0(w,A0(Q),Y)}function cx(w,Q,Y){return G0(Y)?I7(w,Q,Y.const):t0(Y)?p(w):B0(w,A0(Q),Y)}function dx(w,Q,Y){return G0(Y)?I7(w,Q,Y.const):q6(Y)?p(w):B0(w,A0(Q),Y)}function SB(w,Q,Y){return J.IsBigInt(Q.const)?lx(w,Q.const,Y):J.IsBoolean(Q.const)?rx(w,Q.const,Y):J.IsNumber(Q.const)?cx(w,Q.const,Y):J.IsString(Q.const)?dx(w,Q.const,Y):F0()}function bB(w,Q,Y){return X6(Y)?B0(w,Q,Y):p(w)}function IB(w,Q,Y){return Bw(Y)?p(w):B0(w,Q,Y)}function _B(w,Q,Y){return t0(Y)?p(w):B0(w,Q,Y)}function ix(w,Q,Y){return N6(Q)?N6(Y)?p(w):Z0():p(w)}function nx(w,Q,Y){return X6(Y)&&cw(Y.extends)?Z0():(()=>{let z=E0(w,Q,Y);return w6(z)?ix(z.inferred,Q,Y):Z0()})()}function sx(w,Q){return w.reduce((Y,z)=>{return z in Q?w6(Q[z])?{...Y,...Q[z].inferred}:F0():F0()},{})}function ax(w,Q,Y){let z={};for(let X of J.Keys(Y))z[X]=X in Q?nx({},Q[X],Y[X]):N6(Y[X])?X6(Y[X])?p(C.Assign(w,{[Y[X].name]:Y[X].extends})):p(w):Z0();let H=J.Values(z).every((X)=>w6(X)),W=H?sx(J.Keys(z),z):{};return H?p(W):Z0()}function tx(w,Q,Y){let z=ax(w,Q,Y);return w6(z)?p(C.Assign(w,z.inferred)):Z0()}function ex(w,Q,Y){return tx(w,Q,Y)}function jB(w,Q,Y){return e(Y)?ex(w,Q,Y.properties):B0(w,t(Q),Y)}function kB(w,Q,Y){return b6(Y)?E0(w,Q,Y.item):B0(w,Mw(Q),Y)}function gB(w,Q,Y){return q6(Y)?p(w):B0(w,Q,Y)}function fB(w,Q,Y){return Aw(Y)?p(w):B0(w,Q,Y)}function xB(w,Q,Y){let z=I6(Q);return E0(w,z,Y)}function W3(w,Q){return C.Create({"~kind":"Inferrable"},{name:w,type:Q},{})}function M5(w){return J.IsObject(w)&&J.HasPropertyKey(w,"~kind")&&J.HasPropertyKey(w,"name")&&J.HasPropertyKey(w,"type")&&J.IsEqual(w["~kind"],"Inferrable")&&J.IsString(w.name)&&J.IsObject(w.type)}function X3(w){return P8(w)?X6(w.items)?V0(w.items.extends)?W3(w.items.name,w.items.extends.items):w9(w.items.extends)?W3(w.items.name,w.items.extends):void 0:F0():void 0}function _7(w){return X6(w)?W3(w.name,w.extends):void 0}function J3(w,Q,Y=[]){let[z,...H]=w;return m(z)?(()=>{let W=E0({},z,Q);return w6(W)?J3(H,Q,[...Y,z]):void 0})():Y}function vB(w,Q,Y,z){let H=J3(Y,z);return J.IsArray(H)?p(C.Assign(w,{[Q]:C6(H)})):Z0()}function j7(w,Q,Y,z){let H=J3(Y,z);return J.IsArray(H)?p(C.Assign(w,{[Q]:U0(H)})):Z0()}function wv(w){return[...w].reverse()}function L3(w,Q){return Q?wv(w):w}function Qv(w){let Q=w.length>0?w[0]:void 0,Y=m(Q)?X3(Q):void 0;return m(Y)}function Yv(w,Q,Y,z,H,W){let X=E0(w,Y,H);return w6(X)?yB(X.inferred,Q,z,W):Z0()}function zv(w,Q,Y,z,H){let W=X3(z);return M5(W)?vB(w,W.name,L3(Y,Q),W.type):(()=>{let[X,...L]=Y;return m(X)?Yv(w,Q,X,L,z,H):Z0()})()}function Hv(w,Q,Y,z){let[H,...W]=z;return m(H)?zv(w,Q,Y,H,W):J.IsEqual(Y.length,0)?p(w):Z0()}function yB(w,Q,Y,z){return Hv(w,Q,Y,z)}function Wv(w,Q,Y){let z=k7(w,{callstack:[]},Y),H=Qv(z);return yB(w,H,L3(Q,H),L3(z,H))}function mB(w,Q,Y){let z=_7(Y);return M5(z)?j7(w,z.name,Q,z.type):(()=>{let[H,...W]=Q;return m(H)?(()=>{let X=E0(w,H,Y);return w6(X)?mB(X.inferred,W,Y):Z0()})():p(w)})()}function hB(w,Q,Y){let z=k7(w,{callstack:[]},Q);return K0(Y)?Wv(w,z,Y.items):V0(Y)?mB(w,z,Y.items):B0(w,C6(z),Y)}function oB(w,Q,Y){return T9(Y)?p(w):Rw(Y)?p(w):B0(w,Q,Y)}function uB(w,Q,Y){let[z,...H]=Y;return m(z)?(()=>{let W=E0(w,Q,z);return w6(W)?p(W.inferred):uB(w,Q,H)})():Z0()}function U3(w,Q,Y){let[z,...H]=Q;return m(z)?(()=>{let W=uB(w,z,Y);return w6(W)?U3(W.inferred,H,Y):Z0()})():p(w)}function pB(w,Q,Y){let z=_7(Y);return M5(z)?j7(w,z.name,Q,z.type):v(Y)?U3(w,Q,Y.anyOf):U3(w,Q,[Y])}function lB(w,Q,Y){return X6(Y)?B0(w,Q,Y):p6(Y)?p(w):w9(Y)?p(w):Z0()}function rB(w,Q,Y){return T9(Y)?p(w):B0(w,Q,Y)}function E0(w,Q,Y){return p6(Q)?LB(w,Q,Y):V0(Q)?UB(w,Q,Q.items,Y):g6(Q)?qB(w,Q.iteratorItems,Y):A9(Q)?OB(w,Q,Y):c6(Q)?ZB(w,Q,Y):F6(Q)?NB(w,Q.parameters,Q.instanceType,Y):J6(Q)?FB(w,Q,Y):K6(Q)?KB(w,Q.parameters,Q.returnType,Y):T6(Q)?BB(w,Q,Y):n(Q)?PB(w,Q.allOf,Y):f6(Q)?EB(w,Q.iteratorItems,Y):G0(Q)?SB(w,Q,Y):cw(Q)?bB(w,Q,Y):Bw(Q)?IB(w,Q,Y):t0(Q)?_B(w,Q,Y):e(Q)?jB(w,Q.properties,Y):b6(Q)?kB(w,Q.item,Y):q6(Q)?gB(w,Q,Y):Aw(Q)?fB(w,Q,Y):L6(Q)?xB(w,Q.pattern,Y):K0(Q)?hB(w,Q.items,Y):Rw(Q)?oB(w,Q,Y):v(Q)?pB(w,Q.anyOf,Y):w9(Q)?lB(w,Q,Y):T9(Q)?rB(w,Q,Y):Z0()}function jQ(w,Q,Y={}){return r("Interface",[w,Q],Y)}function mQ(w){return m(w)&&J.HasPropertyKey(w,"action")&&J.IsEqual(w.action,"Interface")}function cB(w,Q,Y={}){return l({},jQ(w,Q,Y))}function Xv(w,Q,Y){return w.includes(Y)?!0:I8([...w,Y],Q,Q[Y])}function dB(w,Q,Y){let z=N7(Y);return D4(w,Q,z)}function D4(w,Q,Y){let[z,...H]=Y;return m(z)?I8(w,Q,z)?!0:D4(w,Q,H):!1}function I8(w,Q,Y){return j0(Y)?Xv(w,Q,Y.$ref):V0(Y)?I8(w,Q,Y.items):g6(Y)?I8(w,Q,Y.iteratorItems):F6(Y)?D4(w,Q,[...Y.parameters,Y.instanceType]):K6(Y)?D4(w,Q,[...Y.parameters,Y.returnType]):mQ(Y)?dB(w,Q,Y.parameters[1]):n(Y)?D4(w,Q,Y.allOf):f6(Y)?I8(w,Q,Y.iteratorItems):e(Y)?dB(w,Q,Y.properties):b6(Y)?I8(w,Q,Y.item):v(Y)?D4(w,Q,Y.anyOf):K0(Y)?D4(w,Q,Y.items):s0(Y)?I8(w,Q,R6(Y)):!1}function g7(w,Q,Y){return I8(w,Q,Y)}function Jv(w,Q){return Q.reduce((Y,z)=>{return z in w?g7([z],w,w[z])?[...Y,z]:Y:F0()},[])}function iB(w){let Q=SZ(w);return Jv(w,Q)}function Lv(w,Q,Y){return Y.includes(Q)?Y:(Q in w)?_8(w,w[Q],[...Y,Q]):F0()}function nB(w,Q,Y){let z=N7(Q);return hQ(w,z,Y)}function hQ(w,Q,Y){return Q.reduce((z,H)=>{return _8(w,H,z)},Y)}function _8(w,Q,Y){return j0(Q)?Lv(w,Q.$ref,Y):V0(Q)?_8(w,Q.items,Y):g6(Q)?_8(w,Q.iteratorItems,Y):F6(Q)?hQ(w,[...Q.parameters,Q.instanceType],Y):K6(Q)?hQ(w,[...Q.parameters,Q.returnType],Y):mQ(Q)?nB(w,Q.parameters[1],Y):n(Q)?hQ(w,Q.allOf,Y):f6(Q)?_8(w,Q.iteratorItems,Y):e(Q)?nB(w,Q.properties,Y):b6(Q)?_8(w,Q.item,Y):v(Q)?hQ(w,Q.anyOf,Y):K0(Q)?hQ(w,Q.items,Y):s0(Q)?_8(w,R6(Q),Y):Y}function sB(w,Q,Y){return _8(w,Y,[Q])}function Uv(w){return DQ()}function qv(w){return J.Keys(w).reduce((Q,Y)=>{return{...Q,[Y]:Dw(w[Y])}},{})}function T5(w){return w.reduce((Q,Y)=>{return[...Q,Dw(Y)]},[])}function Dw(w){return j0(w)?Uv(w.$ref):V0(w)?c9(Dw(w.items),H7(w)):g6(w)?Nw(Dw(w.iteratorItems)):F6(w)?C8(T5(w.parameters),Dw(w.instanceType)):K6(w)?D8(T5(w.parameters),Dw(w.returnType)):n(w)?b9(T5(w.allOf)):f6(w)?Kw(Dw(w.iteratorItems)):e(w)?t(qv(w.properties)):b6(w)?Mw(Dw(w.item)):s0(w)?K7(bQ(w),Dw(R6(w))):v(w)?U0(T5(w.anyOf)):K0(w)?C6(T5(w.items)):w}function Ov(w,Q){return Q in w?Dw(w[Q]):E6()}function aB(w){return Ov(w.$defs,w.$ref)}function Zv(w,Q,Y){let z=R9(w,{callstack:[]},Q),H=R5({},{callstack:[]},Y);return U6([...z,t(H)])}function Nv(w,Q){return J.Keys(w).filter((z)=>Q.includes(z)).reduce((z,H)=>{let W=w[H],X=mQ(W)?Zv(w,W.parameters[0],W.parameters[1]):W;return{...z,[H]:X}},{})}function tB(w,Q,Y){let z=sB(w,Q,Y),H=Nv(w,z);return Fw(H,Q)}function eB(w,Q){return Q in w?j0(w[Q])?eB(w,w[Q].$ref):w[Q]:P0()}function Vw(w,Q){return eB(w,Q)}function wA(w){return k0(w)?aB(w):w}function j6(w,Q,Y){let z=wA(Q),H=wA(Y);return E0(w,z,H)}function Fv(w,Q,Y){if(X6(Q)||oQ(Q)||s.IsExtendsTrueLike(j6({},Q,Y)))return;throw Error("Generic argument does not satify constraint",{cause:{parameter:w,extends:Y,received:Q}})}function QA(w,Q,Y,z,H){let W=k(w,Q,H);return Fv(Y,W,z),C.Assign(w,{[Y]:W})}function Kv(w,Q,Y,z,H){let W=k(w,Q,Y.extends),X=k(w,Q,Y.equals),[L,...U]=H;return m(L)?q3(QA(w,Q,Y.name,W,L),Q,z,U):q3(QA(w,Q,Y.name,W,X),Q,z,[])}function q3(w,Q,Y,z){let[H,...W]=Y;return m(H)?Kv(w,Q,H,W,z):w}function YA(w,Q,Y,z){return q3(w,Q,Y,z)}function Bv(w){return J.IsGreaterThan(w.length,0)?w[0]:""}function zA(w,Q,Y,z){let H=R9(w,Q,z);return M7(Y,H)}function Av(w,Q,Y,z){return zA(w,Q,W6(Y),z)}function Mv(w,Q,Y,z,H,W){let X=R9(w,Q,W),L=YA(w,Q,z,X),U=k(L,{callstack:[...Q.callstack,Y]},H);return k(w,Q,U)}function f7(w,Q,Y,z){let[H,W]=HZ(w,Y,z);return CQ(W)?J.IsEqual(Bv(Q.callstack),H)?Av(w,Q,H,z):Mv(w,Q,H,W.parameters,W.expression,z):zA(w,Q,Y,z)}function M7(w,Q){return C.Create({["~kind"]:"Call"},{target:w,arguments:Q},{})}function HA(w,Q){return f7({},{callstack:[]},w,Q)}function oQ(w){return f(w,"Call")}function WA(w){return b6(w)?WA(w.item):w}function Tv(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(WA(H),{},z)}function XA(w,Q,Y,z){return w0(w,[Y])?Tv(w,Q,Y,z):q5(Y,z)}function JA(w,Q){return w(Q)}function LA(w,Q){return J.IsString(Q)?A0(JA(w,Q)):A0(Q)}function UA(w,Q){let Y=I6(Q);return iw(w,Y)}function qA(w,Q){let Y=Q.map((z)=>iw(w,z));return U0(Y)}function iw(w,Q){return G0(Q)?LA(w,Q.const):L6(Q)?UA(w,Q.pattern):v(Q)?qA(w,Q.anyOf):Q}function dY(w,Q={}){return r("Capitalize",[w],Q)}function OA(w,Q={}){return l({},dY(w,Q))}function iY(w,Q={}){return r("Lowercase",[w],Q)}function ZA(w,Q={}){return l({},iY(w,Q))}function nY(w,Q={}){return r("Uncapitalize",[w],Q)}function NA(w,Q={}){return l({},nY(w,Q))}function sY(w,Q={}){return r("Uppercase",[w],Q)}function FA(w,Q={}){return l({},sY(w,Q))}var Rv=(w)=>w[0].toUpperCase()+w.slice(1),Cv=(w)=>w.toLowerCase(),Dv=(w)=>w[0].toLowerCase()+w.slice(1),Vv=(w)=>w.toUpperCase();function Gv(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(iw(Rv,H),{},z)}function KA(w,Q,Y,z){return w0(w,[Y])?Gv(w,Q,Y,z):dY(Y,z)}function $v(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(iw(Cv,H),{},z)}function BA(w,Q,Y,z){return w0(w,[Y])?$v(w,Q,Y,z):iY(Y,z)}function Pv(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(iw(Dv,H),{},z)}function AA(w,Q,Y,z){return w0(w,[Y])?Pv(w,Q,Y,z):nY(Y,z)}function Ev(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(iw(Vv,H),{},z)}function MA(w,Q,Y,z){return w0(w,[Y])?Ev(w,Q,Y,z):sY(Y,z)}function aY(w,Q,Y,z,H={}){return r("Conditional",[w,Q,Y,z],H)}function TA(w,Q,Y,z,H={}){return l({},aY(w,Q,Y,z,H))}function Sv(w,Q,Y,z,H,W,X){let L=k(w,Q,Y),U=k(w,Q,z),q=j6(w,L,U);return C.Update(s.IsExtendsUnion(q)?U0([k(q.inferred,Q,H),k(w,Q,W)]):s.IsExtendsTrue(q)?k(q.inferred,Q,H):k(w,Q,W),{},X)}function RA(w,Q,Y,z,H,W,X){return w0(w,[Y,z])?Sv(w,Q,Y,z,H,W,X):aY(Y,z,H,W,X)}function tY(w,Q={}){return r("ConstructorParameters",[w],Q)}function CA(w,Q={}){return l({},tY(w,Q))}function bv(w){return F6(w)?k({},{callstack:[]},C6(w.parameters)):P0()}function Iv(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(bv(H),{},z)}function DA(w,Q,Y,z){return w0(w,[Y])?Iv(w,Q,Y,z):tY(Y,z)}function eY(w,Q,Y={}){return r("Exclude",[w,Q],Y)}function VA(w,Q,Y={}){return l({},eY(w,Q,Y))}function GA(w,Q){return w.reduce((Y,z)=>{return[...Y,...$A(z,Q)]},[])}function $A(w,Q){let Y=j6({},w,Q);return s.IsExtendsTrueLike(Y)?[]:[w]}function _v(w,Q){let Y=J6(w)?GA(i9(w.enum),Q):v(w)?GA(Cw(w.anyOf),Q):$A(w,Q);return d6(Y)}function jv(w,Q,Y,z,H){let W=k(w,Q,Y),X=k(w,Q,z);return C.Update(_v(W,X),{},H)}function x7(w,Q,Y,z,H){return w0(w,[Y,z])?jv(w,Q,Y,z,H):eY(Y,z,H)}function w5(w,Q,Y={}){return r("Extract",[w,Q],Y)}function PA(w,Q,Y={}){return l({},w5(w,Q,Y))}function EA(w,Q){return w.reduce((Y,z)=>{return[...Y,...SA(z,Q)]},[])}function SA(w,Q){let Y=j6({},w,Q);return s.IsExtendsTrueLike(Y)?[w]:[]}function kv(w,Q){let Y=J6(w)?EA(i9(w.enum),Q):v(w)?EA(Cw(w.anyOf),Q):SA(w,Q);return d6(Y)}function gv(w,Q,Y,z,H){let W=k(w,Q,Y),X=k(w,Q,z);return C.Update(kv(W,X),{},H)}function bA(w,Q,Y,z,H){return w0(w,[Y,z])?gv(w,Q,Y,z,H):w5(Y,z,H)}var fv=new RegExp("^(?:0|[1-9][0-9]*)$");function uQ(w){let Q=`${w}`;return fv.test(Q)?parseInt(Q):w}function xv(w){return A0(uQ(w))}function IA(w){return w.map((Q)=>_A(Q))}function _A(w){return n(w)?b9(IA(w.allOf)):v(w)?U0(IA(w.anyOf)):G0(w)?xv(w.const):w}function jA(w,Q){let Y=_A(Q),z=j6({},Y,I9());return s.IsExtendsTrueLike(z)?w:P0()}function kA(w,Q){let Y=Vw(w,Q);return Gw(Y)}function v7(w){return w.reduce((Q,Y)=>{return[...Q,...Gw(Y)]},[])}function gA(w){let Q=i9(w);return v7(Q)}function fA(w){let Q=U6(w);return Gw(Q)}function xA(w){return[`${w}`]}function vA(w){let Q=I6(w);return Gw(Q)}function Gw(w){return k0(w)?kA(w.$defs,w.$ref):J6(w)?gA(w.enum):n(w)?fA(w.allOf):G0(w)?xA(w.const):L6(w)?vA(w.pattern):v(w)?v7(w.anyOf):[]}function pQ(w){return Gw(w)}function vv(w,Q){return Q in w?[w[Q]]:[]}function yv(w,Q){return Q.reduce((Y,z)=>{return[...Y,...vv(w,z)]},[])}function yA(w,Q){let Y=pQ(Q),z=yv(w,Y);return d6(z)}function mv(w){return A0(uQ(w))}function mA(w){return w.map((Q)=>O3(Q))}function O3(w){return n(w)?b9(mA(w.allOf)):v(w)?U0(mA(w.anyOf)):G0(w)?mv(w.const):w}function hv(w,Q){return w.reduceRight((Y,z,H)=>{let W=j6({},A0(H),Q);return s.IsExtendsTrueLike(W)?[z,...Y]:Y},[])}function ov(w,Q){let Y=O3(Q),z=hv(w,Y);return d6(z)}function uv(w){return d6(w)}function hA(w,Q){return t0(Q)||T6(Q)?uv(w):ov(w,Q)}function pv(w){return w.reduce((Q,Y)=>{return O7(Y)?[...Q,A0(Y)]:Q},[])}function lQ(w){let Q=pv(w);return U0(Q)}function kQ(w,Q,Y={}){return r("Index",[w,Q],Y)}function oA(w,Q,Y={}){let z=J.IsArray(Q)?lQ(Q):Q;return l({},kQ(w,z,Y))}function uA(w,Q){let Y=Vw(w,Q);return n9(Y)}function lv(w,Q){let Y=J.Keys(w).filter((Z)=>!J.HasPropertyKey(Q,Z)),z=J.Keys(Q).filter((Z)=>!J.HasPropertyKey(w,Z)),H=J.Keys(w).filter((Z)=>J.HasPropertyKey(Q,Z)),W=Y.reduce((Z,K)=>({...Z,[K]:w[K]}),{}),X=z.reduce((Z,K)=>({...Z,[K]:Q[K]}),{}),L=H.reduce((Z,K)=>({...Z,[K]:U6([w[K],Q[K]])}),{}),U=C.Assign(W,X);return C.Assign(U,L)}function pA(w){return w.reduce((Q,Y)=>{return lv(Q,n9(Y))},{})}function lA(w){return w}function rA(w){let Q=AB(C6(w));return n9(Q)}function rv(w,Q){return J.Keys(w).filter((H)=>(H in Q)).reduce((H,W)=>{return{...H,[W]:d6([w[W],Q[W]])}},{})}function cA(w,Q){let[Y,...z]=w;return m(Y)?cA(z,rv(Q,n9(Y))):Q}function dA(w){let[Q,...Y]=w;return m(Q)?cA(Y,n9(Q)):F0()}function n9(w){return k0(w)?uA(w.$defs,w.$ref):n(w)?pA(w.allOf):v(w)?dA(w.anyOf):K0(w)?rA(w.items):e(w)?lA(w.properties):{}}function rQ(w){let Q=n9(w);return t(Q)}function cv(w){return k0(w)||n(w)||v(w)?rQ(w):w}function dv(w,Q){let Y=cv(w);return V0(Y)?jA(Y.items,Q):e(Y)?yA(Y.properties,Q):K0(Y)?hA(Y.items,Q):P0()}function iv(w,Q,Y,z,H){let W=k(w,Q,Y),X=k(w,Q,z);return C.Update(dv(W,X),{},H)}function iA(w,Q,Y,z,H){return w0(w,[Y,z])?iv(w,Q,Y,z,H):kQ(Y,z,H)}function Q5(w,Q={}){return r("InstanceType",[w],Q)}function nA(w,Q={}){return l({},Q5(w,Q))}function nv(w){return F6(w)?w.instanceType:P0()}function sv(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(nv(H),{},z)}function sA(w,Q,Y,z={}){return w0(w,[Y])?sv(w,Q,Y,z):Q5(Y,z)}function av(w,Q,Y,z,H){let W=R9(w,{callstack:[]},Y),X=R5(w,{callstack:[]},z),L=U6([...W,t(X)]);return C.Update(L,{},H)}function aA(w,Q,Y,z,H){return w0(w,Y)?av(w,Q,Y,z,H):jQ(Y,z,H)}function gQ(w,Q={}){return r("KeyOf",[w],Q)}function tA(w,Q={}){return l({},gQ(w,Q))}function eA(){return U0([I9(),Q9(),PQ()])}function wM(w){return I9()}function tv(w){return w.reduce((Y,z)=>{return O7(z)?[...Y,A0(uQ(z))]:F0()},[])}function QM(w){let Q=J.Keys(w),Y=tv(Q);return d6(Y)}function YM(w){return bQ(w)}function zM(w){let Q=w.map((Y,z)=>A0(z));return d6(Q)}function ev(w){return k0(w)||n(w)||v(w)?rQ(w):w}function wy(w){let Q=ev(w);return p6(Q)?eA():V0(Q)?wM(Q.items):e(Q)?QM(Q.properties):s0(Q)?YM(Q):K0(Q)?zM(Q.items):P0()}function Qy(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(wy(H),{},z)}function HM(w,Q,Y,z){return w0(w,[Y])?Qy(w,Q,Y,z):gQ(Y,z)}function Yy(w){let Q=I6(w);return Z3(Q)}function WM(w){return w.reduce((Q,Y)=>{return[...Q,...Z3(Y)]},[])}function Z3(w){return J6(w)?WM(i9(w.enum)):$Q(w)||GQ(w)?[w]:L6(w)?Yy(w.pattern):v(w)?WM(w.anyOf):[]}function XM(w){return Z3(w)}function _Q(w,Q,Y,z,H={}){return r("Mapped",[w,Q,Y,z],H)}function JM(w,Q,Y,z,H={}){return l({},_Q(w,Q,Y,z,H))}function zy(w,Q,Y,z,H){let W=C.Assign(w,{[Y.name]:z}),X=k(W,Q,H);return L6(X)?I6(X.pattern):X}function Hy(w,Q,Y,z,H){let W=C.Assign(w,{[Y.name]:z});return k(W,Q,H)}function Wy(w,Q,Y,z,H,W){let X=Hy(w,Q,Y,z,W),L=zy(w,Q,Y,z,H);return $Q(L)||GQ(L)?{[L.const]:X}:{}}function Xy(w,Q,Y,z,H,W){return z.reduce((X,L)=>{return{...X,...Wy(w,Q,Y,L,H,W)}},{})}function Jy(w,Q,Y,z,H,W){let X=XM(z),L=Xy(w,Q,Y,X,H,W);return t(L)}function Ly(w,Q,Y,z,H,W,X){let L=k(w,Q,z);return C.Update(Jy(w,Q,Y,L,H,W),{},X)}function LM(w,Q,Y,z,H,W,X){return w0(w,[z])?Ly(w,Q,Y,z,H,W,X):_Q(Y,z,H,W,X)}function Uy(w,Q){return J.Keys(w).filter((z)=>Q.includes(z)).reduce((z,H)=>{return{...z,[H]:tB(w,H,w[H])}},{})}function qy(w,Q){return J.Keys(w).filter((z)=>!Q.includes(z)).reduce((z,H)=>{return{...z,[H]:k(w,{callstack:[]},w[H])}},{})}function Oy(w,Q){let Y=iB(w),z=Uy(w,Y),H=qy(w,Y),W={...z,...H};return C.Update(W,{},Q)}function UM(w,Q,Y,z){let H=C.Assign(w,Y);return Oy(H,z)}function Y5(w,Q={}){return r("NonNullable",[w],Q)}function qM(w,Q={}){return l({},Y5(w,Q))}function Zy(w){let Q=U0([$8(),IQ()]);return x7({},{callstack:[]},w,Q,{})}function Ny(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(Zy(H),{},z)}function OM(w,Q,Y,z){return w0(w,[Y])?Ny(w,Q,Y,z):Y5(Y,z)}function y7(w){let Q=rQ(w);return e(Q)?Q.properties:F0()}function z5(w,Q,Y={}){return r("Omit",[w,Q],Y)}function ZM(w,Q,Y={}){let z=J.IsArray(Q)?lQ(Q):Q;return l({},z5(w,z,Y))}function Fy(w,Q){return J.Keys(w).reduce((z,H)=>{return Q.includes(H)?z:{...z,[H]:w[H]}},{})}function Ky(w,Q){let Y=y7(w),z=pQ(Q),H=Fy(Y,z);return t(H)}function By(w,Q,Y,z,H){let W=k(w,Q,Y),X=k(w,Q,z);return C.Update(Ky(W,X),{},H)}function NM(w,Q,Y,z,H){return w0(w,[Y,z])?By(w,Q,Y,z,H):z5(Y,z,H)}function fQ(w,Q){return r("Options",[w,Q],{})}function m7(w,Q){return l({},fQ(w,Q))}function Ay(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(H,{},z)}function FM(w,Q,Y,z){return w0(w,[Y])?Ay(w,Q,Y,z):fQ(Y,z)}function H5(w,Q={}){return r("Parameters",[w],Q)}function KM(w,Q={}){return l({},H5(w,Q))}function My(w){return K6(w)?k({},{callstack:[]},C6(w.parameters)):P0()}function Ty(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(My(H),{},z)}function BM(w,Q,Y,z){return w0(w,[Y])?Ty(w,Q,Y,z):H5(Y,z)}function W5(w,Q={}){return r("Partial",[w],Q)}function AM(w,Q={}){return l({},W5(w,Q))}function MM(w,Q){let Y=Vw(w,Q),z=j8(Y);return Fw(C.Assign(w,{[Q]:z}),Q)}function TM(w){let Q=w.map((Y)=>j8(Y));return U6(Q)}function RM(w){let Q=w.map((Y)=>j8(Y));return U0(Q)}function CM(w){let Q=J.Keys(w).reduce((z,H)=>{return{...z,[H]:Q7(w[H])}},{});return t(Q)}function j8(w){return k0(w)?MM(w.$defs,w.$ref):n(w)?TM(w.allOf):v(w)?RM(w.anyOf):e(w)?CM(w.properties):t({})}function Ry(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(j8(H),{},z)}function DM(w,Q,Y,z){return w0(w,[Y])?Ry(w,Q,Y,z):W5(Y,z)}function X5(w,Q,Y={}){return r("Pick",[w,Q],Y)}function VM(w,Q,Y={}){let z=J.IsArray(Q)?lQ(Q):Q;return l({},X5(w,z,Y))}function Cy(w,Q){return J.Keys(w).reduce((z,H)=>{return Q.includes(H)?C.Assign(z,{[H]:w[H]}):z},{})}function Dy(w,Q){let Y=y7(w),z=pQ(Q),H=Cy(Y,z);return t(H)}function Vy(w,Q,Y,z,H){let W=k(w,Q,Y),X=k(w,Q,z);return C.Update(Dy(W,X),{},H)}function GM(w,Q,Y,z,H){return w0(w,[Y,z])?Vy(w,Q,Y,z,H):X5(Y,z,H)}function J5(w,Q={}){return r("ReadonlyType",[w],Q)}function $M(w,Q={}){return l({},J5(w,Q))}function PM(w){return R8(c9(w))}function EM(w,Q){let Y=Vw(w,Q),z=k8(Y);return Fw(C.Assign(w,{[Q]:z}),Q)}function SM(w){let Q=w.map((Y)=>k8(Y));return U6(Q)}function bM(w){let Q=J.Keys(w).reduce((z,H)=>{return{...z,[H]:z7(w[H])}},{});return t(Q)}function IM(w){return R8(C6(w))}function _M(w){let Q=w.map((Y)=>k8(Y));return U0(Q)}function k8(w){return V0(w)?PM(w.items):k0(w)?EM(w.$defs,w.$ref):n(w)?SM(w.allOf):e(w)?bM(w.properties):K0(w)?IM(w.items):v(w)?_M(w.anyOf):w}function Gy(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(k8(H),{},z)}function jM(w,Q,Y,z){return w0(w,[Y])?Gy(w,Q,Y,z):J5(Y,z)}function kM(w){return Y9(Tw,w)}function gM(w){return t({true:w,false:w})}function fM(w,Q){let Y=O5(w);return g8(Y,Q)}function xM(w,Q){return Y9(EQ,Q)}function vM(w,Q){let Y=U6(w);return g8(Y,Q)}function yM(w,Q){return J.IsString(w)||J.IsNumber(w)?t({[w]:Q}):J.IsEqual(w,!1)?t({false:Q}):J.IsEqual(w,!0)?t({true:Q}):t({})}function mM(w,Q){return Y9(SQ,Q)}function hM(w,Q){return J.HasPropertyKey(w,"pattern")&&(J.IsString(w.pattern)||w.pattern instanceof RegExp)?Y9(w.pattern.toString(),Q):Y9(Tw,Q)}function oM(w,Q){let Y=E7(w);return S7(Y)?g8(I6(w),Q):Y9(w,Q)}function $y(w){return w.some((Q)=>q6(Q)||t0(Q)||T6(Q))}function Py(w,Q){return J.IsEqual($y(w),!0)?Y9(Tw,Q):void 0}function Ey(w,Q){return w.reduce((Y,z)=>{return G0(z)&&(J.IsString(z.const)||J.IsNumber(z.const))?{...Y,[z.const]:Q}:Y},{})}function Sy(w,Q){let Y=Ey(w,Q);return t(Y)}function uM(w,Q){let Y=Cw(w),z=Py(Y,Q);return m(z)?z:Sy(Y,Q)}function g8(w,Q){return p6(w)?kM(Q):c6(w)?gM(Q):J6(w)?fM(w.enum,Q):T6(w)?xM(w,Q):n(w)?vM(w.allOf,Q):G0(w)?yM(w.const,Q):t0(w)?mM(w,Q):v(w)?uM(w.anyOf,Q):q6(w)?hM(w,Q):L6(w)?oM(w.pattern,Q):t({})}function by(w,Q,Y,z,H){let W=k(w,Q,Y),X=k(w,Q,z);return C.Update(g8(W,X),{},H)}function pM(w,Q,Y,z,H){return w0(w,[Y])?by(w,Q,Y,z,H):rY(Y,z,H)}function lM(w,Q,Y){return Y in w?g7([Y],w,w[Y])?W6(Y):k(w,Q,w[Y]):W6(Y)}function rM(w,Q){let Y=Vw(w,Q),z=f8(Y);return Fw(C.Assign(w,{[Q]:z}),Q)}function cM(w){let Q=w.map((Y)=>f8(Y));return U6(Q)}function dM(w){let Q=w.map((Y)=>f8(Y));return U0(Q)}function iM(w){let Q=J.Keys(w).reduce((z,H)=>{return{...z,[H]:RQ(w[H])}},{});return t(Q)}function f8(w){return k0(w)?rM(w.$defs,w.$ref):n(w)?cM(w.allOf):v(w)?dM(w.anyOf):e(w)?iM(w.properties):t({})}function L5(w,Q={}){return r("Required",[w],Q)}function nM(w,Q={}){return l({},L5(w,Q))}function Iy(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(f8(H),{},z)}function sM(w,Q,Y,z){return w0(w,[Y])?Iy(w,Q,Y,z):L5(Y,z)}function U5(w,Q={}){return r("ReturnType",[w],Q)}function aM(w,Q={}){return l({},U5(w,Q))}function _y(w){return K6(w)?w.returnType:P0()}function jy(w,Q,Y,z){let H=k(w,Q,Y);return C.Update(_y(H),{},z)}function tM(w,Q,Y,z){return w0(w,[Y])?jy(w,Q,Y,z):U5(Y,z)}function eM(w){return C.Create({["~kind"]:"TemplateLiteral"},{type:"string",pattern:w},{})}function ky(w){return w.join("|")}function gy(w){return w.slice(1,w.length-1)}function fy(w,Q,Y){return x8(Q,`${Y}${w}`)}function xy(w,Q){return x8(w,`${Q}${CZ}`)}function vy(w,Q){return x8(w,`${Q}${q7}`)}function yy(w,Q){return x8(w,`${Q}${Z7}`)}function my(w,Q){return F3(U0([A0("false"),A0("true")]),w,Q)}function hy(w,Q){return x8(w,`${Q}${F7}`)}function oy(w,Q,Y){return x8(Q,`${Y}${gy(w)}`)}function uy(w,Q,Y,z=[]){let H=i9(w);return N3(H,Q,Y)}function N3(w,Q,Y,z=[]){let[H,...W]=w;return m(H)?N3(W,Q,Y,[...z,F3(H,[],"")]):x8(Q,`${Y}(${ky(z)})`)}function F3(w,Q,Y){return J6(w)?uy(w.enum,Q,Y):T6(w)?vy(Q,Y):G0(w)?fy(w.const,Q,Y):A9(w)?xy(Q,Y):c6(w)?my(Q,Y):t0(w)?yy(Q,Y):q6(w)?hy(Q,Y):L6(w)?oy(w.pattern,Q,Y):v(w)?N3(w.anyOf,Q,Y):YZ}function x8(w,Q){let[Y,...z]=w;return m(Y)?F3(Y,z,Q):Q}function py(w){return`^${x8(w,"")}$`}function wT(w){let Q=py(w);return eM(Q)}function ly(w,Q,Y,z){let H=R9(w,Q,Y);return C.Update(wT(H),{},z)}function QT(w,Q,Y,z){return w0(w,Y)?ly(w,Q,Y,z):cY(Y,z)}function ry(w){return P8(w)?K0(w.items)?K3(w.items.items):X6(w.items)?[w]:j0(w.items)?[w]:[P0()]:[w]}function K3(w){return w.reduce((Y,z)=>{return[...Y,...ry(z)]},[])}function cy(w,Q){return Q in w}function dy(w,Q){return n(Q)?w0(w,Q.allOf):v(Q)?w0(w,Q.anyOf):j0(Q)?cy(w,Q.$ref):!0}function w0(w,Q){let[Y,...z]=Q;return m(Y)?dy(w,Y)?w0(w,z):!1:!0}function C5(w,Q,Y){return sO(w)?C5(w.type,"remove",Y):cO(w)?C5(w.type,Q,"remove"):iO(w)?C5(w.type,"add",Y):lO(w)?C5(w.type,Q,"add"):[w,Q,Y]}function iy(w,Q){return J.IsEqual(w,"remove")?Y7(Q):J.IsEqual(w,"add")?e6(Q):Q}function ny(w,Q){return J.IsEqual(w,"remove")?RQ(Q):J.IsEqual(w,"add")?t6(Q):Q}function R5(w,Q,Y){return J.Keys(Y).reduce((z,H)=>{return{...z,[H]:k(w,Q,Y[H])}},{})}function k7(w,Q,Y){let z=R9(w,Q,Y);return K3(z)}function R9(w,Q,Y){return Y.map((z)=>k(w,Q,z))}function sy(w,Q,Y,z,H){return J.IsEqual(Y,"Awaited")?XA(w,Q,z[0],H):J.IsEqual(Y,"Capitalize")?KA(w,Q,z[0],H):J.IsEqual(Y,"Conditional")?RA(w,Q,z[0],z[1],z[2],z[3],H):J.IsEqual(Y,"ConstructorParameters")?DA(w,Q,z[0],H):J.IsEqual(Y,"Evaluate")?$B(w,Q,z[0],H):J.IsEqual(Y,"Exclude")?x7(w,Q,z[0],z[1],H):J.IsEqual(Y,"Extract")?bA(w,Q,z[0],z[1],H):J.IsEqual(Y,"Index")?iA(w,Q,z[0],z[1],H):J.IsEqual(Y,"InstanceType")?sA(w,Q,z[0],H):J.IsEqual(Y,"Interface")?aA(w,Q,z[0],z[1],H):J.IsEqual(Y,"KeyOf")?HM(w,Q,z[0],H):J.IsEqual(Y,"Lowercase")?BA(w,Q,z[0],H):J.IsEqual(Y,"Mapped")?LM(w,Q,z[0],z[1],z[2],z[3],H):J.IsEqual(Y,"Module")?UM(w,Q,z[0],H):J.IsEqual(Y,"NonNullable")?OM(w,Q,z[0],H):J.IsEqual(Y,"Pick")?GM(w,Q,z[0],z[1],H):J.IsEqual(Y,"Options")?FM(w,Q,z[0],z[1]):J.IsEqual(Y,"Parameters")?BM(w,Q,z[0],H):J.IsEqual(Y,"Partial")?DM(w,Q,z[0],H):J.IsEqual(Y,"Omit")?NM(w,Q,z[0],z[1],H):J.IsEqual(Y,"ReadonlyType")?jM(w,Q,z[0],H):J.IsEqual(Y,"Record")?pM(w,Q,z[0],z[1],H):J.IsEqual(Y,"Required")?sM(w,Q,z[0],H):J.IsEqual(Y,"ReturnType")?tM(w,Q,z[0],H):J.IsEqual(Y,"TemplateLiteral")?QT(w,Q,z[0],H):J.IsEqual(Y,"Uncapitalize")?AA(w,Q,z[0],H):J.IsEqual(Y,"Uppercase")?MA(w,Q,z[0],H):r(Y,z,H)}function k(w,Q,Y){let z=F4(Y),H=C5(Y,K4(Y)?"add":"none",N6(Y)?"add":"none"),W=S9(H[0])?H[0].Clone():H[0],X=j0(W)?lM(w,Q,W.$ref):V0(W)?c9(k(w,Q,W.items),H7(W)):g6(W)?Nw(k(w,Q,W.iteratorItems),tO(W)):oQ(W)?f7(w,Q,W.target,W.arguments):F6(W)?C8(R9(w,Q,W.parameters),k(w,Q,W.instanceType),wZ(W)):aO(W)?sy(w,Q,W.action,W.parameters,W.options):K6(W)?D8(R9(w,Q,W.parameters),k(w,Q,W.returnType),QZ(W)):n(W)?b9(R9(w,Q,W.allOf),LZ(W)):f6(W)?Kw(k(w,Q,W.iteratorItems),VZ(W)):e(W)?t(R5(w,Q,W.properties),bZ(W)):b6(W)?Mw(k(w,Q,W.item),_Z(W)):s0(W)?jZ(M9(W),k(w,Q,R6(W))):P8(W)?T4(k(w,Q,W.items)):K0(W)?C6(k7(w,Q,W.items),gZ(W)):v(W)?U0(R9(w,Q,W.anyOf),fZ(W)):W,L=z?R8(X):X;return iy(H[1],ny(H[2],L))}function l(w,Q){return k(w,{callstack:[]},Q)}function q5(w,Q={}){return r("Awaited",[w],Q)}function YT(w,Q={}){return l({},q5(w,Q))}function oX(w,Q={}){return r("Evaluate",[w],Q)}function s9(w,Q={}){return l({},oX(w,Q))}function uX(w,Q={}){return r("Module",[w],Q)}function zT(w,Q={}){return l({},uX(w,Q))}function HT(...w){let[Q,Y,z]=O0.Match(w,{2:(X,L)=>J.IsString(X)?[{},X,L]:[X,L,{}],3:(X,L,U)=>[X,L,U],1:(X)=>[{},X,{}]}),H=iK(Y),W=J.IsArray(H)&&J.IsEqual(H.length,2)?k(Q,{callstack:[]},H[0]):P0();return C.Update(W,{},z)}var h7={};y6(h7,{Void:()=>A7,Uppercase:()=>FA,Unsafe:()=>xZ,Unknown:()=>E6,Union:()=>U0,Undefined:()=>IQ,Uncapitalize:()=>NA,Tuple:()=>C6,This:()=>B7,TemplateLiteral:()=>aK,Symbol:()=>PQ,String:()=>Q9,Script:()=>HT,ReturnType:()=>aM,Rest:()=>T4,Required:()=>nM,Refine:()=>RZ,Ref:()=>W6,RecordValue:()=>R6,RecordKeyAsPattern:()=>M9,RecordKey:()=>bQ,Record:()=>K7,ReadonlyType:()=>$M,Readonly:()=>z7,Promise:()=>Mw,Pick:()=>VM,Partial:()=>AM,Parameters:()=>KM,Parameter:()=>M4,Options:()=>m7,Optional:()=>Q7,Omit:()=>ZM,Object:()=>t,Number:()=>I9,Null:()=>$8,NonNullable:()=>qM,Never:()=>P0,Module:()=>zT,Mapped:()=>JM,Lowercase:()=>ZA,Literal:()=>A0,KeyOf:()=>tA,Iterator:()=>Kw,IsVoid:()=>T9,IsUnsafe:()=>vZ,IsUnknown:()=>w9,IsUnion:()=>v,IsUndefined:()=>Rw,IsTuple:()=>K0,IsThis:()=>kZ,IsTemplateLiteral:()=>L6,IsSymbol:()=>Aw,IsString:()=>q6,IsSchema:()=>m,IsRest:()=>P8,IsRefine:()=>L7,IsRef:()=>j0,IsRecord:()=>s0,IsReadonly:()=>K4,IsPromise:()=>b6,IsParameter:()=>IZ,IsOptional:()=>N6,IsObject:()=>e,IsNumber:()=>t0,IsNull:()=>Bw,IsNever:()=>cw,IsLiteral:()=>G0,IsKind:()=>f,IsIterator:()=>f6,IsIntersect:()=>n,IsInteger:()=>T6,IsInfer:()=>X6,IsImmutable:()=>F4,IsIdentifier:()=>DZ,IsGeneric:()=>CQ,IsFunction:()=>K6,IsEnum:()=>J6,IsCyclic:()=>k0,IsConstructor:()=>F6,IsCodec:()=>r6,IsCall:()=>oQ,IsBoolean:()=>c6,IsBigInt:()=>A9,IsBase:()=>S9,IsAsyncIterator:()=>g6,IsArray:()=>V0,IsAny:()=>p6,Intersect:()=>b9,Interface:()=>cB,Integer:()=>A4,Instantiate:()=>l,InstanceType:()=>nA,Infer:()=>uY,Index:()=>oA,Immutable:()=>R8,Identifier:()=>lY,Generic:()=>V8,Function:()=>D8,Extract:()=>PA,ExtendsResult:()=>s,Extends:()=>j6,Exclude:()=>VA,Evaluate:()=>s9,Enum:()=>JZ,EncodeBuilder:()=>W7,Encode:()=>TZ,DecodeBuilder:()=>X7,Decode:()=>MZ,Cyclic:()=>Fw,ConstructorParameters:()=>CA,Constructor:()=>C8,Conditional:()=>TA,Codec:()=>J7,Capitalize:()=>OA,Call:()=>HA,Boolean:()=>U7,BigInt:()=>pY,Base:()=>oY,Awaited:()=>YT,AsyncIterator:()=>Nw,Array:()=>c9,Any:()=>DQ});var x=h7;function ay(w){return J.IsObject(w)&&J.HasPropertyKey(w,"check")&&J.HasPropertyKey(w,"errors")&&J.IsFunction(w.check)&&J.IsFunction(w.errors)}function o7(w){return J.HasPropertyKey(w,"~guard")&&ay(w["~guard"])}function u7(w){return J.HasPropertyKey(w,"~refine")&&J.IsArray(w["~refine"])&&J.Every(w["~refine"],0,(Q)=>J.IsObject(Q)&&J.HasPropertyKey(Q,"refine")&&J.HasPropertyKey(Q,"message")&&J.IsFunction(Q.refine)&&J.IsString(Q.message))}function C9(w){return J.IsObject(w)&&!J.IsArray(w)}function D5(w){return J.IsBoolean(w)}function H0(w){return C9(w)||D5(w)}function V5(w){return J.HasPropertyKey(w,"additionalItems")&&H0(w.additionalItems)}function a9(w){return J.HasPropertyKey(w,"additionalProperties")&&H0(w.additionalProperties)}function p7(w){return J.HasPropertyKey(w,"allOf")&&J.IsArray(w.allOf)&&w.allOf.every((Q)=>H0(Q))}function G5(w){return J.HasPropertyKey(w,"$anchor")&&J.IsString(w.$anchor)}function l7(w){return J.HasPropertyKey(w,"anyOf")&&J.IsArray(w.anyOf)&&w.anyOf.every((Q)=>H0(Q))}function r7(w){return J.HasPropertyKey(w,"const")}function nw(w){return J.HasPropertyKey(w,"contains")&&H0(w.contains)}function _9(w){return J.HasPropertyKey(w,"default")}function $5(w){return J.HasPropertyKey(w,"dependencies")&&J.IsObject(w.dependencies)&&Object.values(w.dependencies).every((Q)=>H0(Q)||J.IsArray(Q)&&Q.every((Y)=>J.IsString(Y)))}function P5(w){return J.HasPropertyKey(w,"dependentRequired")&&J.IsObject(w.dependentRequired)&&Object.values(w.dependentRequired).every((Q)=>J.IsArray(Q)&&Q.every((Y)=>J.IsString(Y)))}function E5(w){return J.HasPropertyKey(w,"dependentSchemas")&&J.IsObject(w.dependentSchemas)&&Object.values(w.dependentSchemas).every((Q)=>H0(Q))}function B3(w){return J.HasPropertyKey(w,"$dynamicAnchor")&&J.IsString(w.$dynamicAnchor)}function c7(w){return J.HasPropertyKey(w,"else")&&H0(w.else)}function d7(w){return J.HasPropertyKey(w,"enum")&&J.IsArray(w.enum)}function S5(w){return J.HasPropertyKey(w,"exclusiveMaximum")&&(J.IsNumber(w.exclusiveMaximum)||J.IsBigInt(w.exclusiveMaximum))}function t9(w){return J.HasPropertyKey(w,"exclusiveMinimum")&&(J.IsNumber(w.exclusiveMinimum)||J.IsBigInt(w.exclusiveMinimum))}function V4(w){return J.HasPropertyKey(w,"format")&&J.IsString(w.format)}function G4(w){return J.HasPropertyKey(w,"$id")&&J.IsString(w.$id)}function i7(w){return J.HasPropertyKey(w,"if")&&H0(w.if)}function v8(w){return J.HasPropertyKey(w,"items")&&(H0(w.items)||J.IsArray(w.items)&&w.items.every((Q)=>{return H0(Q)}))}function n7(w){return v8(w)&&J.IsArray(w.items)}function b5(w){return J.HasPropertyKey(w,"maximum")&&(J.IsNumber(w.maximum)||J.IsBigInt(w.maximum))}function I5(w){return J.HasPropertyKey(w,"maxContains")&&J.IsNumber(w.maxContains)}function cQ(w){return J.HasPropertyKey(w,"maxItems")&&J.IsNumber(w.maxItems)}function _5(w){return J.HasPropertyKey(w,"maxLength")&&J.IsNumber(w.maxLength)}function j5(w){return J.HasPropertyKey(w,"maxProperties")&&J.IsNumber(w.maxProperties)}function e9(w){return J.HasPropertyKey(w,"minimum")&&(J.IsNumber(w.minimum)||J.IsBigInt(w.minimum))}function sw(w){return J.HasPropertyKey(w,"minContains")&&J.IsNumber(w.minContains)}function y8(w){return J.HasPropertyKey(w,"minItems")&&J.IsNumber(w.minItems)}function $4(w){return J.HasPropertyKey(w,"minLength")&&J.IsNumber(w.minLength)}function P4(w){return J.HasPropertyKey(w,"minProperties")&&J.IsNumber(w.minProperties)}function k5(w){return J.HasPropertyKey(w,"multipleOf")&&(J.IsNumber(w.multipleOf)||J.IsBigInt(w.multipleOf))}function s7(w){return J.HasPropertyKey(w,"not")&&H0(w.not)}function a7(w){return J.HasPropertyKey(w,"oneOf")&&J.IsArray(w.oneOf)&&w.oneOf.every((Q)=>H0(Q))}function E4(w){return J.HasPropertyKey(w,"pattern")&&(J.IsString(w.pattern)||w.pattern instanceof RegExp)}function m8(w){return J.HasPropertyKey(w,"patternProperties")&&J.IsObject(w.patternProperties)&&Object.values(w.patternProperties).every((Q)=>H0(Q))}function aw(w){return J.HasPropertyKey(w,"prefixItems")&&J.IsArray(w.prefixItems)&&w.prefixItems.every((Q)=>H0(Q))}function h8(w){return J.HasPropertyKey(w,"properties")&&J.IsObject(w.properties)&&Object.values(w.properties).every((Q)=>H0(Q))}function g5(w){return J.HasPropertyKey(w,"propertyNames")&&(J.IsObject(w.propertyNames)||H0(w.propertyNames))}function ty(w){return J.HasPropertyKey(w,"$recursiveAnchor")&&J.IsBoolean(w.$recursiveAnchor)}function t7(w){return ty(w)&&J.IsEqual(w.$recursiveAnchor,!0)}function e7(w){return J.HasPropertyKey(w,"$recursiveRef")&&J.IsString(w.$recursiveRef)}function wH(w){return J.HasPropertyKey(w,"$ref")&&J.IsString(w.$ref)}function ww(w){return J.HasPropertyKey(w,"required")&&J.IsArray(w.required)&&w.required.every((Q)=>J.IsString(Q))}function QH(w){return J.HasPropertyKey(w,"then")&&H0(w.then)}function f5(w){return J.HasPropertyKey(w,"type")&&(J.IsString(w.type)||J.IsArray(w.type)&&w.type.every((Q)=>J.IsString(Q)))}function o8(w){return J.HasPropertyKey(w,"uniqueItems")&&J.IsBoolean(w.uniqueItems)}function S4(w){return J.HasPropertyKey(w,"unevaluatedItems")&&H0(w.unevaluatedItems)}function b4(w){return J.HasPropertyKey(w,"unevaluatedProperties")&&H0(w.unevaluatedProperties)}function ey(w){return S4(w)||b4(w)||J.Keys(w).some((Q)=>YH(w[Q]))}function wm(w){return w.some((Q)=>YH(Q))}function YH(w){return J.IsArray(w)?wm(w):J.IsObject(w)?ey(w):!1}function WT(w,Q){return YH(Q)||J.Keys(w).some((Y)=>YH(w[Y]))}class A3{constructor(w){this.hasUnevaluated=w}UseUnevaluated(){return this.hasUnevaluated}AddIndex(w){return N.Call(N.Member("context","AddIndex"),[w])}AddKey(w){return N.Call(N.Member("context","AddKey"),[w])}Merge(w){return N.Call(N.Member("context","Merge"),[w])}}class x6{constructor(){this.indices=new Set,this.keys=new Set}AddIndex(w){return this.indices.add(w),!0}AddKey(w){return this.keys.add(w),!0}GetIndices(){return this.indices}GetKeys(){return this.keys}Merge(w){for(let Q of w)Q.indices.forEach((Y)=>this.indices.add(Y)),Q.keys.forEach((Y)=>this.keys.add(Y));return!0}}class zH extends x6{constructor(w){super();this.callback=w}AddError(w){return this.callback(w),!1}}class _6 extends zH{constructor(){super((w)=>this.errors.push(w));this.errors=[]}AddError(w){return this.errors.push(w),!1}GetErrors(){return this.errors}}var M3=0,dQ={identifier:`external_${M3}`,variables:[]};function XT(){dQ.identifier=`external_${M3}`,dQ.variables=[],M3+=1}function D9(w){let Q=`${dQ.identifier}[${dQ.variables.length}]`;return dQ.variables.push(w),Q}function JT(){return dQ}function LT(w,Q,Y,z){return N.Call(N.Member(N.Member(D9(Y),"~guard"),"check"),[z])}function UT(w,Q,Y,z){return Y["~guard"].check(z)}function qT(w,Q,Y,z,H,W){return H["~guard"].check(W)||Q.AddError({keyword:"~guard",schemaPath:Y,instancePath:z,params:{errors:H["~guard"].errors(W)}})}function OT(w,Q,Y,z){let H=D9(Y["~refine"].map((W)=>W));return N.Every(H,N.Constant(0),["refinement","_"],N.Call(N.Member("refinement","refine"),[z]))}function ZT(w,Q,Y,z){return J.Every(Y["~refine"],0,(H,W)=>H.refine(z))}function NT(w,Q,Y,z,H,W){return J.EveryAll(H["~refine"],0,(X,L)=>{return X.refine(W)||Q.AddError({keyword:"~refine",schemaPath:Y,instancePath:z,params:{index:L,message:X.message}})})}var Qm=0;function r0(){return`var_${Qm++}`}function T3(w){return v8(w)&&J.IsArray(w.items)}function FT(w,Q,Y,z){if(!T3(Y))return N.Constant(!0);let[H,W]=[r0(),r0()],X=J0(w,Q,Y.additionalItems,H),L=N.IsLessThan(W,N.Constant(Y.items.length)),U=Q.AddIndex(W),q=Q.UseUnevaluated()?N.Or(L,N.And(X,U)):N.Or(L,X);return N.Call(N.Member(z,"every"),[N.ArrowFunction([H,W],q)])}function KT(w,Q,Y,z){if(!T3(Y))return!0;return z.every((W,X)=>{return J.IsLessThan(X,Y.items.length)||Y0(w,Q,Y.additionalItems,W)&&Q.AddIndex(X)})}function BT(w,Q,Y,z,H,W){if(!T3(H))return!0;return W.every((L,U)=>{let q=`${Y}/additionalItems`,Z=`${z}/${U}`;return J.IsLessThan(U,H.items.length)||R0(w,Q,q,Z,H.additionalItems,L)&&Q.AddIndex(U)})}function Ym(w){return`^${w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}$`}function R3(w){let Q=[];if(m8(w))Q.push(...J.Keys(w.patternProperties));if(h8(w))Q.push(...J.Keys(w.properties).map(Ym));return J.IsEqual(Q.length,0)?"(?!)":`(${Q.join("|")})`}function zm(w,Q,Y){return ww(Q)&&h8(Q)&&!m8(Q)&&J.IsEqual(Q.additionalProperties,!1)&&J.IsEqual(J.Keys(Q.properties).length,Q.required.length)}function Hm(w,Q,Y){return N.IsEqual(N.Member(N.Call(N.Member("Object","getOwnPropertyNames"),[Y]),"length"),N.Constant(Q.required.length))}function Wm(w,Q,Y,z){let[H,W]=[r0(),r0()],X=D9(new RegExp(R3(Y))),L=J0(w,Q,Y.additionalProperties,`${z}[${H}]`),U=N.Call(N.Member(X,"test"),[H]),q=Q.AddKey(H),Z=Q.UseUnevaluated()?N.Or(U,N.And(L,q)):N.Or(U,L);return N.Every(N.Keys(z),N.Constant(0),[H,W],Z)}function AT(w,Q,Y,z){return zm(Q,Y,z)?Hm(Q,Y,z):Wm(w,Q,Y,z)}function MT(w,Q,Y,z){let H=new RegExp(R3(Y));return J.Every(J.Keys(z),0,(X,L)=>{return H.test(X)||Y0(w,Q,Y.additionalProperties,z[X])&&Q.AddKey(X)})}function TT(w,Q,Y,z,H,W){let X=new RegExp(R3(H)),L=[];return J.EveryAll(J.Keys(W),0,(q,Z)=>{let K=`${Y}/additionalProperties`,B=`${z}/${q}`,A=new _6,M=X.test(q)||R0(w,A,K,B,H.additionalProperties,W[q])&&Q.AddKey(q);if(!M)L.push(q);return M})||Q.AddError({keyword:"additionalProperties",schemaPath:Y,instancePath:z,params:{additionalProperties:L}})}function u8(w,Q,Y,z,H){let W=N.ConstDeclaration("results","[]"),X=Y.map((Z,K)=>N.ConstDeclaration(`context_${K}`,N.New("CheckContext",[]))),L=Y.map((Z,K)=>N.ConstDeclaration(`condition_${K}`,N.Call(N.ArrowFunction(["context"],J0(w,Q,Z,z)),[`context_${K}`]))),U=Y.map((Z,K)=>N.If(`condition_${K}`,N.Call(N.Member("results","push"),[`context_${K}`]))),q=N.Return(N.And(H,Q.Merge("results")));return N.Call(N.ArrowFunction([],N.Statements([W,...X,...L,...U,q])),[])}function Xm(w,Q,Y,z){return u8(w,Q,Y.allOf,z,N.IsEqual(N.Member("results","length"),N.Constant(Y.allOf.length)))}function Jm(w,Q,Y,z){return N.ReduceAnd(Y.allOf.map((H)=>J0(w,Q,H,z)))}function RT(w,Q,Y,z){return Q.UseUnevaluated()?Xm(w,Q,Y,z):Jm(w,Q,Y,z)}function CT(w,Q,Y,z){let H=Y.allOf.reduce((W,X)=>{let L=new x6;return Y0(w,L,X,z)?[...W,L]:W},[]);return J.IsEqual(H.length,Y.allOf.length)&&Q.Merge(H)}function DT(w,Q,Y,z,H,W){let X=[],L=H.allOf.reduce((q,Z,K)=>{let B=`${Y}/allOf/${K}`,A=new _6,M=R0(w,A,B,z,Z,W);if(!M)X.push(A);return M?[...q,A]:q},[]),U=J.IsEqual(L.length,H.allOf.length)&&Q.Merge(L);if(!U)X.forEach((q)=>q.GetErrors().forEach((Z)=>Q.AddError(Z)));return U}function Lm(w,Q,Y,z){return u8(w,Q,Y.anyOf,z,N.IsGreaterThan(N.Member("results","length"),N.Constant(0)))}function Um(w,Q,Y,z){return N.ReduceOr(Y.anyOf.map((H)=>J0(w,Q,H,z)))}function VT(w,Q,Y,z){return Q.UseUnevaluated()?Lm(w,Q,Y,z):Um(w,Q,Y,z)}function GT(w,Q,Y,z){let H=Y.anyOf.reduce((W,X,L)=>{let U=new x6;return Y0(w,U,X,z)?[...W,U]:W},[]);return J.IsGreaterThan(H.length,0)&&Q.Merge(H)}function $T(w,Q,Y,z,H,W){let X=[],L=H.anyOf.reduce((q,Z,K)=>{let B=new _6,A=`${Y}/anyOf/${K}`,M=R0(w,B,A,z,Z,W);if(!M)X.push(B);return M?[...q,B]:q},[]),U=J.IsGreaterThan(L.length,0)&&Q.Merge(L);if(!U)X.forEach((q)=>q.GetErrors().forEach((Z)=>Q.AddError(Z)));return U||Q.AddError({keyword:"anyOf",schemaPath:Y,instancePath:z,params:{}})}function PT(w,Q,Y,z){return Y?N.Constant(!0):N.Constant(!1)}function C3(w,Q,Y,z){return Y}function ET(w,Q,Y,z,H,W){return C3(w,Q,H,W)||Q.AddError({keyword:"boolean",schemaPath:Y,instancePath:z,params:{}})}function ST(w,Q,Y,z){return J.IsValueLike(Y.const)?N.IsEqual(z,N.Constant(Y.const)):N.IsDeepEqual(z,D9(Y.const))}function D3(w,Q,Y,z){return J.IsValueLike(Y.const)?J.IsEqual(z,Y.const):J.IsDeepEqual(z,Y.const)}function bT(w,Q,Y,z,H,W){return D3(w,Q,H,W)||Q.AddError({keyword:"const",schemaPath:Y,instancePath:z,params:{allowedValue:H.const}})}function IT(w){return!(sw(w)&&J.IsEqual(w.minContains,0))}function _T(w,Q,Y,z){if(!IT(Y))return N.Constant(!0);let H=r0(),W=N.Not(N.IsEqual(N.Member(z,"length"),N.Constant(0))),X=N.Call(N.Member(z,"some"),[N.ArrowFunction([H],J0(w,Q,Y.contains,H))]);return N.And(W,X)}function V3(w,Q,Y,z){if(!IT(Y))return!0;return!J.IsEqual(z.length,0)&&z.some((H)=>Y0(w,Q,Y.contains,H))}function jT(w,Q,Y,z,H,W){return V3(w,Q,H,W)||Q.AddError({keyword:"contains",schemaPath:Y,instancePath:z,params:{minContains:1}})}function kT(w,Q,Y,z){let H=N.IsEqual(N.Member(N.Keys(z),"length"),N.Constant(0)),W=N.ReduceAnd(J.Entries(Y.dependencies).map(([X,L])=>{let U=N.Not(N.HasPropertyKey(z,N.Constant(X))),q=J0(w,Q,L,z),Z=(K)=>N.ReduceAnd(K.map((B)=>N.HasPropertyKey(z,N.Constant(B))));return N.Or(U,J.IsArray(L)?Z(L):q)}));return N.Or(H,W)}function gT(w,Q,Y,z){let H=J.IsEqual(J.Keys(z).length,0),W=J.Every(J.Entries(Y.dependencies),0,([X,L])=>{return!J.HasPropertyKey(z,X)||(J.IsArray(L)?L.every((U)=>J.HasPropertyKey(z,U)):Y0(w,Q,L,z))});return H||W}function fT(w,Q,Y,z,H,W){let X=J.IsEqual(J.Keys(W).length,0),L=J.EveryAll(J.Entries(H.dependencies),0,([U,q])=>{let Z=`${Y}/dependencies/${U}`;return!J.HasPropertyKey(W,U)||(J.IsArray(q)?q.every((K)=>J.HasPropertyKey(W,K)||Q.AddError({keyword:"dependencies",schemaPath:Y,instancePath:z,params:{property:U,dependencies:q}})):R0(w,Q,Z,z,q,W))});return X||L}function xT(w,Q,Y,z){let H=N.IsEqual(N.Member(N.Keys(z),"length"),N.Constant(0)),W=N.ReduceAnd(J.Entries(Y.dependentRequired).map(([X,L])=>{let U=N.Not(N.HasPropertyKey(z,N.Constant(X))),q=N.ReduceAnd(L.map((Z)=>N.HasPropertyKey(z,N.Constant(Z))));return N.Or(U,q)}));return N.Or(H,W)}function vT(w,Q,Y,z){let H=J.IsEqual(J.Keys(z).length,0),W=J.Every(J.Entries(Y.dependentRequired),0,([X,L])=>{return!J.HasPropertyKey(z,X)||L.every((U)=>J.HasPropertyKey(z,U))});return H||W}function yT(w,Q,Y,z,H,W){let X=J.IsEqual(J.Keys(W).length,0),L=J.EveryAll(J.Entries(H.dependentRequired),0,([U,q])=>{return!J.HasPropertyKey(W,U)||J.EveryAll(q,0,(Z)=>J.HasPropertyKey(W,Z)||Q.AddError({keyword:"dependentRequired",schemaPath:Y,instancePath:z,params:{property:U,dependencies:q}}))});return X||L}function mT(w,Q,Y,z){let H=N.IsEqual(N.Member(N.Keys(z),"length"),N.Constant(0)),W=N.ReduceAnd(J.Entries(Y.dependentSchemas).map(([X,L])=>{let U=N.Not(N.HasPropertyKey(z,N.Constant(X))),q=J0(w,Q,L,z);return N.Or(U,q)}));return N.Or(H,W)}function hT(w,Q,Y,z){let H=J.IsEqual(J.Keys(z).length,0),W=J.Every(J.Entries(Y.dependentSchemas),0,([X,L])=>{return!J.HasPropertyKey(z,X)||Y0(w,Q,L,z)});return H||W}function oT(w,Q,Y,z,H,W){let X=J.IsEqual(J.Keys(W).length,0),L=J.EveryAll(J.Entries(H.dependentSchemas),0,([U,q])=>{let Z=`${Y}/dependentSchemas/${U}`;return!J.HasPropertyKey(W,U)||R0(w,Q,Z,z,q,W)});return X||L}function uT(w,Q,Y,z){return N.ReduceOr(Y.enum.map((H)=>{if(J.IsValueLike(H))return N.IsEqual(z,N.Constant(H));let W=D9(H);return N.IsDeepEqual(z,W)}))}function G3(w,Q,Y,z){return Y.enum.some((H)=>J.IsValueLike(H)?J.IsEqual(z,H):J.IsDeepEqual(z,H))}function pT(w,Q,Y,z,H,W){return G3(w,Q,H,W)||Q.AddError({keyword:"enum",schemaPath:Y,instancePath:z,params:{allowedValues:H.enum}})}function lT(w,Q,Y,z){return N.IsLessThan(z,N.Constant(Y.exclusiveMaximum))}function $3(w,Q,Y,z){return J.IsLessThan(z,Y.exclusiveMaximum)}function rT(w,Q,Y,z,H,W){return $3(w,Q,H,W)||Q.AddError({keyword:"exclusiveMaximum",schemaPath:Y,instancePath:z,params:{comparison:"<",limit:H.exclusiveMaximum}})}function cT(w,Q,Y,z){return N.IsGreaterThan(z,N.Constant(Y.exclusiveMinimum))}function P3(w,Q,Y,z){return J.IsGreaterThan(z,Y.exclusiveMinimum)}function dT(w,Q,Y,z,H,W){return P3(w,Q,H,W)||Q.AddError({keyword:"exclusiveMinimum",schemaPath:Y,instancePath:z,params:{comparison:">",limit:H.exclusiveMinimum}})}var _4={};y6(_4,{Test:()=>jm,Set:()=>bm,Reset:()=>sT,IsUuid:()=>c3,IsUrl:()=>r3,IsUriTemplate:()=>p3,IsUriReference:()=>u3,IsUri:()=>l3,IsTime:()=>v5,IsRelativeJsonPointer:()=>o3,IsRegex:()=>h3,IsJsonPointerUriFragment:()=>y3,IsJsonPointer:()=>m3,IsIriReference:()=>x3,IsIri:()=>v3,IsIdnHostname:()=>k3,IsIdnEmail:()=>_3,IsIPv6:()=>f3,IsIPv4:()=>g3,IsHostname:()=>I3,IsEmail:()=>b3,IsDuration:()=>S3,IsDateTime:()=>E3,IsDate:()=>x5,Has:()=>Im,Get:()=>_m,Entries:()=>Sm,Clear:()=>nT});var qm=[0,31,28,31,30,31,30,31,31,30,31,30,31],Om=/^(\d\d\d\d)-(\d\d)-(\d\d)$/;function Zm(w){return w%4===0&&(w%100!==0||w%400===0)}function x5(w){let Q=Om.exec(w);if(!Q)return!1;let Y=+Q[1],z=+Q[2],H=+Q[3];return z>=1&&z<=12&&H>=1&&H<=(z===2&&Zm(Y)?29:qm[z])}var Nm=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(?:Z|([+-])(\d\d):(\d\d))?$/i;function v5(w,Q=!0){let Y=Nm.exec(w);if(!Y)return!1;let z=+Y[1],H=+Y[2],W=+Y[3],X=Y[4]==="-"?-1:1,L=+(Y[5]||0),U=+(Y[6]||0);if(L>23||U>59)return!1;if(Q&&!Y[4]&&w.toLowerCase().indexOf("z")===-1)return!1;if(z<=23&&H<=59&&W<60)return!0;let q=H-U*X,Z=z-L*X-(q<0?1:0);return(Z===23||Z===-1)&&(q===59||q===-1)&&W<61}function E3(w,Q=!0){let Y=w.split(/T/i);return Y.length===2&&x5(Y[0])&&v5(Y[1],Q)}var Fm=/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/;function S3(w){return Fm.test(w)}var Km=/^(?!.*\.\.)[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i;function b3(w){return Km.test(w)}var Bm=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;function I3(w){return Bm.test(w)}var Am=/^(?!.*\.\.)[\p{L}\p{N}!#$%&'*+/=?^_`{|}~-]+(?:\.[\p{L}\p{N}!#$%&'*+/=?^_`{|}~-]+)*@[\p{L}\p{N}](?:[\p{L}\p{N}-]{0,61}[\p{L}\p{N}])?(?:\.[\p{L}\p{N}](?:[\p{L}\p{N}-]{0,61}[\p{L}\p{N}])?)*$/iu;function _3(w){return Am.test(w)}function j3(w){let Q=w.codePointAt(0);if(Q===void 0)return!1;return Q>=12352&&Q<=12447||Q>=12448&&Q<=12543&&Q!==12539||Q>=19968&&Q<=40959}function k3(w){if(w.length===0)return!1;if(w.includes(" "))return!1;let Q=/[\u002E\u3002\uFF0E\uFF61]/g,Y=w.normalize("NFC").replace(Q,".");if(Y.length>253)return!1;let z=Y.split(".");if(z.some((H)=>H.length===0))return!1;for(let H of z){if(H.length>63)return!1;if(H.startsWith("-")||H.endsWith("-"))return!1;if(/^xn--/i.test(H)){let U=H.slice(4);if(U.length<2)return!1;if(U.includes("---"))return!1;continue}if(/[\u302E\u302F\u3031\u3032\u3033\u3034\u3035\u303B\u0640\u07FA]/.test(H))return!1;let W=H.charAt(0);if(/[\u0903\u0300\u0488]/.test(W))return!1;for(let U=0;U<H.length;U++){let q=H.charAt(U);if(q==="\xB7"){if(U===0||U===H.length-1)return!1;let Z=H.charAt(U-1),K=H.charAt(U+1);if(!/^[lL]$/.test(Z)||!/^[lL]$/.test(K))return!1}if(q==="\u30FB"){if(H.length===1)return!1;if(U===0){let Z=H.charAt(U+1);if(!j3(Z))return!1}else{let Z=H.charAt(U-1),K=H.charAt(U+1);if(!j3(Z)||!j3(K))return!1}}if(q==="\u0375"){if(U===H.length-1)return!1;let Z=H.charAt(U+1);if(!/[\u0370-\u03FF]/.test(Z))return!1}if(q==="\u05F3"||q==="\u05F4"){if(U===0)return!1;let Z=H.charAt(U-1);if(!/[\u05D0-\u05EA]/.test(Z))return!1}if(q==="\u200D"){if(U===0)return!1;if(H.charAt(U-1)!=="\u094D")return!1}}let X=!1,L=!1;for(let U=0;U<H.length;U++){let q=H.charAt(U);if(/[\u0660-\u0669]/.test(q))X=!0;if(/[\u06F0-\u06F9]/.test(q))L=!0}if(X&&L)return!1}return!0}var Mm=/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/;function g3(w){return Mm.test(w)}var Tm=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i;function f3(w){return Tm.test(w)}function iT(w){try{return new URL(w,"http://example.com"),!0}catch{return!1}}function x3(w){if(w.includes(" "))return!1;if(w.includes("\\"))return!1;if(/[\x00-\x1F\x7F]/.test(w))return!1;if(/%(?![0-9a-fA-F]{2})/.test(w))return!1;if(w==="")return!0;let Q=w.indexOf(":");if(Q>0&&/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(w.substring(0,Q)))return iT(w);else{if(w.match(/^([a-zA-Z][a-zA-Z0-9+\-.]*)(\/\/)/)&&Q===-1)return!1;return iT(w)}}function v3(w){try{return new URL(w),!0}catch{return!1}}var Rm=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;function y3(w){return Rm.test(w)}var Cm=/^(?:\/(?:[^~/]|~0|~1)*)*$/;function m3(w){return Cm.test(w)}function h3(w){if(w.length===0)return!1;try{return new RegExp(w),!0}catch{return!1}}var Dm=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function o3(w){return Dm.test(w)}var Vm=/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i;function u3(w){return Vm.test(w)}var Gm=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i;function p3(w){return Gm.test(w)}var $m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i;function l3(w){return $m.test(w)}var Pm=/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu;function r3(w){return Pm.test(w)}var Em=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;function c3(w){return Em.test(w)}var m0=new Map;function nT(){m0.clear()}function Sm(){return[...m0.entries()]}function bm(w,Q){m0.set(w,Q)}function Im(w){return m0.has(w)}function _m(w){return m0.get(w)}function jm(w,Q){return m0.get(w)?.(Q)??!0}function sT(){nT(),m0.set("date-time",E3),m0.set("date",x5),m0.set("duration",S3),m0.set("email",b3),m0.set("hostname",I3),m0.set("idn-email",_3),m0.set("idn-hostname",k3),m0.set("ipv4",g3),m0.set("ipv6",f3),m0.set("iri-reference",x3),m0.set("iri",v3),m0.set("json-pointer-uri-fragment",y3),m0.set("json-pointer",m3),m0.set("regex",h3),m0.set("relative-json-pointer",o3),m0.set("time",v5),m0.set("uri-reference",u3),m0.set("uri-template",p3),m0.set("uri",l3),m0.set("url",r3),m0.set("uuid",c3)}sT();function aT(w,Q,Y,z){return N.Call(N.Member("Format","Test"),[N.Constant(Y.format),z])}function d3(w,Q,Y,z){return _4.Test(Y.format,z)}function tT(w,Q,Y,z,H,W){return d3(w,Q,H,W)||Q.AddError({keyword:"format",schemaPath:Y,instancePath:z,params:{format:H.format}})}function eT(w,Q,Y,z){let H=QH(Y)?Y.then:!0,W=c7(Y)?Y.else:!0;return N.Ternary(J0(w,Q,Y.if,z),J0(w,Q,H,z),J0(w,Q,W,z))}function wR(w,Q,Y,z){let H=QH(Y)?Y.then:!0,W=c7(Y)?Y.else:!0;return Y0(w,Q,Y.if,z)?Y0(w,Q,H,z):Y0(w,Q,W,z)}function QR(w,Q,Y,z,H,W){let X=QH(H)?H.then:!0,L=c7(H)?H.else:!0,U=new _6,q=R0(w,U,`${Y}/if`,z,H.if,W)?R0(w,U,`${Y}/then`,z,X,W)||Q.AddError({keyword:"if",schemaPath:Y,instancePath:z,params:{failingKeyword:"then"}}):R0(w,Q,`${Y}/else`,z,L,W)||Q.AddError({keyword:"if",schemaPath:Y,instancePath:z,params:{failingKeyword:"else"}});if(q)Q.Merge([U]);return q}function km(w,Q,Y,z){return N.ReduceAnd(Y.items.map((H,W)=>{let X=N.IsLessEqualThan(N.Member(z,"length"),N.Constant(W)),L=J0(w,Q,H,`${z}[${W}]`),U=Q.AddIndex(N.Constant(W)),q=Q.UseUnevaluated()?N.And(L,U):L;return N.Or(X,q)}))}function gm(w,Q,Y,z){return J.Every(Y.items,0,(H,W)=>{return J.IsLessEqualThan(z.length,W)||Y0(w,Q,H,z[W])&&Q.AddIndex(W)})}function fm(w,Q,Y,z,H,W){return J.EveryAll(H.items,0,(X,L)=>{let U=`${Y}/items/${L}`,q=`${z}/${L}`;return J.IsLessEqualThan(W.length,L)||R0(w,Q,U,q,X,W[L])&&Q.AddIndex(L)})}function xm(w,Q,Y,z){let H=aw(Y)?Y.prefixItems.length:0,W=J0(w,Q,Y.items,"element"),X=Q.AddIndex("index"),L=Q.UseUnevaluated()?N.And(W,X):W;return N.Every(z,N.Constant(H),["element","index"],L)}function vm(w,Q,Y,z){let H=aw(Y)?Y.prefixItems.length:0;return J.Every(z,H,(W,X)=>{return Y0(w,Q,Y.items,W)&&Q.AddIndex(X)})}function ym(w,Q,Y,z,H,W){let X=aw(H)?H.prefixItems.length:0;return J.EveryAll(W,X,(L,U)=>{let q=`${Y}/items`,Z=`${z}/${U}`;return R0(w,Q,q,Z,H.items,L)&&Q.AddIndex(U)})}function YR(w,Q,Y,z){return n7(Y)?km(w,Q,Y,z):xm(w,Q,Y,z)}function zR(w,Q,Y,z){return n7(Y)?gm(w,Q,Y,z):vm(w,Q,Y,z)}function HR(w,Q,Y,z,H,W){return n7(H)?fm(w,Q,Y,z,H,W):ym(w,Q,Y,z,H,W)}function WR(w){return nw(w)}function XR(w,Q,Y,z){if(!WR(Y))return N.Constant(!0);let[H,W]=[r0(),r0()],X=N.Call(N.Member(z,"reduce"),[N.ArrowFunction([H,W],N.Ternary(J0(w,Q,Y.contains,W),N.PrefixIncrement(H),H)),N.Constant(0)]);return N.IsLessEqualThan(X,N.Constant(Y.maxContains))}function i3(w,Q,Y,z){if(!WR(Y))return!0;let H=z.reduce((W,X)=>Y0(w,Q,Y.contains,X)?++W:W,0);return J.IsLessEqualThan(H,Y.maxContains)}function JR(w,Q,Y,z,H,W){let X=sw(H)?H.minContains:1;return i3(w,Q,H,W)||Q.AddError({keyword:"contains",schemaPath:Y,instancePath:z,params:{minContains:X,maxContains:H.maxContains}})}function LR(w,Q,Y,z){return N.IsLessEqualThan(z,N.Constant(Y.maximum))}function n3(w,Q,Y,z){return J.IsLessEqualThan(z,Y.maximum)}function UR(w,Q,Y,z,H,W){return n3(w,Q,H,W)||Q.AddError({keyword:"maximum",schemaPath:Y,instancePath:z,params:{comparison:"<=",limit:H.maximum}})}function qR(w,Q,Y,z){return N.IsLessEqualThan(N.Member(z,"length"),N.Constant(Y.maxItems))}function s3(w,Q,Y,z){return J.IsLessEqualThan(z.length,Y.maxItems)}function OR(w,Q,Y,z,H,W){return s3(w,Q,H,W)||Q.AddError({keyword:"maxItems",schemaPath:Y,instancePath:z,params:{limit:H.maxItems}})}function ZR(w,Q,Y,z){return N.IsLessEqualThan(N.StringGraphemeCount(z),N.Constant(Y.maxLength))}function a3(w,Q,Y,z){return J.IsLessEqualThan(J.StringGraphemeCount(z),Y.maxLength)}function NR(w,Q,Y,z,H,W){return a3(w,Q,H,W)||Q.AddError({keyword:"maxLength",schemaPath:Y,instancePath:z,params:{limit:H.maxLength}})}function FR(w,Q,Y,z){return N.IsLessEqualThan(N.Member(N.Keys(z),"length"),N.Constant(Y.maxProperties))}function t3(w,Q,Y,z){return J.IsLessEqualThan(J.Keys(z).length,Y.maxProperties)}function KR(w,Q,Y,z,H,W){return t3(w,Q,H,W)||Q.AddError({keyword:"maxProperties",schemaPath:Y,instancePath:z,params:{limit:H.maxProperties}})}function BR(w){return nw(w)}function AR(w,Q,Y,z){if(!BR(Y))return N.Constant(!0);let[H,W]=[r0(),r0()],X=N.Call(N.Member(z,"reduce"),[N.ArrowFunction([H,W],N.Ternary(J0(w,Q,Y.contains,W),N.PrefixIncrement(H),H)),N.Constant(0)]);return N.IsGreaterEqualThan(X,N.Constant(Y.minContains))}function e3(w,Q,Y,z){if(!BR(Y))return!0;let H=z.reduce((W,X)=>Y0(w,Q,Y.contains,X)?++W:W,0);return J.IsGreaterEqualThan(H,Y.minContains)}function MR(w,Q,Y,z,H,W){return e3(w,Q,H,W)||Q.AddError({keyword:"contains",schemaPath:Y,instancePath:z,params:{minContains:H.minContains}})}function TR(w,Q,Y,z){return N.IsGreaterEqualThan(z,N.Constant(Y.minimum))}function wJ(w,Q,Y,z){return J.IsGreaterEqualThan(z,Y.minimum)}function RR(w,Q,Y,z,H,W){return wJ(w,Q,H,W)||Q.AddError({keyword:"minimum",schemaPath:Y,instancePath:z,params:{comparison:">=",limit:H.minimum}})}function CR(w,Q,Y,z){return N.IsGreaterEqualThan(N.Member(z,"length"),N.Constant(Y.minItems))}function QJ(w,Q,Y,z){return J.IsGreaterEqualThan(z.length,Y.minItems)}function DR(w,Q,Y,z,H,W){return QJ(w,Q,H,W)||Q.AddError({keyword:"minItems",schemaPath:Y,instancePath:z,params:{limit:H.minItems}})}function VR(w,Q,Y,z){return N.IsGreaterEqualThan(N.StringGraphemeCount(z),N.Constant(Y.minLength))}function YJ(w,Q,Y,z){return J.IsGreaterEqualThan(J.StringGraphemeCount(z),Y.minLength)}function GR(w,Q,Y,z,H,W){return YJ(w,Q,H,W)||Q.AddError({keyword:"minLength",schemaPath:Y,instancePath:z,params:{limit:H.minLength}})}function $R(w,Q,Y,z){return N.IsGreaterEqualThan(N.Member(N.Keys(z),"length"),N.Constant(Y.minProperties))}function zJ(w,Q,Y,z){return J.IsGreaterEqualThan(J.Keys(z).length,Y.minProperties)}function PR(w,Q,Y,z,H,W){return zJ(w,Q,H,W)||Q.AddError({keyword:"minProperties",schemaPath:Y,instancePath:z,params:{limit:H.minProperties}})}function ER(w,Q,Y,z){return N.MultipleOf(z,N.Constant(Y.multipleOf))}function HJ(w,Q,Y,z){return J.IsMultipleOf(z,Y.multipleOf)}function SR(w,Q,Y,z,H,W){return HJ(w,Q,H,W)||Q.AddError({keyword:"multipleOf",schemaPath:Y,instancePath:z,params:{multipleOf:H.multipleOf}})}function mm(w,Q,Y,z){return u8(w,Q,[Y.not],z,N.Not(N.IsEqual(N.Member("results","length"),N.Constant(1))))}function hm(w,Q,Y,z){return N.Not(J0(w,Q,Y.not,z))}function bR(w,Q,Y,z){return Q.UseUnevaluated()?mm(w,Q,Y,z):hm(w,Q,Y,z)}function WJ(w,Q,Y,z){let H=new x6;return!Y0(w,H,Y.not,z)&&Q.Merge([H])}function IR(w,Q,Y,z,H,W){return WJ(w,Q,H,W)||Q.AddError({keyword:"not",schemaPath:Y,instancePath:z,params:{}})}function om(w,Q,Y,z){return u8(w,Q,Y.oneOf,z,N.IsEqual(N.Member("results","length"),N.Constant(1)))}function um(w,Q,Y,z){let H=N.ArrayLiteral(Y.oneOf.map((X)=>J0(w,Q,X,z))),W=N.Call(N.Member(H,"reduce"),[N.ArrowFunction(["count","result"],N.Ternary(N.IsEqual("result",N.Constant(!0)),N.PrefixIncrement("count"),"count")),N.Constant(0)]);return N.IsEqual(W,N.Constant(1))}function _R(w,Q,Y,z){return Q.UseUnevaluated()?om(w,Q,Y,z):um(w,Q,Y,z)}function jR(w,Q,Y,z){let H=Y.oneOf.reduce((W,X)=>{let L=new x6;return Y0(w,L,X,z)?[...W,L]:W},[]);return J.IsEqual(H.length,1)&&Q.Merge(H)}function kR(w,Q,Y,z,H,W){let X=[],L=[],U=H.oneOf.reduce((Z,K,B)=>{let A=new _6,M=`${Y}/oneOf/${B}`,T=R0(w,A,M,z,K,W);if(T)L.push(B);if(!T)X.push(A);return T?[...Z,A]:Z},[]),q=J.IsEqual(U.length,1)&&Q.Merge(U);if(!q&&J.IsEqual(L.length,0))X.forEach((Z)=>Z.GetErrors().forEach((K)=>Q.AddError(K)));return q||Q.AddError({keyword:"oneOf",schemaPath:Y,instancePath:z,params:{passingSchemas:L}})}function gR(w,Q,Y,z){let H=D9(J.IsString(Y.pattern)?new RegExp(Y.pattern):Y.pattern);return N.Call(N.Member(H,"test"),[z])}function XJ(w,Q,Y,z){return(J.IsString(Y.pattern)?new RegExp(Y.pattern):Y.pattern).test(z)}function fR(w,Q,Y,z,H,W){return XJ(w,Q,H,W)||Q.AddError({keyword:"pattern",schemaPath:Y,instancePath:z,params:{pattern:H.pattern}})}function xR(w,Q,Y,z){return N.ReduceAnd(J.Entries(Y.patternProperties).map(([H,W])=>{let[X,L]=[r0(),r0()],U=D9(new RegExp(H)),q=N.Not(N.Call(N.Member(U,"test"),[X])),Z=J0(w,Q,W,L),K=Q.AddKey(X),B=Q.UseUnevaluated()?N.Or(q,N.And(Z,K)):N.Or(q,Z);return N.Every(N.Entries(z),N.Constant(0),[`[${X}, ${L}]`,"_"],B)}))}function vR(w,Q,Y,z){return J.Every(J.Entries(Y.patternProperties),0,([H,W])=>{let X=new RegExp(H);return J.Every(J.Entries(z),0,([L,U])=>{return!X.test(L)||Y0(w,Q,W,U)&&Q.AddKey(L)})})}function yR(w,Q,Y,z,H,W){return J.EveryAll(J.Entries(H.patternProperties),0,([X,L])=>{let U=`${Y}/patternProperties/${X}`,q=new RegExp(X);return J.EveryAll(J.Entries(W),0,([Z,K])=>{let B=`${z}/${Z}`;return!q.test(Z)||R0(w,Q,U,B,L,K)&&Q.AddKey(Z)})})}function mR(w,Q,Y,z){return N.ReduceAnd(Y.prefixItems.map((H,W)=>{let X=N.IsLessEqualThan(N.Member(z,"length"),N.Constant(W)),L=J0(w,Q,H,`${z}[${W}]`),U=Q.AddIndex(N.Constant(W)),q=Q.UseUnevaluated()?N.And(L,U):L;return N.Or(X,q)}))}function hR(w,Q,Y,z){return J.IsEqual(z.length,0)||J.Every(Y.prefixItems,0,(H,W)=>{return J.IsLessEqualThan(z.length,W)||Y0(w,Q,H,z[W])&&Q.AddIndex(W)})}function oR(w,Q,Y,z,H,W){return J.IsEqual(W.length,0)||J.EveryAll(H.prefixItems,0,(X,L)=>{let U=`${Y}/prefixItems/${L}`,q=`${z}/${L}`;return J.IsLessEqualThan(W.length,L)||R0(w,Q,U,q,X,W[L])&&Q.AddIndex(L)})}function HH(w,Q){return w.includes(Q)||B9.Get().exactOptionalPropertyTypes}function uR(w,Q){return N.IsUndefined(N.Member(w,Q))}function JJ(w,Q){return J.IsUndefined(w[Q])}function pR(w,Q,Y,z){let H=ww(Y)?Y.required:[],W=J.Entries(Y.properties).map(([X,L])=>{let U=N.Not(N.HasPropertyKey(z,N.Constant(X))),q=J0(w,Q,L,N.Member(z,X)),Z=Q.AddKey(N.Constant(X)),K=Q.UseUnevaluated()?N.And(q,Z):q,B=H.includes(X)?K:N.Or(U,K);return HH(H,X)?B:N.Or(uR(z,X),B)});return N.ReduceAnd(W)}function lR(w,Q,Y,z){let H=ww(Y)?Y.required:[];return J.Every(J.Entries(Y.properties),0,([X,L])=>{let U=!J.HasPropertyKey(z,X)||Y0(w,Q,L,z[X])&&Q.AddKey(X);return HH(H,X)?U:JJ(z,X)||U})}function rR(w,Q,Y,z,H,W){let X=ww(H)?H.required:[];return J.EveryAll(J.Entries(H.properties),0,([U,q])=>{let Z=`${Y}/properties/${U}`,K=`${z}/${U}`,B=()=>!J.HasPropertyKey(W,U)||R0(w,Q,Z,K,q,W[U])&&Q.AddKey(U);return HH(X,U)?B():JJ(W,U)||B()})}function cR(w,Q,Y,z){let[H,W]=[r0(),r0()];return N.Every(N.Keys(z),N.Constant(0),[H,W],J0(w,Q,Y.propertyNames,H))}function dR(w,Q,Y,z){return J.Every(J.Keys(z),0,(H,W)=>Y0(w,Q,Y.propertyNames,H))}function iR(w,Q,Y,z,H,W){let X=[];return J.EveryAll(J.Keys(W),0,(U,q)=>{let Z=`${z}/${U}`,K=`${Y}/propertyNames`,B=new _6,A=R0(w,B,K,Z,H.propertyNames,U);if(!A)X.push(U);return A})||Q.AddError({keyword:"propertyNames",schemaPath:Y,instancePath:z,params:{propertyNames:X}})}function nR(w,Q,Y,z){let H=w.RecursiveRef(Y.$recursiveRef)??!1;return j4(w,Q,H,z)}function sR(w,Q,Y,z){let H=w.RecursiveRef(Y.$recursiveRef)??!1;return H0(H)&&Y0(w,Q,H,z)}function aR(w,Q,Y,z,H,W){let X=w.RecursiveRef(H.$recursiveRef)??!1;return H0(X)&&R0(w,Q,"#",z,X,W)}function pm(w,Q,Y,z){let H=N.ArrowFunction(["context","value"],j4(w,Q,Y,"value")),W=N.ArrowFunction(["context","value"],N.Statements([N.ConstDeclaration("nextContext",N.New("CheckContext",[])),N.ConstDeclaration("result",N.Call(H,["nextContext","value"])),N.If("result",Q.Merge("[nextContext]")),N.Return("result")]));return N.Call(W,["context",z])}function lm(w,Q,Y,z){return j4(w,Q,Y,z)}function eR(w,Q,Y,z){let H=w.Ref(Y.$ref)??!1;return Q.UseUnevaluated()?pm(w,Q,H,z):lm(w,Q,H,z)}function wC(w,Q,Y,z){let H=w.Ref(Y.$ref)??!1,W=new x6,X=H0(H)&&Y0(w,W,H,z);if(X)Q.Merge([W]);return X}function QC(w,Q,Y,z,H,W){let X=w.Ref(H.$ref)??!1,L=new _6,U=H0(X)&&R0(w,L,"#",z,X,W);if(U)Q.Merge([L]);if(!U)L.GetErrors().forEach((q)=>Q.AddError(q));return U}function YC(w,Q,Y,z){return N.ReduceAnd(Y.required.map((H)=>N.HasPropertyKey(z,N.Constant(H))))}function zC(w,Q,Y,z){return J.Every(Y.required,0,(H)=>J.HasPropertyKey(z,H))}function HC(w,Q,Y,z,H,W){let X=[];return J.EveryAll(H.required,0,(U)=>{let q=J.HasPropertyKey(W,U);if(!q)X.push(U);return q})||Q.AddError({keyword:"required",schemaPath:Y,instancePath:z,params:{requiredProperties:X}})}function WC(w,Q,Y,z){return J.IsEqual(Y,"object")?N.IsObjectNotArray(z):J.IsEqual(Y,"array")?N.IsArray(z):J.IsEqual(Y,"boolean")?N.IsBoolean(z):J.IsEqual(Y,"integer")?N.IsInteger(z):J.IsEqual(Y,"number")?N.IsNumber(z):J.IsEqual(Y,"null")?N.IsNull(z):J.IsEqual(Y,"string")?N.IsString(z):J.IsEqual(Y,"asyncIterator")?N.IsAsyncIterator(z):J.IsEqual(Y,"bigint")?N.IsBigInt(z):J.IsEqual(Y,"constructor")?N.IsConstructor(z):J.IsEqual(Y,"function")?N.IsFunction(z):J.IsEqual(Y,"iterator")?N.IsIterator(z):J.IsEqual(Y,"symbol")?N.IsSymbol(z):J.IsEqual(Y,"undefined")?N.IsUndefined(z):J.IsEqual(Y,"void")?N.IsUndefined(z):N.Constant(!0)}function LJ(w,Q,Y,z,H){return J.IsEqual(Y,"object")?J.IsObjectNotArray(H):J.IsEqual(Y,"array")?J.IsArray(H):J.IsEqual(Y,"boolean")?J.IsBoolean(H):J.IsEqual(Y,"integer")?J.IsInteger(H):J.IsEqual(Y,"number")?J.IsNumber(H):J.IsEqual(Y,"null")?J.IsNull(H):J.IsEqual(Y,"string")?J.IsString(H):J.IsEqual(Y,"asyncIterator")?J.IsAsyncIterator(H):J.IsEqual(Y,"bigint")?J.IsBigInt(H):J.IsEqual(Y,"constructor")?J.IsConstructor(H):J.IsEqual(Y,"function")?J.IsFunction(H):J.IsEqual(Y,"iterator")?J.IsIterator(H):J.IsEqual(Y,"symbol")?J.IsSymbol(H):J.IsEqual(Y,"undefined")?J.IsUndefined(H):J.IsEqual(Y,"void")?J.IsUndefined(H):!0}function rm(w,Q,Y,z){return N.ReduceOr(Y.map((H)=>WC(w,Q,H,z)))}function XC(w,Q,Y,z,H){return Y.some((W)=>LJ(w,Q,W,z,H))}function JC(w,Q,Y,z){return J.IsArray(Y.type)?rm(w,Q,Y.type,z):WC(w,Q,Y.type,z)}function LC(w,Q,Y,z){return J.IsArray(Y.type)?XC(w,Q,Y.type,Y,z):LJ(w,Q,Y.type,Y,z)}function UC(w,Q,Y,z,H,W){return(J.IsArray(H.type)?XC(w,Q,H.type,H,W):LJ(w,Q,H.type,H,W))||Q.AddError({keyword:"type",schemaPath:Y,instancePath:z,params:{type:H.type}})}function qC(w,Q,Y,z){let[H,W]=[r0(),r0()],X=N.Call(N.Member("context","GetIndices"),[]),L=N.Call(N.Member("indices","has"),[H]),U=J0(w,Q,Y.unevaluatedItems,W),q=N.Call(N.Member("context","AddIndex"),[H]),Z=N.Every(z,N.Constant(0),[W,H],N.And(N.Or(L,U),q));return N.Call(N.ArrowFunction(["context"],N.Statements([N.ConstDeclaration("indices",X),N.Return(Z)])),["context"])}function OC(w,Q,Y,z){let H=Q.GetIndices();return J.Every(z,0,(W,X)=>{return(H.has(X)||Y0(w,Q,Y.unevaluatedItems,W))&&Q.AddIndex(X)})}function ZC(w,Q,Y,z,H,W){let X=Q.GetIndices(),L=[];return J.EveryAll(W,0,(q,Z)=>{let K=new _6,B=(X.has(Z)||R0(w,K,Y,z,H.unevaluatedItems,q))&&Q.AddIndex(Z);if(!B)L.push(Z);return B})||Q.AddError({keyword:"unevaluatedItems",schemaPath:Y,instancePath:z,params:{unevaluatedItems:L}})}function NC(w,Q,Y,z){let[H,W]=[r0(),r0()],X=N.Call(N.Member("context","GetKeys"),[]),L=N.Call(N.Member("keys","has"),[H]),U=N.Call(N.Member("context","AddKey"),[H]),q=J0(w,Q,Y.unevaluatedProperties,W),Z=N.Every(N.Entries(z),N.Constant(0),[`[${H}, ${W}]`,"_"],N.Or(L,N.And(q,U)));return N.Call(N.ArrowFunction(["context"],N.Statements([N.ConstDeclaration("keys",X),N.Return(Z)])),["context"])}function FC(w,Q,Y,z){let H=Q.GetKeys();return J.Every(J.Entries(z),0,([W,X])=>{return H.has(W)||Y0(w,Q,Y.unevaluatedProperties,X)&&Q.AddKey(W)})}function KC(w,Q,Y,z,H,W){let X=Q.GetKeys(),L=[];return J.EveryAll(J.Entries(W),0,([q,Z])=>{let K=new _6,B=X.has(q)||R0(w,K,Y,z,H.unevaluatedProperties,Z)&&Q.AddKey(q);if(!B)L.push(q);return B})||Q.AddError({keyword:"unevaluatedProperties",schemaPath:Y,instancePath:z,params:{unevaluatedProperties:L}})}function UJ(w){return!J.IsEqual(w.uniqueItems,!1)}function BC(w,Q,Y,z){if(!UJ(Y))return N.Constant(!0);let H=N.Member(N.New("Set",[N.Call(N.Member(z,"map"),[N.Member("Hashing","Hash")])]),"size"),W=N.Member(z,"length");return N.IsEqual(H,W)}function AC(w,Q,Y,z){if(!UJ(Y))return!0;let H=new Set(z.map(d9.Hash)).size,W=z.length;return J.IsEqual(H,W)}function MC(w,Q,Y,z,H,W){if(!UJ(H))return!0;let X=new Set,L=W.reduce((q,Z,K)=>{let B=d9.Hash(Z);if(X.has(B))return[...q,K];return X.add(B),q},[]);return J.IsEqual(L.length,0)||Q.AddError({keyword:"uniqueItems",schemaPath:Y,instancePath:z,params:{duplicateItems:L}})}function y5(w,Q){return f5(w)&&(J.IsArray(w.type)&&w.type.includes(Q)||J.IsEqual(w.type,Q))}function cm(w){return y5(w,"object")}function dm(w){return C9(w)&&(a9(w)||$5(w)||P5(w)||E5(w)||h8(w)||m8(w)||g5(w)||P4(w)||j5(w)||ww(w)||b4(w))}function im(w){return y5(w,"array")}function nm(w){return C9(w)&&(V5(w)||v8(w)||nw(w)||I5(w)||cQ(w)||sw(w)||y8(w)||aw(w)||S4(w)||o8(w))}function sm(w){return y5(w,"string")}function am(w){return C9(w)&&($4(w)||_5(w)||V4(w)||E4(w))}function tm(w){return y5(w,"number")||y5(w,"bigint")}function em(w){return C9(w)&&(e9(w)||b5(w)||S5(w)||t9(w)||k5(w))}function J0(w,Q,Y,z){w.Push(Y);let H=[];if(D5(Y))return PT(w,Q,Y,z);if(f5(Y))H.push(JC(w,Q,Y,z));if(dm(Y)){let X=[];if(ww(Y))X.push(YC(w,Q,Y,z));if(a9(Y))X.push(AT(w,Q,Y,z));if($5(Y))X.push(kT(w,Q,Y,z));if(P5(Y))X.push(xT(w,Q,Y,z));if(E5(Y))X.push(mT(w,Q,Y,z));if(m8(Y))X.push(xR(w,Q,Y,z));if(h8(Y))X.push(pR(w,Q,Y,z));if(g5(Y))X.push(cR(w,Q,Y,z));if(P4(Y))X.push($R(w,Q,Y,z));if(j5(Y))X.push(FR(w,Q,Y,z));let L=N.ReduceAnd(X),U=N.Or(N.Not(N.IsObjectNotArray(z)),L);H.push(cm(Y)?L:U)}if(nm(Y)){let X=[];if(V5(Y))X.push(FT(w,Q,Y,z));if(nw(Y))X.push(_T(w,Q,Y,z));if(v8(Y))X.push(YR(w,Q,Y,z));if(I5(Y))X.push(XR(w,Q,Y,z));if(cQ(Y))X.push(qR(w,Q,Y,z));if(sw(Y))X.push(AR(w,Q,Y,z));if(y8(Y))X.push(CR(w,Q,Y,z));if(aw(Y))X.push(mR(w,Q,Y,z));if(o8(Y))X.push(BC(w,Q,Y,z));let L=N.ReduceAnd(X),U=N.Or(N.Not(N.IsArray(z)),L);H.push(im(Y)?L:U)}if(am(Y)){let X=[];if(V4(Y))X.push(aT(w,Q,Y,z));if(_5(Y))X.push(ZR(w,Q,Y,z));if($4(Y))X.push(VR(w,Q,Y,z));if(E4(Y))X.push(gR(w,Q,Y,z));let L=N.ReduceAnd(X),U=N.Or(N.Not(N.IsString(z)),L);H.push(sm(Y)?L:U)}if(em(Y)){let X=[];if(S5(Y))X.push(lT(w,Q,Y,z));if(t9(Y))X.push(cT(w,Q,Y,z));if(b5(Y))X.push(LR(w,Q,Y,z));if(e9(Y))X.push(TR(w,Q,Y,z));if(k5(Y))X.push(ER(w,Q,Y,z));let L=N.ReduceAnd(X),U=N.Or(N.Not(N.Or(N.IsNumber(z),N.IsBigInt(z))),L);H.push(tm(Y)?L:U)}if(e7(Y))H.push(nR(w,Q,Y,z));if(wH(Y))H.push(eR(w,Q,Y,z));if(o7(Y))H.push(LT(w,Q,Y,z));if(r7(Y))H.push(ST(w,Q,Y,z));if(d7(Y))H.push(uT(w,Q,Y,z));if(i7(Y))H.push(eT(w,Q,Y,z));if(s7(Y))H.push(bR(w,Q,Y,z));if(p7(Y))H.push(RT(w,Q,Y,z));if(l7(Y))H.push(VT(w,Q,Y,z));if(a7(Y))H.push(_R(w,Q,Y,z));if(S4(Y))H.push(N.Or(N.Not(N.IsArray(z)),qC(w,Q,Y,z)));if(b4(Y))H.push(N.Or(N.Not(N.IsObject(z)),NC(w,Q,Y,z)));if(u7(Y))H.push(OT(w,Q,Y,z));let W=N.ReduceAnd(H);return w.Pop(Y),W}function Y0(w,Q,Y,z){w.Push(Y);let H=D5(Y)?C3(w,Q,Y,z):(!f5(Y)||LC(w,Q,Y,z))&&(!(J.IsObject(z)&&!J.IsArray(z))||(!ww(Y)||zC(w,Q,Y,z))&&(!a9(Y)||MT(w,Q,Y,z))&&(!$5(Y)||gT(w,Q,Y,z))&&(!P5(Y)||vT(w,Q,Y,z))&&(!E5(Y)||hT(w,Q,Y,z))&&(!m8(Y)||vR(w,Q,Y,z))&&(!h8(Y)||lR(w,Q,Y,z))&&(!g5(Y)||dR(w,Q,Y,z))&&(!P4(Y)||zJ(w,Q,Y,z))&&(!j5(Y)||t3(w,Q,Y,z)))&&(!J.IsArray(z)||(!V5(Y)||KT(w,Q,Y,z))&&(!nw(Y)||V3(w,Q,Y,z))&&(!v8(Y)||zR(w,Q,Y,z))&&(!I5(Y)||i3(w,Q,Y,z))&&(!cQ(Y)||s3(w,Q,Y,z))&&(!sw(Y)||e3(w,Q,Y,z))&&(!y8(Y)||QJ(w,Q,Y,z))&&(!aw(Y)||hR(w,Q,Y,z))&&(!o8(Y)||AC(w,Q,Y,z)))&&(!J.IsString(z)||(!V4(Y)||d3(w,Q,Y,z))&&(!_5(Y)||a3(w,Q,Y,z))&&(!$4(Y)||YJ(w,Q,Y,z))&&(!E4(Y)||XJ(w,Q,Y,z)))&&(!(J.IsNumber(z)||J.IsBigInt(z))||(!S5(Y)||$3(w,Q,Y,z))&&(!t9(Y)||P3(w,Q,Y,z))&&(!b5(Y)||n3(w,Q,Y,z))&&(!e9(Y)||wJ(w,Q,Y,z))&&(!k5(Y)||HJ(w,Q,Y,z)))&&(!e7(Y)||sR(w,Q,Y,z))&&(!wH(Y)||wC(w,Q,Y,z))&&(!o7(Y)||UT(w,Q,Y,z))&&(!r7(Y)||D3(w,Q,Y,z))&&(!d7(Y)||G3(w,Q,Y,z))&&(!i7(Y)||wR(w,Q,Y,z))&&(!s7(Y)||WJ(w,Q,Y,z))&&(!p7(Y)||CT(w,Q,Y,z))&&(!l7(Y)||GT(w,Q,Y,z))&&(!a7(Y)||jR(w,Q,Y,z))&&(!S4(Y)||(!J.IsArray(z)||OC(w,Q,Y,z)))&&(!b4(Y)||(!J.IsObject(z)||FC(w,Q,Y,z)))&&(!u7(Y)||ZT(w,Q,Y,z));return w.Pop(Y),H}function R0(w,Q,Y,z,H,W){w.Push(H);let X=D5(H)?ET(w,Q,Y,z,H,W):!!(+(!f5(H)||UC(w,Q,Y,z,H,W))&+(!(J.IsObject(W)&&!J.IsArray(W))||!!(+(!ww(H)||HC(w,Q,Y,z,H,W))&+(!a9(H)||TT(w,Q,Y,z,H,W))&+(!$5(H)||fT(w,Q,Y,z,H,W))&+(!P5(H)||yT(w,Q,Y,z,H,W))&+(!E5(H)||oT(w,Q,Y,z,H,W))&+(!m8(H)||yR(w,Q,Y,z,H,W))&+(!h8(H)||rR(w,Q,Y,z,H,W))&+(!g5(H)||iR(w,Q,Y,z,H,W))&+(!P4(H)||PR(w,Q,Y,z,H,W))&+(!j5(H)||KR(w,Q,Y,z,H,W))))&+(!J.IsArray(W)||!!(+(!V5(H)||BT(w,Q,Y,z,H,W))&+(!nw(H)||jT(w,Q,Y,z,H,W))&+(!v8(H)||HR(w,Q,Y,z,H,W))&+(!I5(H)||JR(w,Q,Y,z,H,W))&+(!cQ(H)||OR(w,Q,Y,z,H,W))&+(!sw(H)||MR(w,Q,Y,z,H,W))&+(!y8(H)||DR(w,Q,Y,z,H,W))&+(!aw(H)||oR(w,Q,Y,z,H,W))&+(!o8(H)||MC(w,Q,Y,z,H,W))))&+(!J.IsString(W)||!!(+(!V4(H)||tT(w,Q,Y,z,H,W))&+(!_5(H)||NR(w,Q,Y,z,H,W))&+(!$4(H)||GR(w,Q,Y,z,H,W))&+(!E4(H)||fR(w,Q,Y,z,H,W))))&+(!(J.IsNumber(W)||J.IsBigInt(W))||!!(+(!S5(H)||rT(w,Q,Y,z,H,W))&+(!t9(H)||dT(w,Q,Y,z,H,W))&+(!b5(H)||UR(w,Q,Y,z,H,W))&+(!e9(H)||RR(w,Q,Y,z,H,W))&+(!k5(H)||SR(w,Q,Y,z,H,W))))&+(!e7(H)||aR(w,Q,Y,z,H,W))&+(!wH(H)||QC(w,Q,Y,z,H,W))&+(!o7(H)||qT(w,Q,Y,z,H,W))&+(!r7(H)||bT(w,Q,Y,z,H,W))&+(!d7(H)||pT(w,Q,Y,z,H,W))&+(!i7(H)||QR(w,Q,Y,z,H,W))&+(!s7(H)||IR(w,Q,Y,z,H,W))&+(!p7(H)||DT(w,Q,Y,z,H,W))&+(!l7(H)||$T(w,Q,Y,z,H,W))&+(!a7(H)||kR(w,Q,Y,z,H,W))&+(!S4(H)||(!J.IsArray(W)||ZC(w,Q,Y,z,H,W)))&+(!b4(H)||(!J.IsObject(W)||KC(w,Q,Y,z,H,W))))&&(!u7(H)||NT(w,Q,Y,z,H,W));return w.Pop(H),X}var m5=new Map;function wh(w,Q,Y,z){return w.UseUnevaluated()?N.Call(`check_${Y}`,["context",z]):N.Call(`check_${Y}`,[z])}function Qh(w,Q,Y,z){let H=J0(w,Q,Y,"value");return Q.UseUnevaluated()?N.ConstDeclaration(`check_${z}`,N.ArrowFunction(["context","value"],H)):N.ConstDeclaration(`check_${z}`,N.ArrowFunction(["value"],H))}function TC(){m5.clear()}function RC(){return[...m5.values()]}function j4(w,Q,Y,z){let H=C9(Y)?d9.Hash({__baseURL:w.BaseURL().href,...Y}):d9.Hash(Y),W=wh(Q,Y,H,z);if(m5.has(H))return W;return m5.set(H,""),m5.set(H,Qh(w,Q,Y,H)),W}var k4={};y6(k4,{Ref:()=>Fh});var tw={};y6(tw,{Set:()=>Jh,Indices:()=>h5,Has:()=>Wh,Get:()=>Xh,Delete:()=>Lh});function CC(w){if(w.length===0)throw Error("Cannot set root")}function DC(w){if(!J.IsObject(w))throw Error("Cannot set value")}function Yh(w){return/^(0|[1-9]\d*)$/.test(w)}function VC(w){return[w.slice(0,w.length-1),w.slice(w.length-1)[0]]}function zh(w,Q){return J.IsObject(Q)&&J.HasPropertyKey(Q,w)}function Hh(w,Q){return J.IsObject(Q)?Q[w]:void 0}function qJ(w,Q){return w.reduce((Y,z)=>Hh(z,Y),Q)}function h5(w){if(J.IsEqual(w.length,0))return[];let Q=w.split("/").map((Y)=>Y.replace(/~1/g,"/").replace(/~0/g,"~"));return Q.length>0&&Q[0]===""?Q.slice(1):Q}function Wh(w,Q){let Y=w;return h5(Q).every((z)=>{if(!zh(z,Y))return!1;return Y=Y[z],!0})}function Xh(w,Q){let Y=h5(Q);return qJ(Y,w)}function Jh(w,Q,Y){let z=h5(Q);CC(z);let[H,W]=VC(z),X=qJ(H,w);return DC(X),X[W]=Y,w}function Lh(w,Q){let Y=h5(Q);CC(Y);let[z,H]=VC(Y),W=qJ(z,w);if(DC(W),J.IsArray(W)&&Yh(H))W.splice(+H,1);else delete W[H];return w}function Uh(w,Q,Y){if(w.$id===Y.hash)return w;let z=new URL(w.$id,Q.href),H=new URL(Y.href,Q.href);if(J.IsEqual(z.pathname,H.pathname))return Y.hash.startsWith("#")?GC(w,Q,Y):w;return}function qh(w,Q,Y){let z=new URL(`#${w.$anchor}`,Q.href),H=new URL(Y.href,Q.href);if(J.IsEqual(z.href,H.href))return w;return}function GC(w,Q,Y){if(Y.href.endsWith("#"))return w;return Y.hash.startsWith("#")?tw.Get(w,decodeURIComponent(Y.hash.slice(1))):void 0}function Oh(w,Q,Y){if(G4(w)){let z=Uh(w,Q,Y);if(!J.IsUndefined(z))return z}if(G5(w)){let z=qh(w,Q,Y);if(!J.IsUndefined(z))return z}return GC(w,Q,Y)}function Zh(w,Q,Y){return w.reduce((z,H)=>{let W=OJ(H,Q,Y);return!J.IsUndefined(W)?W:z},void 0)}function Nh(w,Q,Y){return J.Keys(w).reduce((z,H)=>{let W=OJ(w[H],Q,Y);return!J.IsUndefined(W)?W:z},void 0)}function OJ(w,Q,Y){if(Q=C9(w)&&G4(w)?new URL(w.$id,Q.href):Q,C9(w)){let z=Oh(w,Q,Y);if(!J.IsUndefined(z))return z}if(J.IsArray(w))return Zh(w,Q,Y);if(J.IsObject(w))return Nh(w,Q,Y);return}function Fh(w,Q){let Y=new URL("http://unknown"),z=G4(w)?new URL(w.$id,Y.href):Y,H=new URL(Q,z.href);return OJ(w,z,H)}class p8{constructor(w,Q){this.context=w,this.schema=Q,this.ids=[],this.anchors=[],this.recursiveAnchors=[],this.dynamicAnchors=[]}BaseURL(){return this.ids.reduce((w,Q)=>new URL(Q.$id,w),new URL("http://unknown"))}Base(){return this.ids[this.ids.length-1]??this.schema}Push(w){if(!C9(w))return;if(G4(w))this.ids.push(w);if(G5(w))this.anchors.push(w);if(t7(w))this.recursiveAnchors.push(w);if(B3(w))this.dynamicAnchors.push(w)}Pop(w){if(!C9(w))return;if(G4(w))this.ids.pop();if(G5(w))this.anchors.pop();if(t7(w))this.recursiveAnchors.pop();if(B3(w))this.dynamicAnchors.pop()}FromContext(w){return J.HasPropertyKey(this.context,w)?this.context[w]:void 0}FromRef(w){return!w.startsWith("#")?k4.Ref(this.schema,w):k4.Ref(this.Base(),w)}Ref(w){return this.FromContext(w)??this.FromRef(w)}RecursiveRef(w){if(t7(this.Base()))return k4.Ref(this.recursiveAnchors[0],w);return k4.Ref(this.Base(),w)}}function Kh(w){let Q=w.Functions().join(`;
`),Y=w.UseUnevaluated()?["const context = new CheckContext({}, {})",`return ${w.Call()}`]:[`return ${w.Call()}`];return`${Q}; return (value) => { ${Y.join("; ")} }`}function Bh(w,Q){return new globalThis.Function("CheckContext","Guard","Format","Hashing",w.External().identifier,Q)(x6,J,_4,d9,w.External().variables)}function Ah(w){let Q=new p8(w.Context(),w.Schema()),Y=new x6;return(z)=>Y0(Q,Y,w.Schema(),z)}function Mh(w,Q){return B4.CanEvaluate()?Bh(w,Q):Ah(w)}class $C{constructor(w,Q,Y,z,H,W){this.context=w,this.schema=Q,this.external=Y,this.functions=z,this.call=H,this.useUnevaluated=W}Context(){return this.context}Schema(){return this.schema}UseUnevaluated(){return this.useUnevaluated}External(){return this.external}Functions(){return this.functions}Call(){return this.call}Evaluate(){let w=Kh(this),Q=Mh(this,w);return{IsEvaluated:B4.CanEvaluate(),Code:w,Check:Q}}}function NJ(...w){let[Q,Y]=O0.Match(w,{2:(U,q)=>[U,q],1:(U)=>[{},U]});XT(),TC();let z=new p8(Q,Y),H=new A3(WT(Q,Y)),W=j4(z,H,Y,"value"),X=RC(),L=JT();return new $C(Q,Y,L,X,W,H.UseUnevaluated())}function PC(...w){let[Q,Y,z]=O0.Match(w,{3:(X,L,U)=>[X,L,U],2:(X,L)=>[{},X,L]}),H=new p8(Q,Y),W=new x6;return Y0(H,W,Y,z)}function EC(...w){let[Q,Y,z]=O0.Match(w,{3:(Z,K,B)=>[Z,K,B],2:(Z,K)=>[{},Z,K]}),H=B9.Get(),W=BZ(),X=[],L=new p8(Q,Y),U=new zH((Z)=>{if(J.IsGreaterEqualThan(X.length,H.maxErrors))return;return X.push({...Z,message:W(Z)})});return[R0(L,U,"#","",Y,z),X]}function g0(...w){let[Q,Y,z]=O0.Match(w,{3:(H,W,X)=>[H,W,X],2:(H,W)=>[{},H,W]});return PC(Q,Y,z)}function $w(...w){let[Q,Y,z]=O0.Match(w,{3:(X,L,U)=>[X,L,U],2:(X,L)=>[{},X,L]}),[H,W]=EC(Q,Y,z);return W}class f4 extends Error{constructor(w,Q,Y){super(w);Object.defineProperty(this,"cause",{value:{source:w,errors:Y,value:Q},writable:!1,configurable:!1,enumerable:!1})}}function SC(w,Q,Y){if(!J.IsArray(Y))return Y;return Y.map((z)=>D6(w,Q.items,z))}function bC(w,Q,Y){return Q.Clean(Y)}function IC(w,Q,Y){return D6({...w,...Q.$defs},W6(Q.$ref),Y)}function Rh(w){let Q=J.HasPropertyKey(w,"unevaluatedProperties")?{additionalProperties:w.unevaluatedProperties}:{},Y=s9(w);return e(Y)?m7(Y,Q):Y}function _C(w,Q,Y){let z=Rh(Q);return D6(w,z,Y)}function WH(w){return J.HasPropertyKey(w,"additionalProperties")?w.additionalProperties:void 0}function jC(w,Q,Y){if(!J.IsObject(Y)||J.IsArray(Y))return Y;let z=WH(Q);for(let H of J.Keys(Y)){if(J.HasPropertyKey(Q.properties,H)){Y[H]=D6(w,Q.properties[H],Y[H]);continue}if(J.IsBoolean(z)&&J.IsEqual(z,!0)||m(z)&&g0(w,z,Y[H])){Y[H]=D6(w,z,Y[H]);continue}delete Y[H]}return Y}function kC(w,Q,Y){if(!J.IsObject(Y))return Y;let z=WH(Q),[H,W]=[new RegExp(M9(Q)),R6(Q)];for(let X of J.Keys(Y)){if(H.test(X)){Y[X]=D6(w,W,Y[X]);continue}if(J.IsBoolean(z)&&J.IsEqual(z,!0)||m(z)&&g0(w,z,Y[X])){Y[X]=D6(w,z,Y[X]);continue}delete Y[X]}return Y}function gC(w,Q,Y){return J.HasPropertyKey(w,Q.$ref)?D6(w,w[Q.$ref],Y):Y}function fC(w,Q,Y){if(!J.IsArray(Y))return Y;let z=Math.min(Y.length,Q.items.length);for(let H=0;H<z;H++)Y[H]=D6(w,Q.items[H],Y[H]);return J.IsGreaterThan(Y.length,z)?Y.slice(0,z):Y}function Ch(w){return w}function Dh(w){let Q={};for(let Y of Object.getOwnPropertyNames(w))Q[Y]=f0(w[Y]);for(let Y of Object.getOwnPropertySymbols(w))Q[Y]=f0(w[Y]);return Q}Object.create({});function Vh(w){return J.IsClassInstance(w)?Ch(w):Dh(w)}function Gh(w){return w.map((Q)=>f0(Q))}function $h(w){return w.slice()}function Ph(w){return new Map(f0([...w.entries()]))}function Eh(w){return new Set(f0([...w.values()]))}function Sh(w){return w}function f0(w){return u6.IsTypeArray(w)?$h(w):u6.IsMap(w)?Ph(w):u6.IsSet(w)?Eh(w):J.IsArray(w)?Gh(w):J.IsObject(w)?Vh(w):Sh(w)}function xC(w,Q,Y){for(let z of Q.anyOf){let H=D6(w,z,f0(Y));if(g0(w,z,H))return H}return Y}function D6(w,Q,Y){return V0(Q)?SC(w,Q,Y):S9(Q)?bC(w,Q,Y):k0(Q)?IC(w,Q,Y):n(Q)?_C(w,Q,Y):e(Q)?jC(w,Q,Y):s0(Q)?kC(w,Q,Y):j0(Q)?gC(w,Q,Y):K0(Q)?fC(w,Q,Y):v(Q)?xC(w,Q,Y):Y}function ew(...w){let[Q,Y,z]=O0.Match(w,{3:(H,W,X)=>[H,W,X],2:(H,W)=>[{},H,W]});return D6(Q,Y,z)}function vC(w,Q,Y){return J.IsArray(Y)?Y.map((z)=>O6(w,Q.items,z)):Y}function yC(w,Q,Y){return Q.Convert(Y)}var S0={};y6(S0,{TryUndefined:()=>Vo,TryString:()=>Bo,TryNumber:()=>Uo,TryNull:()=>wo,TryBoolean:()=>dh,TryBigInt:()=>KJ,Ok:()=>c,IsOk:()=>FJ,Fail:()=>h0});function FJ(w){return J.IsObject(w)&&J.HasPropertyKey(w,"value")}function c(w){return{value:w}}function h0(){return}function bh(w){return c(w)}function Ih(w){return J.IsEqual(w,!0)?c(BigInt(1)):c(BigInt(0))}function _h(w){return c(BigInt(Math.trunc(w)))}function jh(w){return c(BigInt(0))}var kh=/^-?(0|[1-9]\d*)n$/,gh=/^-?(0|[1-9]\d*)\.\d+$/,fh=/^-?(0|[1-9]\d*)$/;function xh(w){return kh.test(w)}function vh(w){return gh.test(w)}function yh(w){return fh.test(w)}function mh(w){let Q=w.toLowerCase();return xh(w)?c(BigInt(w.slice(0,w.length-1))):vh(w)?c(BigInt(w.split(".")[0])):yh(w)?c(BigInt(w)):J.IsEqual(Q,"false")?c(BigInt(0)):J.IsEqual(Q,"true")?c(BigInt(1)):h0()}function hh(w){return c(BigInt(0))}function KJ(w){return J.IsBigInt(w)?bh(w):J.IsBoolean(w)?Ih(w):J.IsNumber(w)?_h(w):J.IsNull(w)?jh(w):J.IsString(w)?mh(w):J.IsUndefined(w)?hh(w):h0()}function oh(w){return J.IsEqual(w,BigInt(0))?c(!1):J.IsEqual(w,BigInt(1))?c(!0):h0()}function uh(w){return c(w)}function ph(w){return J.IsEqual(w,0)?c(!1):J.IsEqual(w,1)?c(!0):h0()}function lh(w){return c(!1)}function rh(w){return J.IsEqual(w.toLowerCase(),"false")?c(!1):J.IsEqual(w.toLowerCase(),"true")?c(!0):J.IsEqual(w,"0")?c(!1):J.IsEqual(w,"1")?c(!0):h0()}function ch(w){return c(!1)}function dh(w){return J.IsBigInt(w)?oh(w):J.IsBoolean(w)?uh(w):J.IsNumber(w)?ph(w):J.IsNull(w)?lh(w):J.IsString(w)?rh(w):J.IsUndefined(w)?ch(w):h0()}function ih(w){return J.IsEqual(w,BigInt(0))?c(null):h0()}function nh(w){return J.IsEqual(w,!1)?c(null):h0()}function sh(w){return J.IsEqual(w,0)?c(null):h0()}function ah(w){return c(null)}function th(w){let Q=w.toLowerCase();return J.IsEqual(Q,"undefined")||J.IsEqual(Q,"null")||J.IsEqual(w,"")||J.IsEqual(w,"0")?c(null):h0()}function eh(w){return c(null)}function wo(w){return J.IsBigInt(w)?ih(w):J.IsBoolean(w)?nh(w):J.IsNumber(w)?sh(w):J.IsNull(w)?ah(w):J.IsString(w)?th(w):J.IsUndefined(w)?eh(w):h0()}var Qo=BigInt(Number.MAX_SAFE_INTEGER),Yo=BigInt(Number.MIN_SAFE_INTEGER);function zo(w){return w<=Qo&&w>=Yo}function mC(w){return zo(w)?c(Number(w)):h0()}function Ho(w){return w?c(1):c(0)}function Wo(w){return c(w)}function Xo(w){return c(0)}function Jo(w){let Q=+w;if(J.IsNumber(Q))return c(Q);let Y=w.toLowerCase();if(J.IsEqual(Y,"false"))return c(0);if(J.IsEqual(Y,"true"))return c(1);let z=KJ(w);if(FJ(z))return mC(z.value);return h0()}function Lo(w){return c(0)}function Uo(w){return J.IsBigInt(w)?mC(w):J.IsBoolean(w)?Ho(w):J.IsNumber(w)?Wo(w):J.IsNull(w)?Xo(w):J.IsString(w)?Jo(w):J.IsUndefined(w)?Lo(w):h0()}function qo(w){return c(w.toString())}function Oo(w){return c(w.toString())}function Zo(w){return c(w.toString())}function No(w){return c("null")}function Fo(w){return c(w)}function Ko(w){return c("")}function Bo(w){return J.IsBigInt(w)?qo(w):J.IsBoolean(w)?Oo(w):J.IsNumber(w)?Zo(w):J.IsNull(w)?No(w):J.IsString(w)?Fo(w):J.IsUndefined(w)?Ko(w):h0()}function Ao(w){return J.IsEqual(w,BigInt(0))?c(void 0):h0()}function Mo(w){return J.IsEqual(w,!1)?c(void 0):h0()}function To(w){return J.IsEqual(w,0)?c(void 0):h0()}function Ro(w){return c(void 0)}function Co(w){let Q=w.toLowerCase();return J.IsEqual(Q,"undefined")||J.IsEqual(Q,"null")||J.IsEqual(w,"")||J.IsEqual(w,"0")?c(void 0):h0()}function Do(w){return c(void 0)}function Vo(w){return J.IsBigInt(w)?Ao(w):J.IsBoolean(w)?Mo(w):J.IsNumber(w)?To(w):J.IsNull(w)?Ro(w):J.IsString(w)?Co(w):J.IsUndefined(w)?Do(w):h0()}function hC(w,Q,Y){if(J.IsBigInt(Y))return Y;let z=S0.TryBigInt(Y);return S0.IsOk(z)?z.value:Y}function oC(w,Q,Y){if(J.IsBoolean(Y))return Y;let z=S0.TryBoolean(Y);return S0.IsOk(z)?z.value:Y}function uC(w,Q,Y){return O6({...w,...Q.$defs},W6(Q.$ref),Y)}function XH(w,Q,Y){if(Q.anyOf.some((X)=>g0(w,X,Y)))return Y;let W=Q.anyOf.map((X)=>O6(w,X,f0(Y))).find((X)=>g0(w,Q,X));return J.IsUndefined(W)?Y:W}function pC(w,Q,Y){let z=C4(Q);return XH(w,z,Y)}function lC(w,Q,Y){if(J.IsInteger(Y))return Y;let z=S0.TryNumber(Y);return S0.IsOk(z)?Math.trunc(z.value):Y}function rC(w,Q,Y){let z=s9(Q);return O6(w,z,Y)}function Go(w,Q,Y){let z=S0.TryBigInt(Y);return S0.IsOk(z)&&J.IsEqual(Q.const,z.value)?z.value:Y}function $o(w,Q,Y){let z=S0.TryBoolean(Y);return S0.IsOk(z)&&J.IsEqual(Q.const,z.value)?z.value:Y}function Po(w,Q,Y){let z=S0.TryNumber(Y);return S0.IsOk(z)&&J.IsEqual(Q.const,z.value)?z.value:Y}function Eo(w,Q,Y){let z=S0.TryString(Y);return S0.IsOk(z)&&J.IsEqual(Q.const,z.value)?z.value:Y}function cC(w,Q,Y){if(J.IsEqual(Q.const,Y))return Y;return $Z(Q)?Go(w,Q,Y):PZ(Q)?$o(w,Q,Y):GQ(Q)?Po(w,Q,Y):$Q(Q)?Eo(w,Q,Y):F0()}function dC(w,Q,Y){if(J.IsNull(Y))return Y;let z=S0.TryNull(Y);return S0.IsOk(z)?z.value:Y}function iC(w,Q,Y){if(J.IsNumber(Y))return Y;let z=S0.TryNumber(Y);return S0.IsOk(z)?z.value:Y}function JH(w,Q,Y,z){let H=J.Keys(z);for(let[W,X]of Q)for(let L of H)if(!W.test(L))z[L]=O6(w,Y,z[L]);return z}function o5(w,Q,Y){return N6(w)&&J.IsUndefined(Y[Q])}function So(w,Q,Y){let z=J.EntriesRegExp(Q.properties),H=J.Keys(Y);for(let[W,X]of z)for(let L of H){if(!W.test(L)||o5(X,L,Y))continue;Y[L]=O6(w,X,Y[L])}return J.HasPropertyKey(Q,"additionalProperties")&&J.IsObject(Q.additionalProperties)?JH(w,z,Q.additionalProperties,Y):Y}function nC(w,Q,Y){return J.IsObjectNotArray(Y)?So(w,Q,Y):Y}function bo(w,Q,Y){let z=J.EntriesRegExp(Q.patternProperties),H=J.Keys(Y);for(let[W,X]of z)for(let L of H)if(W.test(L))Y[L]=O6(w,X,Y[L]);return J.HasPropertyKey(Q,"additionalProperties")&&J.IsObject(Q.additionalProperties)?JH(w,z,Q.additionalProperties,Y):Y}function sC(w,Q,Y){return J.IsObjectNotArray(Y)?bo(w,Q,Y):Y}function aC(w,Q,Y){return J.HasPropertyKey(w,Q.$ref)?O6(w,w[Q.$ref],Y):Y}function tC(w,Q,Y){if(J.IsString(Y))return Y;let z=S0.TryString(Y);return S0.IsOk(z)?z.value:Y}function eC(w,Q,Y){let z=I6(Q.pattern);return O6(w,z,Y)}function wD(w,Q,Y){if(!J.IsArray(Y))return Y;for(let z=0;z<Math.min(Q.items.length,Y.length);z++)Y[z]=O6(w,Q.items[z],Y[z]);return Y}function QD(w,Q,Y){if(J.IsUndefined(Y))return Y;let z=S0.TryUndefined(Y);return S0.IsOk(z)?z.value:Y}function YD(w,Q,Y){if(J.IsUndefined(Y))return Y;let z=S0.TryUndefined(Y);return S0.IsOk(z)?void 0:Y}function O6(w,Q,Y){return V0(Q)?vC(w,Q,Y):S9(Q)?yC(w,Q,Y):A9(Q)?hC(w,Q,Y):c6(Q)?oC(w,Q,Y):k0(Q)?uC(w,Q,Y):J6(Q)?pC(w,Q,Y):T6(Q)?lC(w,Q,Y):n(Q)?rC(w,Q,Y):G0(Q)?cC(w,Q,Y):Bw(Q)?dC(w,Q,Y):t0(Q)?iC(w,Q,Y):e(Q)?nC(w,Q,Y):s0(Q)?sC(w,Q,Y):j0(Q)?aC(w,Q,Y):q6(Q)?tC(w,Q,Y):L6(Q)?eC(w,Q,Y):K0(Q)?wD(w,Q,Y):Rw(Q)?QD(w,Q,Y):v(Q)?XH(w,Q,Y):T9(Q)?YD(w,Q,Y):Y}function Pw(...w){let[Q,Y,z]=O0.Match(w,{3:(H,W,X)=>[H,W,X],2:(H,W)=>[{},H,W]});return O6(Q,Y,z)}function zD(w,Q,Y){if(!J.IsArray(Y))return Y;for(let z=0;z<Y.length;z++)Y[z]=A6(w,Q.items,Y[z]);return Y}function HD(w,Q,Y){return Q.Default(Y)}function WD(w,Q,Y){return A6({...w,...Q.$defs},W6(Q.$ref),Y)}function XD(w,Q){if(!J.IsUndefined(Q))return Q;return J.IsFunction(w.default)?w.default():f0(w.default)}function JD(w,Q,Y){let z=s9(Q);return A6(w,z,Y)}function LD(w,Q,Y){if(!J.IsObject(Y))return Y;let z=J.Keys(Q.properties);for(let H of z){let W=A6(w,Q.properties[H],Y[H]);if(J.IsUndefined(W)&&(N6(Q.properties[H])||!J.HasPropertyKey(Q.properties[H],"default")))continue;Y[H]=A6(w,Q.properties[H],Y[H])}if(!a9(Q)||J.IsBoolean(Q.additionalProperties))return Y;for(let H of J.Keys(Y)){if(z.includes(H))continue;Y[H]=A6(w,Q.additionalProperties,Y[H])}return Y}function UD(w,Q,Y){if(!J.IsObject(Y))return Y;let[z,H]=[new RegExp(M9(Q)),R6(Q)];for(let W of J.Keys(Y)){if(!(z.test(W)&&_9(H)))continue;Y[W]=A6(w,H,Y[W])}if(!a9(Q))return Y;for(let W of J.Keys(Y)){if(z.test(W))continue;Y[W]=A6(w,Q.additionalProperties,Y[W])}return Y}function qD(w,Q,Y){return J.HasPropertyKey(w,Q.$ref)?A6(w,w[Q.$ref],Y):Y}function OD(w,Q,Y){if(!J.IsArray(Y))return Y;let[z,H]=[Q.items,Math.max(Q.items.length,Y.length)];for(let W=0;W<H;W++)if(W<z.length)Y[W]=A6(w,z[W],Y[W]);return Y}function ZD(w,Q,Y){for(let z of Q.anyOf){let H=A6(w,z,f0(Y));if(g0(w,z,H))return H}return Y}function A6(w,Q,Y){let z=_9(Q)?XD(Q,Y):Y;return V0(Q)?zD(w,Q,z):S9(Q)?HD(w,Q,z):k0(Q)?WD(w,Q,z):n(Q)?JD(w,Q,z):e(Q)?LD(w,Q,z):s0(Q)?UD(w,Q,z):j0(Q)?qD(w,Q,z):K0(Q)?OD(w,Q,z):v(Q)?ZD(w,Q,z):z}function w8(...w){let[Q,Y,z]=O0.Match(w,{3:(H,W,X)=>[H,W,X],2:(H,W)=>[{},H,W]});return A6(Q,Y,z)}function iQ(w){return(...Q)=>{let[Y,z,H]=O0.Match(Q,{3:(W,X,L)=>[W,X,L],2:(W,X)=>[{},W,X]});return w.reduce((W,X)=>X(Y,z,W),H)}}function Io(w,Q,Y){return Q["~codec"].decode(Y)}function _o(w,Q,Y){return Q["~codec"].encode(Y)}function Q6(w,Q,Y,z){if(!r6(Y))return z;return J.IsEqual(w,"Decode")?Io(Q,Y,z):_o(Q,Y,z)}function jo(w,Q,Y,z){if(!J.IsArray(z))return F0();for(let H=0;H<z.length;H++)z[H]=c0(w,Q,Y.items,z[H]);return Q6(w,Q,Y,z)}function ko(w,Q,Y,z){let H=Q6(w,Q,Y,z);if(!J.IsArray(H))return H;for(let W=0;W<H.length;W++)H[W]=c0(w,Q,Y.items,H[W]);return H}function ND(w,Q,Y,z){return J.IsEqual(w,"Decode")?jo(w,Q,Y,z):ko(w,Q,Y,z)}function FD(w,Q,Y,z){return z=c0(w,{...Q,...Y.$defs},W6(Y.$ref),z),Q6(w,Q,Y,z)}function go(w,Q,Y,z){for(let H of Y.allOf)z=c0(w,Q,H,z);return Q6(w,Q,Y,z)}function fo(w,Q,Y,z){let H=Q6(w,Q,Y,z);for(let W of Y.allOf)H=c0(w,Q,W,H);return H}function KD(w,Q,Y,z){return J.IsEqual(w,"Decode")?go(w,Q,Y,z):fo(w,Q,Y,z)}function xo(w,Q,Y,z){if(!J.IsObjectNotArray(z))return F0();for(let H of J.Keys(Y.properties)){if(!J.HasPropertyKey(z,H)||o5(Y.properties[H],H,z))continue;z[H]=c0(w,Q,Y.properties[H],z[H])}return Q6(w,Q,Y,z)}function vo(w,Q,Y,z){let H=Q6(w,Q,Y,z);if(!J.IsObjectNotArray(H))return H;for(let W of J.Keys(Y.properties)){if(!J.HasPropertyKey(H,W)||o5(Y.properties[W],W,H))continue;H[W]=c0(w,Q,Y.properties[W],H[W])}return H}function BD(w,Q,Y,z){return J.IsEqual(w,"Decode")?xo(w,Q,Y,z):vo(w,Q,Y,z)}function yo(w,Q,Y,z){if(!J.IsObjectNotArray(z))return F0();let H=new RegExp(M9(Y));for(let W of J.Keys(z)){if(!H.test(W))F0();z[W]=c0(w,Q,R6(Y),z[W])}return Q6(w,Q,Y,z)}function mo(w,Q,Y,z){let H=Q6(w,Q,Y,z);if(!J.IsObjectNotArray(H))return H;let W=new RegExp(M9(Y));for(let X of J.Keys(H)){if(!W.test(X))continue;H[X]=c0(w,Q,R6(Y),H[X])}return H}function AD(w,Q,Y,z){return J.IsEqual(w,"Decode")?yo(w,Q,Y,z):mo(w,Q,Y,z)}function MD(w,Q,Y,z){return z=J.HasPropertyKey(Q,Y.$ref)?c0(w,Q,Q[Y.$ref],z):z,Q6(w,Q,Y,z)}function ho(w,Q,Y,z){if(!J.IsArray(z))return F0();for(let H=0;H<Math.min(Y.items.length,z.length);H++)z[H]=c0(w,Q,Y.items[H],z[H]);return Q6(w,Q,Y,z)}function oo(w,Q,Y,z){let H=Q6(w,Q,Y,z);if(!J.IsArray(H))return z;for(let W=0;W<Math.min(Y.items.length,H.length);W++)H[W]=c0(w,Q,Y.items[W],H[W]);return H}function TD(w,Q,Y,z){return J.IsEqual(w,"Decode")?ho(w,Q,Y,z):oo(w,Q,Y,z)}function uo(w,Q,Y,z){for(let H of Y.anyOf){if(!g0(Q,H,z))continue;let W=c0(w,Q,H,z);return Q6(w,Q,Y,W)}return F0()}function po(w,Q,Y,z){let H=Q6(w,Q,Y,z);for(let W of Y.anyOf){let X=c0(w,Q,W,f0(H));if(!g0(Q,W,X))continue;return X}return H}function RD(w,Q,Y,z){return J.IsEqual(w,"Decode")?uo(w,Q,Y,z):po(w,Q,Y,z)}function c0(w,Q,Y,z){return V0(Y)?ND(w,Q,Y,z):k0(Y)?FD(w,Q,Y,z):n(Y)?KD(w,Q,Y,z):e(Y)?BD(w,Q,Y,z):s0(Y)?AD(w,Q,Y,z):j0(Y)?MD(w,Q,Y,z):K0(Y)?TD(w,Q,Y,z):v(Y)?RD(w,Q,Y,z):Q6(w,Q,Y,z)}class CD extends f4{constructor(w,Q){super("Decode",w,Q)}}function lo(w,Q,Y){if(!g0(w,Q,Y))throw new CD(Y,$w(w,Q,Y));return Y}function ro(w,Q,Y){return c0("Decode",w,Q,Y)}var co=iQ([(w,Q,Y)=>f0(Y),(w,Q,Y)=>w8(w,Q,Y),(w,Q,Y)=>Pw(w,Q,Y),(w,Q,Y)=>ew(w,Q,Y),(w,Q,Y)=>lo(w,Q,Y),(w,Q,Y)=>ro(w,Q,Y)]);function BJ(...w){let[Q,Y,z]=O0.Match(w,{3:(H,W,X)=>[H,W,X],2:(H,W)=>[{},H,W]});return co(Q,Y,z)}class DD extends f4{constructor(w,Q){super("Encode",w,Q)}}function io(w,Q,Y){if(!g0(w,Q,Y))throw new DD(Y,$w(w,Q,Y));return Y}function no(w,Q,Y){return c0("Encode",w,Q,Y)}var so=iQ([(w,Q,Y)=>f0(Y),(w,Q,Y)=>no(w,Q,Y),(w,Q,Y)=>w8(w,Q,Y),(w,Q,Y)=>Pw(w,Q,Y),(w,Q,Y)=>ew(w,Q,Y),(w,Q,Y)=>io(w,Q,Y)]);function AJ(...w){let[Q,Y,z]=O0.Match(w,{3:(H,W,X)=>[H,W,X],2:(H,W)=>[{},H,W]});return so(Q,Y,z)}function ao(w,Q){return r6(Q)||l8(w,Q.items)}function to(w,Q){return r6(Q)||VD({...w,...Q.$defs},W6(Q.$ref))}function eo(w,Q){return r6(Q)||Q.allOf.some((Y)=>l8(w,Y))}function wu(w,Q){return r6(Q)||J.Keys(Q.properties).some((Y)=>{return l8(w,Q.properties[Y])})}function Qu(w,Q){return r6(Q)||l8(w,R6(Q))}function VD(w,Q){if(MJ.has(Q.$ref))return!1;return MJ.add(Q.$ref),r6(Q)||J.HasPropertyKey(w,Q.$ref)&&l8(w,w[Q.$ref])}function Yu(w,Q){return r6(Q)||Q.items.some((Y)=>l8(w,Y))}function zu(w,Q){return r6(Q)||Q.anyOf.some((Y)=>l8(w,Y))}function l8(w,Q){return V0(Q)?ao(w,Q):k0(Q)?to(w,Q):n(Q)?eo(w,Q):e(Q)?wu(w,Q):s0(Q)?Qu(w,Q):j0(Q)?VD(w,Q):K0(Q)?Yu(w,Q):v(Q)?zu(w,Q):r6(Q)}var MJ=new Set;function TJ(...w){let[Q,Y]=O0.Match(w,{2:(z,H)=>[z,H],1:(z)=>[{},z]});return MJ.clear(),l8(Q,Y)}class Qw extends Error{constructor(w,Q){super(Q);this.type=w}}function GD(w,Q){return J.IsFunction(Q.default)?Q.default(Q):J.IsObject(Q.default)?f0(Q.default):Q.default}function $D(w,Q){if(o8(Q)&&!_9(Q))throw new Qw(Q,"Arrays with uniqueItems constraints must specify a default annotation");let Y=y8(Q)?Q.minItems:0;return Array.from({length:Y},()=>d0(w,Q.items))}async function*Hu(){}function PD(w,Q){return Hu()}function ED(w,Q){return Q.Create()}function SD(w,Q){return t9(Q)?BigInt(Q.exclusiveMinimum)+BigInt(1):e9(Q)?BigInt(Q.minimum):BigInt(0)}function bD(w,Q){return!1}function ID(w,Q){let Y=d0(w,Q.instanceType);return class{constructor(){Object.assign(this,Y)}}}function _D(w,Q){return d0({...w,...Q.$defs},W6(Q.$ref))}function jD(w,Q){return d0(w,C4(Q))}function kD(w,Q){let Y=d0(w,Q.returnType);return()=>Y}function gD(w,Q){return t9(Q)&&J.IsNumber(Q.exclusiveMinimum)?Q.exclusiveMinimum+1:e9(Q)?Q.minimum:0}function fD(w,Q){return d0(w,s9(Q))}function*Wu(){}function xD(w,Q){return Wu()}function vD(w,Q){return Q.const}function yD(w,Q){throw new Qw(Q,"Cannot create TNever types")}function mD(w,Q){return null}function hD(w,Q){return t9(Q)&&J.IsNumber(Q.exclusiveMinimum)?Q.exclusiveMinimum+1:e9(Q)?Q.minimum:0}function oD(w,Q){return(J.IsUndefined(Q.required)?[]:Q.required).reduce((z,H)=>{return{...z,[H]:d0(w,Q.properties[H])}},{})}function uD(w,Q){return Promise.resolve(d0(w,Q.item))}function pD(w,Q){if(P4(Q)&&!_9(Q))throw new Qw(Q,"Record with the minProperties constraint must have a default annotation");return{}}function lD(w,Q){return J.HasPropertyKey(w,Q.$ref)?d0(w,w[Q.$ref]):(()=>{throw new Qw(Q,"Unable to deref Ref")})()}function rD(w,Q){if((E4(Q)||V4(Q))&&!_9(Q))throw Error("Strings with format or pattern constraints must specify default");let z=$4(Q)?Q.minLength:0;return"".padEnd(z)}function cD(w,Q){return Symbol()}function dD(w,Q){let Y=I6(Q.pattern);if(q6(Y))throw new Qw(Q,"Unable to create TemplateLiteral due to infinite type expansion");return d0(w,Y)}function iD(w,Q){return Array.from({length:Q.minItems},(Y,z)=>d0(w,Q.items[z]))}function nD(w,Q){return}function sD(w,Q){if(J.IsEqual(Q.anyOf.length,0))throw Error("Unable to create Union with no variants");return d0(w,Q.anyOf[0])}function aD(w,Q){return}function d0(w,Q){return _9(Q)?GD(w,Q):V0(Q)?$D(w,Q):g6(Q)?PD(w,Q):S9(Q)?ED(w,Q):A9(Q)?SD(w,Q):c6(Q)?bD(w,Q):F6(Q)?ID(w,Q):k0(Q)?_D(w,Q):J6(Q)?jD(w,Q):K6(Q)?kD(w,Q):T6(Q)?gD(w,Q):n(Q)?fD(w,Q):f6(Q)?xD(w,Q):G0(Q)?vD(w,Q):cw(Q)?yD(w,Q):Bw(Q)?mD(w,Q):t0(Q)?hD(w,Q):e(Q)?oD(w,Q):b6(Q)?uD(w,Q):s0(Q)?pD(w,Q):j0(Q)?lD(w,Q):q6(Q)?rD(w,Q):Aw(Q)?cD(w,Q):L6(Q)?dD(w,Q):K0(Q)?iD(w,Q):Rw(Q)?nD(w,Q):v(Q)?sD(w,Q):T9(Q)?aD(w,Q):void 0}function Ew(...w){let[Q,Y]=O0.Match(w,{2:(z,H)=>[z,H],1:(z)=>[{},z]});return d0(Q,Y)}class eD extends f4{constructor(w,Q){super("Parse",w,Q)}}function Xu(w,Q,Y){if(!g0(w,Q,Y))throw new eD(Y,$w(w,Q,Y));return Y}var wV=iQ([(w,Q,Y)=>f0(Y),(w,Q,Y)=>w8(w,Q,Y),(w,Q,Y)=>Pw(w,Q,Y),(w,Q,Y)=>ew(w,Q,Y),(w,Q,Y)=>Xu(w,Q,Y)]);var Lu=t({type:A0("insert"),path:Q9(),value:E6()}),Uu=Object({type:A0("update"),path:Q9(),value:E6()}),qu=t({type:A0("delete"),path:Q9()}),ku0=U0([Lu,Uu,qu]);class u5 extends oY{constructor(...w){super();let Q=O0.Match(w,{6:(Y,z,H,W,X,L)=>[Y,z,H,W,X,L],2:(Y,z)=>[Y,z]});if(Q.length===6){let[Y,z,H,W,X,L]=Q;this.context=Y,this.type=z,this.isEvaluated=H,this.hasCodec=W,this.code=X,this.check=L}else{let[Y,z]=Q,H=NJ(Y,z).Evaluate();this.hasCodec=TJ(Y,z),this.context=Y,this.type=z,this.isEvaluated=H.IsEvaluated,this.code=H.Code,this.check=H.Check}}IsEvaluated(){return this.isEvaluated}Context(){return this.context}Type(){return this.type}Code(){return this.code}Check(w){return this.check(w)}Errors(w){if(B4.CanEvaluate()&&this.check(w))return[];return $w(this.context,this.type,w)}Clean(w){return ew(this.context,this.type,w)}Convert(w){return Pw(this.context,this.type,w)}Create(){return Ew(this.context,this.type)}Default(w){return w8(this.context,this.type,w)}Clone(){return new u5(this.context,this.type,this.isEvaluated,this.hasCodec,this.code,this.check)}Parse(w){return this.Check(w)?w:wV(this.context,this.type,w)}Decode(w){return this.hasCodec?BJ(this.context,this.type,w):this.Parse(w)}Encode(w){return this.hasCodec?AJ(this.context,this.type,w):this.Parse(w)}}function CJ(...w){let[Q,Y]=O0.Match(w,{2:(z,H)=>[z,H],1:(z)=>[{},z]});return new u5(Q,Y)}var DJ;function YV(w){return{lang:w?.lang??DJ?.lang,message:w?.message,abortEarly:w?.abortEarly??DJ?.abortEarly,abortPipeEarly:w?.abortPipeEarly??DJ?.abortPipeEarly}}var Fu;function Ku(w){return Fu?.get(w)}var Bu;function Au(w){return Bu?.get(w)}var Mu;function Tu(w,Q){return Mu?.get(w)?.get(Q)}function zV(w){let Q=typeof w;if(Q==="string")return`"${w}"`;if(Q==="number"||Q==="bigint"||Q==="boolean")return`${w}`;if(Q==="object"||Q==="function")return(w&&Object.getPrototypeOf(w)?.constructor?.name)??"null";return Q}function x4(w,Q,Y,z,H){let W=H&&"input"in H?H.input:Y.value,X=H?.expected??w.expects??null,L=H?.received??zV(W),U={kind:w.kind,type:w.type,input:W,expected:X,received:L,message:`Invalid ${Q}: ${X?`Expected ${X} but r`:"R"}eceived ${L}`,requirement:w.requirement,path:H?.path,issues:H?.issues,lang:z.lang,abortEarly:z.abortEarly,abortPipeEarly:z.abortPipeEarly},q=w.kind==="schema",Z=H?.message??w.message??Tu(w.reference,U.lang)??(q?Au(U.lang):null)??z.message??Ku(U.lang);if(Z!==void 0)U.message=typeof Z==="function"?Z(U):Z;if(q)Y.typed=!1;if(Y.issues)Y.issues.push(U);else Y.issues=[U]}function v4(w){return{version:1,vendor:"valibot",validate(Q){return w["~run"]({value:Q},YV())}}}function Ru(w,Q){let Y=[...new Set(w)];if(Y.length>1)return`(${Y.join(` ${Q} `)})`;return Y[0]??"never"}function Cu(w,Q,Y){return typeof w.fallback==="function"?w.fallback(Q,Y):w.fallback}function HV(w,Q,Y){return typeof w.default==="function"?w.default(Q,Y):w.default}function VJ(w,Q){return{kind:"schema",type:"array",reference:VJ,expects:"Array",async:!1,item:w,message:Q,get "~standard"(){return v4(this)},"~run"(Y,z){let H=Y.value;if(Array.isArray(H)){Y.typed=!0,Y.value=[];for(let W=0;W<H.length;W++){let X=H[W],L=this.item["~run"]({value:X},z);if(L.issues){let U={type:"array",origin:"value",input:H,key:W,value:X};for(let q of L.issues){if(q.path)q.path.unshift(U);else q.path=[U];Y.issues?.push(q)}if(!Y.issues)Y.issues=L.issues;if(z.abortEarly){Y.typed=!1;break}}if(!L.typed)Y.typed=!1;Y.value.push(L.value)}}else x4(this,"type",Y,z);return Y}}}function H9(w){return{kind:"schema",type:"boolean",reference:H9,expects:"boolean",async:!1,message:w,get "~standard"(){return v4(this)},"~run"(Q,Y){if(typeof Q.value==="boolean")Q.typed=!0;else x4(this,"type",Q,Y);return Q}}}function LH(w){return{kind:"schema",type:"number",reference:LH,expects:"number",async:!1,message:w,get "~standard"(){return v4(this)},"~run"(Q,Y){if(typeof Q.value==="number"&&!isNaN(Q.value))Q.typed=!0;else x4(this,"type",Q,Y);return Q}}}function UH(w,Q){return{kind:"schema",type:"object",reference:UH,expects:"Object",async:!1,entries:w,message:Q,get "~standard"(){return v4(this)},"~run"(Y,z){let H=Y.value;if(H&&typeof H==="object"){Y.typed=!0,Y.value={};for(let W in this.entries){let X=this.entries[W];if(W in H||(X.type==="exact_optional"||X.type==="optional"||X.type==="nullish")&&X.default!==void 0){let L=W in H?H[W]:HV(X),U=X["~run"]({value:L},z);if(U.issues){let q={type:"object",origin:"value",input:H,key:W,value:L};for(let Z of U.issues){if(Z.path)Z.path.unshift(q);else Z.path=[q];Y.issues?.push(Z)}if(!Y.issues)Y.issues=U.issues;if(z.abortEarly){Y.typed=!1;break}}if(!U.typed)Y.typed=!1;Y.value[W]=U.value}else if(X.fallback!==void 0)Y.value[W]=Cu(X);else if(X.type!=="exact_optional"&&X.type!=="optional"&&X.type!=="nullish"){if(x4(this,"key",Y,z,{input:void 0,expected:`"${W}"`,path:[{type:"object",origin:"key",input:H,key:W,value:H[W]}]}),z.abortEarly)break}}}else x4(this,"type",Y,z);return Y}}}function x0(w,Q){return{kind:"schema",type:"optional",reference:x0,expects:`(${w.expects} | undefined)`,async:!1,wrapped:w,default:Q,get "~standard"(){return v4(this)},"~run"(Y,z){if(Y.value===void 0){if(this.default!==void 0)Y.value=HV(this,Y,z);if(Y.value===void 0)return Y.typed=!0,Y}return this.wrapped["~run"](Y,z)}}}function Sw(w,Q){return{kind:"schema",type:"picklist",reference:Sw,expects:Ru(w.map(zV),"|"),async:!1,options:w,message:Q,get "~standard"(){return v4(this)},"~run"(Y,z){if(this.options.includes(Y.value))Y.typed=!0;else x4(this,"type",Y,z);return Y}}}function qH(w){return{kind:"schema",type:"string",reference:qH,expects:"string",async:!1,message:w,get "~standard"(){return v4(this)},"~run"(Q,Y){if(typeof Q.value==="string")Q.typed=!0;else x4(this,"type",Q,Y);return Q}}}function WV(w,Q,Y){let z=w["~run"]({value:Q},YV(Y));return{typed:z.typed,success:!z.issues,output:z.value,issues:z.issues}}var h9=t8(OV(),1),p5=t8(FV(),1),CV=t8(BV(),1),hu=Object.prototype.toString,ou=Error.prototype.toString,uu=RegExp.prototype.toString,pu=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",lu=/^Symbol\((.*)\)(.*)$/;function ru(w){if(w!=+w)return"NaN";return w===0&&1/w<0?"-0":""+w}function AV(w,Q=!1){if(w==null||w===!0||w===!1)return""+w;let Y=typeof w;if(Y==="number")return ru(w);if(Y==="string")return Q?`"${w}"`:w;if(Y==="function")return"[Function "+(w.name||"anonymous")+"]";if(Y==="symbol")return pu.call(w).replace(lu,"Symbol($1)");let z=hu.call(w).slice(8,-1);if(z==="Date")return isNaN(w.getTime())?""+w:w.toISOString(w);if(z==="Error"||w instanceof Error)return"["+ou.call(w)+"]";if(z==="RegExp")return uu.call(w);return null}function z8(w,Q){let Y=AV(w,Q);if(Y!==null)return Y;return JSON.stringify(w,function(z,H){let W=AV(this[z],Q);if(W!==null)return W;return H},2)}function DV(w){return w==null?[]:[].concat(w)}var VV,GV,$V,cu=/\$\{\s*(\w+)\s*\}/g;VV=Symbol.toStringTag;class IJ{constructor(w,Q,Y,z){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[VV]="Error",this.name="ValidationError",this.value=Q,this.path=Y,this.type=z,this.errors=[],this.inner=[],DV(w).forEach((H)=>{if(W9.isError(H)){this.errors.push(...H.errors);let W=H.inner.length?H.inner:[H];this.inner.push(...W)}else this.errors.push(H)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}GV=Symbol.hasInstance;$V=Symbol.toStringTag;class W9 extends Error{static formatError(w,Q){let Y=Q.label||Q.path||"this";if(Q=Object.assign({},Q,{path:Y,originalPath:Q.path}),typeof w==="string")return w.replace(cu,(z,H)=>z8(Q[H]));if(typeof w==="function")return w(Q);return w}static isError(w){return w&&w.name==="ValidationError"}constructor(w,Q,Y,z,H){let W=new IJ(w,Q,Y,z);if(H)return W;super();if(this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[$V]="Error",this.name=W.name,this.message=W.message,this.type=W.type,this.value=W.value,this.path=W.path,this.errors=W.errors,this.inner=W.inner,Error.captureStackTrace)Error.captureStackTrace(this,W9)}static[GV](w){return IJ[Symbol.hasInstance](w)||super[Symbol.hasInstance](w)}}var bw={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:w,type:Q,value:Y,originalValue:z})=>{let H=z!=null&&z!==Y?` (cast from the value \`${z8(z,!0)}\`).`:".";return Q!=="mixed"?`${w} must be a \`${Q}\` type, but the final value was: \`${z8(Y,!0)}\``+H:`${w} must match the configured type. The validated value was: \`${z8(Y,!0)}\``+H}},V9={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},r8={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},_J={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},jJ={isValue:"${path} field must be ${value}"},FH={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},KH={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},PV={notType:(w)=>{let{path:Q,value:Y,spec:z}=w,H=z.types.length;if(Array.isArray(Y)){if(Y.length<H)return`${Q} tuple value has too few items, expected a length of ${H} but got ${Y.length} for value: \`${z8(Y,!0)}\``;if(Y.length>H)return`${Q} tuple value has too many items, expected a length of ${H} but got ${Y.length} for value: \`${z8(Y,!0)}\``}return W9.formatError(bw.notType,w)}},Er0=Object.assign(Object.create(null),{mixed:bw,string:V9,number:r8,date:_J,object:FH,array:KH,boolean:jJ,tuple:PV}),TH=(w)=>w&&w.__isYupSchema__;class AH{static fromOptions(w,Q){if(!Q.then&&!Q.otherwise)throw TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:Y,then:z,otherwise:H}=Q,W=typeof Y==="function"?Y:(...X)=>X.every((L)=>L===Y);return new AH(w,(X,L)=>{var U;let q=W(...X)?z:H;return(U=q==null?void 0:q(L))!=null?U:L})}constructor(w,Q){this.fn=void 0,this.refs=w,this.refs=w,this.fn=Q}resolve(w,Q){let Y=this.refs.map((H)=>H.getValue(Q==null?void 0:Q.value,Q==null?void 0:Q.parent,Q==null?void 0:Q.context)),z=this.fn(Y,w,Q);if(z===void 0||z===w)return w;if(!TH(z))throw TypeError("conditions must return a schema object");return z.resolve(Q)}}var NH={context:"$",value:"."};class c8{constructor(w,Q={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof w!=="string")throw TypeError("ref must be a string, got: "+w);if(this.key=w.trim(),w==="")throw TypeError("ref must be a non-empty string");this.isContext=this.key[0]===NH.context,this.isValue=this.key[0]===NH.value,this.isSibling=!this.isContext&&!this.isValue;let Y=this.isContext?NH.context:this.isValue?NH.value:"";this.path=this.key.slice(Y.length),this.getter=this.path&&h9.getter(this.path,!0),this.map=Q.map}getValue(w,Q,Y){let z=this.isContext?Y:this.isValue?w:Q;if(this.getter)z=this.getter(z||{});if(this.map)z=this.map(z);return z}cast(w,Q){return this.getValue(w,Q==null?void 0:Q.parent,Q==null?void 0:Q.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(w){return w&&w.__isYupRef}}c8.prototype.__isYupRef=!0;var Yw=(w)=>w==null;function nQ(w){function Q({value:Y,path:z="",options:H,originalValue:W,schema:X},L,U){let{name:q,test:Z,params:K,message:B,skipAbsent:A}=w,{parent:M,context:T,abortEarly:$=X.spec.abortEarly,disableStackTrace:G=X.spec.disableStackTrace}=H,E={value:Y,parent:M,context:T};function R(a={}){let C0=EV(Object.assign({value:Y,originalValue:W,label:X.spec.label,path:a.path||z,spec:X.spec,disableStackTrace:a.disableStackTrace||G},K,a.params),E),M0=new W9(W9.formatError(a.message||B,C0),Y,C0.path,a.type||q,C0.disableStackTrace);return M0.params=C0,M0}let j=$?L:U,b={path:z,parent:M,type:q,from:H.from,createError:R,resolve(a){return SV(a,E)},options:H,originalValue:W,schema:X},I=(a)=>{if(W9.isError(a))j(a);else if(!a)j(R());else U(null)},_=(a)=>{if(W9.isError(a))j(a);else L(a)};if(A&&Yw(Y))return I(!0);let h;try{var q0;if(h=Z.call(b,Y,b),typeof((q0=h)==null?void 0:q0.then)==="function"){if(H.sync)throw Error(`Validation test of type: "${b.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(h).then(I,_)}}catch(a){_(a);return}I(h)}return Q.OPTIONS=w,Q}function EV(w,Q){if(!w)return w;for(let Y of Object.keys(w))w[Y]=SV(w[Y],Q);return w}function SV(w,Q){return c8.isRef(w)?w.getValue(Q.value,Q.parent,Q.context):w}function du(w,Q,Y,z=Y){let H,W,X;if(!Q)return{parent:H,parentPath:Q,schema:w};return h9.forEach(Q,(L,U,q)=>{let Z=U?L.slice(1,L.length-1):L;w=w.resolve({context:z,parent:H,value:Y});let K=w.type==="tuple",B=q?parseInt(Z,10):0;if(w.innerType||K){if(K&&!q)throw Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${X}" must contain an index to the tuple element, e.g. "${X}[0]"`);if(Y&&B>=Y.length)throw Error(`Yup.reach cannot resolve an array item at index: ${L}, in the path: ${Q}. because there is no value at that index. `);H=Y,Y=Y&&Y[B],w=K?w.spec.types[B]:w.innerType}if(!q){if(!w.fields||!w.fields[Z])throw Error(`The schema does not contain the path: ${Q}. (failed at: ${X} which is a type: "${w.type}")`);H=Y,Y=Y&&Y[Z],w=w.fields[Z]}W=Z,X=U?"["+L+"]":"."+L}),{schema:w,parent:H,parentPath:W}}class MH extends Set{describe(){let w=[];for(let Q of this.values())w.push(c8.isRef(Q)?Q.describe():Q);return w}resolveAll(w){let Q=[];for(let Y of this.values())Q.push(w(Y));return Q}clone(){return new MH(this.values())}merge(w,Q){let Y=this.clone();return w.forEach((z)=>Y.add(z)),Q.forEach((z)=>Y.delete(z)),Y}}function sQ(w,Q=new Map){if(TH(w)||!w||typeof w!=="object")return w;if(Q.has(w))return Q.get(w);let Y;if(w instanceof Date)Y=new Date(w.getTime()),Q.set(w,Y);else if(w instanceof RegExp)Y=new RegExp(w),Q.set(w,Y);else if(Array.isArray(w)){Y=Array(w.length),Q.set(w,Y);for(let z=0;z<w.length;z++)Y[z]=sQ(w[z],Q)}else if(w instanceof Map){Y=new Map,Q.set(w,Y);for(let[z,H]of w.entries())Y.set(z,sQ(H,Q))}else if(w instanceof Set){Y=new Set,Q.set(w,Y);for(let z of w)Y.add(sQ(z,Q))}else if(w instanceof Object){Y={},Q.set(w,Y);for(let[z,H]of Object.entries(w))Y[z]=sQ(H,Q)}else throw Error(`Unable to clone ${w}`);return Y}function iu(w){if(!(w!=null&&w.length))return;let Q=[],Y="",z=!1,H=!1;for(let W=0;W<w.length;W++){let X=w[W];if(X==="["&&!H){if(Y)Q.push(...Y.split(".").filter(Boolean)),Y="";z=!0;continue}if(X==="]"&&!H){if(Y){if(/^\d+$/.test(Y))Q.push(Y);else Q.push(Y.replace(/^"|"$/g,""));Y=""}z=!1;continue}if(X==='"'){H=!H;continue}if(X==="."&&!z&&!H){if(Y)Q.push(Y),Y="";continue}Y+=X}if(Y)Q.push(...Y.split(".").filter(Boolean));return Q}function nu(w,Q){let Y=Q?`${Q}.${w.path}`:w.path;return w.errors.map((z)=>({message:z,path:iu(Y)}))}function bV(w,Q){var Y;if(!((Y=w.inner)!=null&&Y.length)&&w.errors.length)return nu(w,Q);let z=Q?`${Q}.${w.path}`:w.path;return w.inner.flatMap((H)=>bV(H,z))}class n6{constructor(w){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new MH,this._blacklist=new MH,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(bw.notType)}),this.type=w.type,this._typeCheck=w.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},w==null?void 0:w.spec),this.withMutation((Q)=>{Q.nonNullable()})}get _type(){return this.type}clone(w){if(this._mutate){if(w)Object.assign(this.spec,w);return this}let Q=Object.create(Object.getPrototypeOf(this));return Q.type=this.type,Q._typeCheck=this._typeCheck,Q._whitelist=this._whitelist.clone(),Q._blacklist=this._blacklist.clone(),Q.internalTests=Object.assign({},this.internalTests),Q.exclusiveTests=Object.assign({},this.exclusiveTests),Q.deps=[...this.deps],Q.conditions=[...this.conditions],Q.tests=[...this.tests],Q.transforms=[...this.transforms],Q.spec=sQ(Object.assign({},this.spec,w)),Q}label(w){let Q=this.clone();return Q.spec.label=w,Q}meta(...w){if(w.length===0)return this.spec.meta;let Q=this.clone();return Q.spec.meta=Object.assign(Q.spec.meta||{},w[0]),Q}withMutation(w){let Q=this._mutate;this._mutate=!0;let Y=w(this);return this._mutate=Q,Y}concat(w){if(!w||w===this)return this;if(w.type!==this.type&&this.type!=="mixed")throw TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${w.type}`);let Q=this,Y=w.clone(),z=Object.assign({},Q.spec,Y.spec);return Y.spec=z,Y.internalTests=Object.assign({},Q.internalTests,Y.internalTests),Y._whitelist=Q._whitelist.merge(w._whitelist,w._blacklist),Y._blacklist=Q._blacklist.merge(w._blacklist,w._whitelist),Y.tests=Q.tests,Y.exclusiveTests=Q.exclusiveTests,Y.withMutation((H)=>{w.tests.forEach((W)=>{H.test(W.OPTIONS)})}),Y.transforms=[...Q.transforms,...Y.transforms],Y}isType(w){if(w==null){if(this.spec.nullable&&w===null)return!0;if(this.spec.optional&&w===void 0)return!0;return!1}return this._typeCheck(w)}resolve(w){let Q=this;if(Q.conditions.length){let Y=Q.conditions;Q=Q.clone(),Q.conditions=[],Q=Y.reduce((z,H)=>H.resolve(z,w),Q),Q=Q.resolve(w)}return Q}resolveOptions(w){var Q,Y,z,H;return Object.assign({},w,{from:w.from||[],strict:(Q=w.strict)!=null?Q:this.spec.strict,abortEarly:(Y=w.abortEarly)!=null?Y:this.spec.abortEarly,recursive:(z=w.recursive)!=null?z:this.spec.recursive,disableStackTrace:(H=w.disableStackTrace)!=null?H:this.spec.disableStackTrace})}cast(w,Q={}){let Y=this.resolve(Object.assign({},Q,{value:w})),z=Q.assert==="ignore-optionality",H=Y._cast(w,Q);if(Q.assert!==!1&&!Y.isType(H)){if(z&&Yw(H))return H;let W=z8(w),X=z8(H);throw TypeError(`The value of ${Q.path||"field"} could not be cast to a value that satisfies the schema type: "${Y.type}". 

attempted value: ${W} 
`+(X!==W?`result of cast: ${X}`:""))}return H}_cast(w,Q){let Y=w===void 0?w:this.transforms.reduce((z,H)=>H.call(this,z,w,this,Q),w);if(Y===void 0)Y=this.getDefault(Q);return Y}_validate(w,Q={},Y,z){let{path:H,originalValue:W=w,strict:X=this.spec.strict}=Q,L=w;if(!X)L=this._cast(L,Object.assign({assert:!1},Q));let U=[];for(let q of Object.values(this.internalTests))if(q)U.push(q);this.runTests({path:H,value:L,originalValue:W,options:Q,tests:U},Y,(q)=>{if(q.length)return z(q,L);this.runTests({path:H,value:L,originalValue:W,options:Q,tests:this.tests},Y,z)})}runTests(w,Q,Y){let z=!1,{tests:H,value:W,originalValue:X,path:L,options:U}=w,q=(M)=>{if(z)return;z=!0,Q(M,W)},Z=(M)=>{if(z)return;z=!0,Y(M,W)},K=H.length,B=[];if(!K)return Z([]);let A={value:W,originalValue:X,path:L,options:U,schema:this};for(let M=0;M<H.length;M++){let T=H[M];T(A,q,function(G){if(G)Array.isArray(G)?B.push(...G):B.push(G);if(--K<=0)Z(B)})}}asNestedTest({key:w,index:Q,parent:Y,parentPath:z,originalParent:H,options:W}){let X=w!=null?w:Q;if(X==null)throw TypeError("Must include `key` or `index` for nested validations");let L=typeof X==="number",U=Y[X],q=Object.assign({},W,{strict:!0,parent:Y,value:U,originalValue:H[X],key:void 0,[L?"index":"key"]:X,path:L||X.includes(".")?`${z||""}[${L?X:`"${X}"`}]`:(z?`${z}.`:"")+w});return(Z,K,B)=>this.resolve(q)._validate(U,q,K,B)}validate(w,Q){var Y;let z=this.resolve(Object.assign({},Q,{value:w})),H=(Y=Q==null?void 0:Q.disableStackTrace)!=null?Y:z.spec.disableStackTrace;return new Promise((W,X)=>z._validate(w,Q,(L,U)=>{if(W9.isError(L))L.value=U;X(L)},(L,U)=>{if(L.length)X(new W9(L,U,void 0,void 0,H));else W(U)}))}validateSync(w,Q){var Y;let z=this.resolve(Object.assign({},Q,{value:w})),H,W=(Y=Q==null?void 0:Q.disableStackTrace)!=null?Y:z.spec.disableStackTrace;return z._validate(w,Object.assign({},Q,{sync:!0}),(X,L)=>{if(W9.isError(X))X.value=L;throw X},(X,L)=>{if(X.length)throw new W9(X,w,void 0,void 0,W);H=L}),H}isValid(w,Q){return this.validate(w,Q).then(()=>!0,(Y)=>{if(W9.isError(Y))return!1;throw Y})}isValidSync(w,Q){try{return this.validateSync(w,Q),!0}catch(Y){if(W9.isError(Y))return!1;throw Y}}_getDefault(w){let Q=this.spec.default;if(Q==null)return Q;return typeof Q==="function"?Q.call(this,w):sQ(Q)}getDefault(w){return this.resolve(w||{})._getDefault(w)}default(w){if(arguments.length===0)return this._getDefault();return this.clone({default:w})}strict(w=!0){return this.clone({strict:w})}nullability(w,Q){let Y=this.clone({nullable:w});return Y.internalTests.nullable=nQ({message:Q,name:"nullable",test(z){return z===null?this.schema.spec.nullable:!0}}),Y}optionality(w,Q){let Y=this.clone({optional:w});return Y.internalTests.optionality=nQ({message:Q,name:"optionality",test(z){return z===void 0?this.schema.spec.optional:!0}}),Y}optional(){return this.optionality(!0)}defined(w=bw.defined){return this.optionality(!1,w)}nullable(){return this.nullability(!0)}nonNullable(w=bw.notNull){return this.nullability(!1,w)}required(w=bw.required){return this.clone().withMutation((Q)=>Q.nonNullable(w).defined(w))}notRequired(){return this.clone().withMutation((w)=>w.nullable().optional())}transform(w){let Q=this.clone();return Q.transforms.push(w),Q}test(...w){let Q;if(w.length===1)if(typeof w[0]==="function")Q={test:w[0]};else Q=w[0];else if(w.length===2)Q={name:w[0],test:w[1]};else Q={name:w[0],message:w[1],test:w[2]};if(Q.message===void 0)Q.message=bw.default;if(typeof Q.test!=="function")throw TypeError("`test` is a required parameters");let Y=this.clone(),z=nQ(Q),H=Q.exclusive||Q.name&&Y.exclusiveTests[Q.name]===!0;if(Q.exclusive){if(!Q.name)throw TypeError("Exclusive tests must provide a unique `name` identifying the test")}if(Q.name)Y.exclusiveTests[Q.name]=!!Q.exclusive;return Y.tests=Y.tests.filter((W)=>{if(W.OPTIONS.name===Q.name){if(H)return!1;if(W.OPTIONS.test===z.OPTIONS.test)return!1}return!0}),Y.tests.push(z),Y}when(w,Q){if(!Array.isArray(w)&&typeof w!=="string")Q=w,w=".";let Y=this.clone(),z=DV(w).map((H)=>new c8(H));return z.forEach((H)=>{if(H.isSibling)Y.deps.push(H.key)}),Y.conditions.push(typeof Q==="function"?new AH(z,Q):AH.fromOptions(z,Q)),Y}typeError(w){let Q=this.clone();return Q.internalTests.typeError=nQ({message:w,name:"typeError",skipAbsent:!0,test(Y){if(!this.schema._typeCheck(Y))return this.createError({params:{type:this.schema.type}});return!0}}),Q}oneOf(w,Q=bw.oneOf){let Y=this.clone();return w.forEach((z)=>{Y._whitelist.add(z),Y._blacklist.delete(z)}),Y.internalTests.whiteList=nQ({message:Q,name:"oneOf",skipAbsent:!0,test(z){let H=this.schema._whitelist,W=H.resolveAll(this.resolve);return W.includes(z)?!0:this.createError({params:{values:Array.from(H).join(", "),resolved:W}})}}),Y}notOneOf(w,Q=bw.notOneOf){let Y=this.clone();return w.forEach((z)=>{Y._blacklist.add(z),Y._whitelist.delete(z)}),Y.internalTests.blacklist=nQ({message:Q,name:"notOneOf",test(z){let H=this.schema._blacklist,W=H.resolveAll(this.resolve);if(W.includes(z))return this.createError({params:{values:Array.from(H).join(", "),resolved:W}});return!0}}),Y}strip(w=!0){let Q=this.clone();return Q.spec.strip=w,Q}describe(w){let Q=(w?this.resolve(w):this).clone(),{label:Y,meta:z,optional:H,nullable:W}=Q.spec;return{meta:z,label:Y,optional:H,nullable:W,default:Q.getDefault(w),type:Q.type,oneOf:Q._whitelist.describe(),notOneOf:Q._blacklist.describe(),tests:Q.tests.filter((L,U,q)=>q.findIndex((Z)=>Z.OPTIONS.name===L.OPTIONS.name)===U).map((L)=>{let U=L.OPTIONS.params&&w?EV(Object.assign({},L.OPTIONS.params),w):L.OPTIONS.params;return{name:L.OPTIONS.name,params:U}})}}get["~standard"](){let w=this;return{version:1,vendor:"yup",async validate(Y){try{return{value:await w.validate(Y,{abortEarly:!1})}}catch(z){if(z instanceof W9)return{issues:bV(z)};throw z}}}}}n6.prototype.__isYupSchema__=!0;for(let w of["validate","validateSync"])n6.prototype[`${w}At`]=function(Q,Y,z={}){let{parent:H,parentPath:W,schema:X}=du(this,Q,Y,z.context);return X[w](H&&H[W],Object.assign({},z,{parent:H,path:Q}))};for(let w of["equals","is"])n6.prototype[w]=n6.prototype.oneOf;for(let w of["not","nope"])n6.prototype[w]=n6.prototype.notOneOf;var su=()=>!0;function Iw(w){return new gJ(w)}class gJ extends n6{constructor(w){super(typeof w==="function"?{type:"mixed",check:w}:Object.assign({type:"mixed",check:su},w))}}Iw.prototype=gJ.prototype;function X9(){return new fJ}class fJ extends n6{constructor(){super({type:"boolean",check(w){if(w instanceof Boolean)w=w.valueOf();return typeof w==="boolean"}});this.withMutation(()=>{this.transform((w,Q)=>{if(this.spec.coerce&&!this.isType(w)){if(/^(true|1)$/i.test(String(w)))return!0;if(/^(false|0)$/i.test(String(w)))return!1}return w})})}isTrue(w=jJ.isValue){return this.test({message:w,name:"is-value",exclusive:!0,params:{value:"true"},test(Q){return Yw(Q)||Q===!0}})}isFalse(w=jJ.isValue){return this.test({message:w,name:"is-value",exclusive:!0,params:{value:"false"},test(Q){return Yw(Q)||Q===!1}})}default(w){return super.default(w)}defined(w){return super.defined(w)}optional(){return super.optional()}required(w){return super.required(w)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(w){return super.nonNullable(w)}strip(w){return super.strip(w)}}X9.prototype=fJ.prototype;var au=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function tu(w){let Q=kJ(w);if(!Q)return Date.parse?Date.parse(w):Number.NaN;if(Q.z===void 0&&Q.plusMinus===void 0)return new Date(Q.year,Q.month,Q.day,Q.hour,Q.minute,Q.second,Q.millisecond).valueOf();let Y=0;if(Q.z!=="Z"&&Q.plusMinus!==void 0){if(Y=Q.hourOffset*60+Q.minuteOffset,Q.plusMinus==="+")Y=0-Y}return Date.UTC(Q.year,Q.month,Q.day,Q.hour,Q.minute+Y,Q.second,Q.millisecond)}function kJ(w){var Q,Y;let z=au.exec(w);if(!z)return null;return{year:Y8(z[1]),month:Y8(z[2],1)-1,day:Y8(z[3],1),hour:Y8(z[4]),minute:Y8(z[5]),second:Y8(z[6]),millisecond:z[7]?Y8(z[7].substring(0,3)):0,precision:(Q=(Y=z[7])==null?void 0:Y.length)!=null?Q:void 0,z:z[8]||void 0,plusMinus:z[9]||void 0,hourOffset:Y8(z[10]),minuteOffset:Y8(z[11])}}function Y8(w,Q=0){return Number(w)||Q}var eu=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,wp=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Qp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Yp="^\\d{4}-\\d{2}-\\d{2}",zp="\\d{2}:\\d{2}:\\d{2}",Hp="(([+-]\\d{2}(:?\\d{2})?)|Z)",Wp=new RegExp(`${Yp}T${zp}(\\.\\d+)?${Hp}$`),Xp=(w)=>Yw(w)||w===w.trim(),Jp={}.toString();function RH(){return new xJ}class xJ extends n6{constructor(){super({type:"string",check(w){if(w instanceof String)w=w.valueOf();return typeof w==="string"}});this.withMutation(()=>{this.transform((w,Q)=>{if(!this.spec.coerce||this.isType(w))return w;if(Array.isArray(w))return w;let Y=w!=null&&w.toString?w.toString():w;if(Y===Jp)return w;return Y})})}required(w){return super.required(w).withMutation((Q)=>Q.test({message:w||bw.required,name:"required",skipAbsent:!0,test:(Y)=>!!Y.length}))}notRequired(){return super.notRequired().withMutation((w)=>{return w.tests=w.tests.filter((Q)=>Q.OPTIONS.name!=="required"),w})}length(w,Q=V9.length){return this.test({message:Q,name:"length",exclusive:!0,params:{length:w},skipAbsent:!0,test(Y){return Y.length===this.resolve(w)}})}min(w,Q=V9.min){return this.test({message:Q,name:"min",exclusive:!0,params:{min:w},skipAbsent:!0,test(Y){return Y.length>=this.resolve(w)}})}max(w,Q=V9.max){return this.test({name:"max",exclusive:!0,message:Q,params:{max:w},skipAbsent:!0,test(Y){return Y.length<=this.resolve(w)}})}matches(w,Q){let Y=!1,z,H;if(Q)if(typeof Q==="object")({excludeEmptyString:Y=!1,message:z,name:H}=Q);else z=Q;return this.test({name:H||"matches",message:z||V9.matches,params:{regex:w},skipAbsent:!0,test:(W)=>W===""&&Y||W.search(w)!==-1})}email(w=V9.email){return this.matches(eu,{name:"email",message:w,excludeEmptyString:!0})}url(w=V9.url){return this.matches(wp,{name:"url",message:w,excludeEmptyString:!0})}uuid(w=V9.uuid){return this.matches(Qp,{name:"uuid",message:w,excludeEmptyString:!1})}datetime(w){let Q="",Y,z;if(w)if(typeof w==="object")({message:Q="",allowOffset:Y=!1,precision:z=void 0}=w);else Q=w;return this.matches(Wp,{name:"datetime",message:Q||V9.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:Q||V9.datetime_offset,params:{allowOffset:Y},skipAbsent:!0,test:(H)=>{if(!H||Y)return!0;let W=kJ(H);if(!W)return!1;return!!W.z}}).test({name:"datetime_precision",message:Q||V9.datetime_precision,params:{precision:z},skipAbsent:!0,test:(H)=>{if(!H||z==null)return!0;let W=kJ(H);if(!W)return!1;return W.precision===z}})}ensure(){return this.default("").transform((w)=>w===null?"":w)}trim(w=V9.trim){return this.transform((Q)=>Q!=null?Q.trim():Q).test({message:w,name:"trim",test:Xp})}lowercase(w=V9.lowercase){return this.transform((Q)=>!Yw(Q)?Q.toLowerCase():Q).test({message:w,name:"string_case",exclusive:!0,skipAbsent:!0,test:(Q)=>Yw(Q)||Q===Q.toLowerCase()})}uppercase(w=V9.uppercase){return this.transform((Q)=>!Yw(Q)?Q.toUpperCase():Q).test({message:w,name:"string_case",exclusive:!0,skipAbsent:!0,test:(Q)=>Yw(Q)||Q===Q.toUpperCase()})}}RH.prototype=xJ.prototype;var Lp=(w)=>w!=+w;function CH(){return new vJ}class vJ extends n6{constructor(){super({type:"number",check(w){if(w instanceof Number)w=w.valueOf();return typeof w==="number"&&!Lp(w)}});this.withMutation(()=>{this.transform((w,Q)=>{if(!this.spec.coerce)return w;let Y=w;if(typeof Y==="string"){if(Y=Y.replace(/\s/g,""),Y==="")return NaN;Y=+Y}if(this.isType(Y)||Y===null)return Y;return parseFloat(Y)})})}min(w,Q=r8.min){return this.test({message:Q,name:"min",exclusive:!0,params:{min:w},skipAbsent:!0,test(Y){return Y>=this.resolve(w)}})}max(w,Q=r8.max){return this.test({message:Q,name:"max",exclusive:!0,params:{max:w},skipAbsent:!0,test(Y){return Y<=this.resolve(w)}})}lessThan(w,Q=r8.lessThan){return this.test({message:Q,name:"max",exclusive:!0,params:{less:w},skipAbsent:!0,test(Y){return Y<this.resolve(w)}})}moreThan(w,Q=r8.moreThan){return this.test({message:Q,name:"min",exclusive:!0,params:{more:w},skipAbsent:!0,test(Y){return Y>this.resolve(w)}})}positive(w=r8.positive){return this.moreThan(0,w)}negative(w=r8.negative){return this.lessThan(0,w)}integer(w=r8.integer){return this.test({name:"integer",message:w,skipAbsent:!0,test:(Q)=>Number.isInteger(Q)})}truncate(){return this.transform((w)=>!Yw(w)?w|0:w)}round(w){var Q;let Y=["ceil","floor","round","trunc"];if(w=((Q=w)==null?void 0:Q.toLowerCase())||"round",w==="trunc")return this.truncate();if(Y.indexOf(w.toLowerCase())===-1)throw TypeError("Only valid options for round() are: "+Y.join(", "));return this.transform((z)=>!Yw(z)?Math[w](z):z)}}CH.prototype=vJ.prototype;var IV=new Date(""),Up=(w)=>Object.prototype.toString.call(w)==="[object Date]";function _V(){return new l5}class l5 extends n6{constructor(){super({type:"date",check(w){return Up(w)&&!isNaN(w.getTime())}});this.withMutation(()=>{this.transform((w,Q)=>{if(!this.spec.coerce||this.isType(w)||w===null)return w;return w=tu(w),!isNaN(w)?new Date(w):l5.INVALID_DATE})})}prepareParam(w,Q){let Y;if(!c8.isRef(w)){let z=this.cast(w);if(!this._typeCheck(z))throw TypeError(`\`${Q}\` must be a Date or a value that can be \`cast()\` to a Date`);Y=z}else Y=w;return Y}min(w,Q=_J.min){let Y=this.prepareParam(w,"min");return this.test({message:Q,name:"min",exclusive:!0,params:{min:w},skipAbsent:!0,test(z){return z>=this.resolve(Y)}})}max(w,Q=_J.max){let Y=this.prepareParam(w,"max");return this.test({message:Q,name:"max",exclusive:!0,params:{max:w},skipAbsent:!0,test(z){return z<=this.resolve(Y)}})}}l5.INVALID_DATE=IV;_V.prototype=l5.prototype;_V.INVALID_DATE=IV;function qp(w,Q=[]){let Y=[],z=new Set,H=new Set(Q.map(([X,L])=>`${X}-${L}`));function W(X,L){let U=h9.split(X)[0];if(z.add(U),!H.has(`${L}-${U}`))Y.push([L,U])}for(let X of Object.keys(w)){let L=w[X];if(z.add(X),c8.isRef(L)&&L.isSibling)W(L.path,X);else if(TH(L)&&"deps"in L)L.deps.forEach((U)=>W(U,X))}return CV.default.array(Array.from(z),Y).reverse()}function MV(w,Q){let Y=1/0;return w.some((z,H)=>{var W;if((W=Q.path)!=null&&W.includes(z))return Y=H,!0}),Y}function jV(w){return(Q,Y)=>{return MV(w,Q)-MV(w,Y)}}var kV=(w,Q,Y)=>{if(typeof w!=="string")return w;let z=w;try{z=JSON.parse(w)}catch(H){}return Y.isType(z)?z:w};function BH(w){if("fields"in w){let Q={};for(let[Y,z]of Object.entries(w.fields))Q[Y]=BH(z);return w.setFields(Q)}if(w.type==="array"){let Q=w.optional();if(Q.innerType)Q.innerType=BH(Q.innerType);return Q}if(w.type==="tuple")return w.optional().clone({types:w.spec.types.map(BH)});if("optional"in w)return w.optional();return w}var Op=(w,Q)=>{let Y=[...h9.normalizePath(Q)];if(Y.length===1)return Y[0]in w;let z=Y.pop(),H=h9.getter(h9.join(Y),!0)(w);return!!(H&&(z in H))},TV=(w)=>Object.prototype.toString.call(w)==="[object Object]";function RV(w,Q){let Y=Object.keys(w.fields);return Object.keys(Q).filter((z)=>Y.indexOf(z)===-1)}var Zp=jV([]);function DH(w){return new yJ(w)}class yJ extends n6{constructor(w){super({type:"object",check(Q){return TV(Q)||typeof Q==="function"}});this.fields=Object.create(null),this._sortErrors=Zp,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{if(w)this.shape(w)})}_cast(w,Q={}){var Y;let z=super._cast(w,Q);if(z===void 0)return this.getDefault(Q);if(!this._typeCheck(z))return z;let H=this.fields,W=(Y=Q.stripUnknown)!=null?Y:this.spec.noUnknown,X=[].concat(this._nodes,Object.keys(z).filter((Z)=>!this._nodes.includes(Z))),L={},U=Object.assign({},Q,{parent:L,__validating:Q.__validating||!1}),q=!1;for(let Z of X){let K=H[Z],B=Z in z,A=z[Z];if(K){let M;U.path=(Q.path?`${Q.path}.`:"")+Z,K=K.resolve({value:A,context:Q.context,parent:L});let T=K instanceof n6?K.spec:void 0,$=T==null?void 0:T.strict;if(T!=null&&T.strip){q=q||Z in z;continue}if(M=!Q.__validating||!$?K.cast(A,U):A,M!==void 0)L[Z]=M}else if(B&&!W)L[Z]=A;if(B!==Z in L||L[Z]!==A)q=!0}return q?L:z}_validate(w,Q={},Y,z){let{from:H=[],originalValue:W=w,recursive:X=this.spec.recursive}=Q;Q.from=[{schema:this,value:W},...H],Q.__validating=!0,Q.originalValue=W,super._validate(w,Q,Y,(L,U)=>{if(!X||!TV(U)){z(L,U);return}W=W||U;let q=[];for(let Z of this._nodes){let K=this.fields[Z];if(!K||c8.isRef(K))continue;q.push(K.asNestedTest({options:Q,key:Z,parent:U,parentPath:Q.path,originalParent:W}))}this.runTests({tests:q,value:U,originalValue:W,options:Q},Y,(Z)=>{z(Z.sort(this._sortErrors).concat(L),U)})})}clone(w){let Q=super.clone(w);return Q.fields=Object.assign({},this.fields),Q._nodes=this._nodes,Q._excludedEdges=this._excludedEdges,Q._sortErrors=this._sortErrors,Q}concat(w){let Q=super.concat(w),Y=Q.fields;for(let[z,H]of Object.entries(this.fields)){let W=Y[z];Y[z]=W===void 0?H:W}return Q.withMutation((z)=>z.setFields(Y,[...this._excludedEdges,...w._excludedEdges]))}_getDefault(w){if("default"in this.spec)return super._getDefault(w);if(!this._nodes.length)return;let Q={};return this._nodes.forEach((Y)=>{var z;let H=this.fields[Y],W=w;if((z=W)!=null&&z.value)W=Object.assign({},W,{parent:W.value,value:W.value[Y]});Q[Y]=H&&"getDefault"in H?H.getDefault(W):void 0}),Q}setFields(w,Q){let Y=this.clone();if(Y.fields=w,Y._nodes=qp(w,Q),Y._sortErrors=jV(Object.keys(w)),Q)Y._excludedEdges=Q;return Y}shape(w,Q=[]){return this.clone().withMutation((Y)=>{let z=Y._excludedEdges;if(Q.length){if(!Array.isArray(Q[0]))Q=[Q];z=[...Y._excludedEdges,...Q]}return Y.setFields(Object.assign(Y.fields,w),z)})}partial(){let w={};for(let[Q,Y]of Object.entries(this.fields))w[Q]="optional"in Y&&Y.optional instanceof Function?Y.optional():Y;return this.setFields(w)}deepPartial(){return BH(this)}pick(w){let Q={};for(let Y of w)if(this.fields[Y])Q[Y]=this.fields[Y];return this.setFields(Q,this._excludedEdges.filter(([Y,z])=>w.includes(Y)&&w.includes(z)))}omit(w){let Q=[];for(let Y of Object.keys(this.fields)){if(w.includes(Y))continue;Q.push(Y)}return this.pick(Q)}from(w,Q,Y){let z=h9.getter(w,!0);return this.transform((H)=>{if(!H)return H;let W=H;if(Op(H,w)){if(W=Object.assign({},H),!Y)delete W[w];W[Q]=z(H)}return W})}json(){return this.transform(kV)}exact(w){return this.test({name:"exact",exclusive:!0,message:w||FH.exact,test(Q){if(Q==null)return!0;let Y=RV(this.schema,Q);return Y.length===0||this.createError({params:{properties:Y.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(w=!0,Q=FH.noUnknown){if(typeof w!=="boolean")Q=w,w=!0;let Y=this.test({name:"noUnknown",exclusive:!0,message:Q,test(z){if(z==null)return!0;let H=RV(this.schema,z);return!w||H.length===0||this.createError({params:{unknown:H.join(", ")}})}});return Y.spec.noUnknown=w,Y}unknown(w=!0,Q=FH.noUnknown){return this.noUnknown(!w,Q)}transformKeys(w){return this.transform((Q)=>{if(!Q)return Q;let Y={};for(let z of Object.keys(Q))Y[w(z)]=Q[z];return Y})}camelCase(){return this.transformKeys(p5.camelCase)}snakeCase(){return this.transformKeys(p5.snakeCase)}constantCase(){return this.transformKeys((w)=>p5.snakeCase(w).toUpperCase())}describe(w){let Q=(w?this.resolve(w):this).clone(),Y=super.describe(w);Y.fields={};for(let[H,W]of Object.entries(Q.fields)){var z;let X=w;if((z=X)!=null&&z.value)X=Object.assign({},X,{parent:X.value,value:X.value[H]});Y.fields[H]=W.describe(X)}return Y}}DH.prototype=yJ.prototype;function mJ(w){return new hJ(w)}class hJ extends n6{constructor(w){super({type:"array",spec:{types:w},check(Q){return Array.isArray(Q)}});this.innerType=void 0,this.innerType=w}_cast(w,Q){let Y=super._cast(w,Q);if(!this._typeCheck(Y)||!this.innerType)return Y;let z=!1,H=Y.map((W,X)=>{let L=this.innerType.cast(W,Object.assign({},Q,{path:`${Q.path||""}[${X}]`,parent:Y,originalValue:W,value:W,index:X}));if(L!==W)z=!0;return L});return z?H:Y}_validate(w,Q={},Y,z){var H;let W=this.innerType,X=(H=Q.recursive)!=null?H:this.spec.recursive;Q.originalValue!=null&&Q.originalValue,super._validate(w,Q,Y,(L,U)=>{var q;if(!X||!W||!this._typeCheck(U)){z(L,U);return}let Z=Array(U.length);for(let B=0;B<U.length;B++){var K;Z[B]=W.asNestedTest({options:Q,index:B,parent:U,parentPath:Q.path,originalParent:(K=Q.originalValue)!=null?K:w})}this.runTests({value:U,tests:Z,originalValue:(q=Q.originalValue)!=null?q:w,options:Q},Y,(B)=>z(B.concat(L),U))})}clone(w){let Q=super.clone(w);return Q.innerType=this.innerType,Q}json(){return this.transform(kV)}concat(w){let Q=super.concat(w);if(Q.innerType=this.innerType,w.innerType)Q.innerType=Q.innerType?Q.innerType.concat(w.innerType):w.innerType;return Q}of(w){let Q=this.clone();if(!TH(w))throw TypeError("`array.of()` sub-schema must be a valid yup schema not: "+z8(w));return Q.innerType=w,Q.spec=Object.assign({},Q.spec,{types:w}),Q}length(w,Q=KH.length){return this.test({message:Q,name:"length",exclusive:!0,params:{length:w},skipAbsent:!0,test(Y){return Y.length===this.resolve(w)}})}min(w,Q){return Q=Q||KH.min,this.test({message:Q,name:"min",exclusive:!0,params:{min:w},skipAbsent:!0,test(Y){return Y.length>=this.resolve(w)}})}max(w,Q){return Q=Q||KH.max,this.test({message:Q,name:"max",exclusive:!0,params:{max:w},skipAbsent:!0,test(Y){return Y.length<=this.resolve(w)}})}ensure(){return this.default(()=>[]).transform((w,Q)=>{if(this._typeCheck(w))return w;return Q==null?[]:[].concat(Q)})}compact(w){let Q=!w?(Y)=>!!Y:(Y,z,H)=>!w(Y,z,H);return this.transform((Y)=>Y!=null?Y.filter(Q):Y)}describe(w){let Q=(w?this.resolve(w):this).clone(),Y=super.describe(w);if(Q.innerType){var z;let H=w;if((z=H)!=null&&z.value)H=Object.assign({},H,{parent:H.value,value:H.value[0]});Y.innerType=Q.innerType.describe(H)}return Y}}mJ.prototype=hJ.prototype;function Np(w){return new oJ(w)}class oJ extends n6{constructor(w){super({type:"tuple",spec:{types:w},check(Q){let Y=this.spec.types;return Array.isArray(Q)&&Q.length===Y.length}});this.withMutation(()=>{this.typeError(PV.notType)})}_cast(w,Q){let{types:Y}=this.spec,z=super._cast(w,Q);if(!this._typeCheck(z))return z;let H=!1,W=Y.map((X,L)=>{let U=X.cast(z[L],Object.assign({},Q,{path:`${Q.path||""}[${L}]`,parent:z,originalValue:z[L],value:z[L],index:L}));if(U!==z[L])H=!0;return U});return H?W:z}_validate(w,Q={},Y,z){let H=this.spec.types;super._validate(w,Q,Y,(W,X)=>{var L;if(!this._typeCheck(X)){z(W,X);return}let U=[];for(let[Z,K]of H.entries()){var q;U[Z]=K.asNestedTest({options:Q,index:Z,parent:X,parentPath:Q.path,originalParent:(q=Q.originalValue)!=null?q:w})}this.runTests({value:X,tests:U,originalValue:(L=Q.originalValue)!=null?L:w,options:Q},Y,(Z)=>z(Z.concat(W),X))})}describe(w){let Q=(w?this.resolve(w):this).clone(),Y=super.describe(w);return Y.innerType=Q.spec.types.map((z,H)=>{var W;let X=w;if((W=X)!=null&&W.value)X=Object.assign({},X,{parent:X.value,value:X.value[H]});return z.describe(X)}),Y}}Np.prototype=oJ.prototype;var Sr0=Object.freeze({status:"aborted"});function P(w,Q,Y){function z(L,U){if(!L._zod)Object.defineProperty(L,"_zod",{value:{def:U,constr:X,traits:new Set},enumerable:!1});if(L._zod.traits.has(w))return;L._zod.traits.add(w),Q(L,U);let q=X.prototype,Z=Object.keys(q);for(let K=0;K<Z.length;K++){let B=Z[K];if(!(B in L))L[B]=q[B].bind(L)}}let H=Y?.Parent??Object;class W extends H{}Object.defineProperty(W,"name",{value:w});function X(L){var U;let q=Y?.Parent?new W:this;z(q,L),(U=q._zod).deferred??(U.deferred=[]);for(let Z of q._zod.deferred)Z();return q}return Object.defineProperty(X,"init",{value:z}),Object.defineProperty(X,Symbol.hasInstance,{value:(L)=>{if(Y?.Parent&&L instanceof Y.Parent)return!0;return L?._zod?.traits?.has(w)}}),Object.defineProperty(X,"name",{value:w}),X}var br0=Symbol("zod_brand");class H8 extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class r5 extends Error{constructor(w){super(`Encountered unidirectional transform during encode: ${w}`);this.name="ZodEncodeError"}}var VH={};function W8(w){if(w)Object.assign(VH,w);return VH}var v0={};y6(v0,{unwrapMessage:()=>c5,uint8ArrayToHex:()=>hp,uint8ArrayToBase64url:()=>yp,uint8ArrayToBase64:()=>oV,stringifyPrimitive:()=>vV,slugify:()=>lJ,shallowClone:()=>fV,safeExtend:()=>jp,required:()=>fp,randomString:()=>$p,propertyKeyTypes:()=>cJ,promiseAllObject:()=>Gp,primitiveTypes:()=>xV,prefixIssues:()=>a5,pick:()=>bp,partial:()=>gp,optionalKeys:()=>dJ,omit:()=>Ip,objectClone:()=>Cp,numKeys:()=>Pp,nullish:()=>n5,normalizeParams:()=>Q0,mergeDefs:()=>i8,merge:()=>kp,jsonStringifyReplacer:()=>tQ,joinValues:()=>Rp,issue:()=>eQ,isPlainObject:()=>m4,isObject:()=>aQ,hexToUint8Array:()=>mp,getSizableOrigin:()=>mV,getParsedType:()=>Ep,getLengthableOrigin:()=>t5,getEnumValues:()=>d5,getElementAtPath:()=>Vp,floatSafeRemainder:()=>pJ,finalizeIssue:()=>_w,extend:()=>_p,escapeRegex:()=>h4,esc:()=>GH,defineLazy:()=>o0,createTransparentProxy:()=>Sp,cloneDef:()=>Dp,clone:()=>zw,cleanRegex:()=>s5,cleanEnum:()=>xp,captureStackTrace:()=>$H,cached:()=>i5,base64urlToUint8Array:()=>vp,base64ToUint8Array:()=>hV,assignProp:()=>d8,assertNotEqual:()=>Bp,assertNever:()=>Mp,assertIs:()=>Ap,assertEqual:()=>Kp,assert:()=>Tp,allowsEval:()=>rJ,aborted:()=>n8,NUMBER_FORMAT_RANGES:()=>iJ,Class:()=>uV,BIGINT_FORMAT_RANGES:()=>yV});function Kp(w){return w}function Bp(w){return w}function Ap(w){}function Mp(w){throw Error("Unexpected value in exhaustive check")}function Tp(w){}function d5(w){let Q=Object.values(w).filter((z)=>typeof z==="number");return Object.entries(w).filter(([z,H])=>Q.indexOf(+z)===-1).map(([z,H])=>H)}function Rp(w,Q="|"){return w.map((Y)=>vV(Y)).join(Q)}function tQ(w,Q){if(typeof Q==="bigint")return Q.toString();return Q}function i5(w){return{get value(){{let Y=w();return Object.defineProperty(this,"value",{value:Y}),Y}throw Error("cached value already set")}}}function n5(w){return w===null||w===void 0}function s5(w){let Q=w.startsWith("^")?1:0,Y=w.endsWith("$")?w.length-1:w.length;return w.slice(Q,Y)}function pJ(w,Q){let Y=(w.toString().split(".")[1]||"").length,z=Q.toString(),H=(z.split(".")[1]||"").length;if(H===0&&/\d?e-\d?/.test(z)){let U=z.match(/\d?e-(\d?)/);if(U?.[1])H=Number.parseInt(U[1])}let W=Y>H?Y:H,X=Number.parseInt(w.toFixed(W).replace(".","")),L=Number.parseInt(Q.toFixed(W).replace(".",""));return X%L/10**W}var gV=Symbol("evaluating");function o0(w,Q,Y){let z=void 0;Object.defineProperty(w,Q,{get(){if(z===gV)return;if(z===void 0)z=gV,z=Y();return z},set(H){Object.defineProperty(w,Q,{value:H})},configurable:!0})}function Cp(w){return Object.create(Object.getPrototypeOf(w),Object.getOwnPropertyDescriptors(w))}function d8(w,Q,Y){Object.defineProperty(w,Q,{value:Y,writable:!0,enumerable:!0,configurable:!0})}function i8(...w){let Q={};for(let Y of w){let z=Object.getOwnPropertyDescriptors(Y);Object.assign(Q,z)}return Object.defineProperties({},Q)}function Dp(w){return i8(w._zod.def)}function Vp(w,Q){if(!Q)return w;return Q.reduce((Y,z)=>Y?.[z],w)}function Gp(w){let Q=Object.keys(w),Y=Q.map((z)=>w[z]);return Promise.all(Y).then((z)=>{let H={};for(let W=0;W<Q.length;W++)H[Q[W]]=z[W];return H})}function $p(w=10){let Y="";for(let z=0;z<w;z++)Y+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return Y}function GH(w){return JSON.stringify(w)}function lJ(w){return w.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var $H="captureStackTrace"in Error?Error.captureStackTrace:(...w)=>{};function aQ(w){return typeof w==="object"&&w!==null&&!Array.isArray(w)}var rJ=i5(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(w){return!1}});function m4(w){if(aQ(w)===!1)return!1;let Q=w.constructor;if(Q===void 0)return!0;if(typeof Q!=="function")return!0;let Y=Q.prototype;if(aQ(Y)===!1)return!1;if(Object.prototype.hasOwnProperty.call(Y,"isPrototypeOf")===!1)return!1;return!0}function fV(w){if(m4(w))return{...w};if(Array.isArray(w))return[...w];return w}function Pp(w){let Q=0;for(let Y in w)if(Object.prototype.hasOwnProperty.call(w,Y))Q++;return Q}var Ep=(w)=>{let Q=typeof w;switch(Q){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(w)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(w))return"array";if(w===null)return"null";if(w.then&&typeof w.then==="function"&&w.catch&&typeof w.catch==="function")return"promise";if(typeof Map<"u"&&w instanceof Map)return"map";if(typeof Set<"u"&&w instanceof Set)return"set";if(typeof Date<"u"&&w instanceof Date)return"date";if(typeof File<"u"&&w instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${Q}`)}},cJ=new Set(["string","number","symbol"]),xV=new Set(["string","number","bigint","boolean","symbol","undefined"]);function h4(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function zw(w,Q,Y){let z=new w._zod.constr(Q??w._zod.def);if(!Q||Y?.parent)z._zod.parent=w;return z}function Q0(w){let Q=w;if(!Q)return{};if(typeof Q==="string")return{error:()=>Q};if(Q?.message!==void 0){if(Q?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");Q.error=Q.message}if(delete Q.message,typeof Q.error==="string")return{...Q,error:()=>Q.error};return Q}function Sp(w){let Q;return new Proxy({},{get(Y,z,H){return Q??(Q=w()),Reflect.get(Q,z,H)},set(Y,z,H,W){return Q??(Q=w()),Reflect.set(Q,z,H,W)},has(Y,z){return Q??(Q=w()),Reflect.has(Q,z)},deleteProperty(Y,z){return Q??(Q=w()),Reflect.deleteProperty(Q,z)},ownKeys(Y){return Q??(Q=w()),Reflect.ownKeys(Q)},getOwnPropertyDescriptor(Y,z){return Q??(Q=w()),Reflect.getOwnPropertyDescriptor(Q,z)},defineProperty(Y,z,H){return Q??(Q=w()),Reflect.defineProperty(Q,z,H)}})}function vV(w){if(typeof w==="bigint")return w.toString()+"n";if(typeof w==="string")return`"${w}"`;return`${w}`}function dJ(w){return Object.keys(w).filter((Q)=>{return w[Q]._zod.optin==="optional"&&w[Q]._zod.optout==="optional"})}var iJ={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-340282346638528860000000000000000000000,340282346638528860000000000000000000000],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},yV={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function bp(w,Q){let Y=w._zod.def,z=i8(w._zod.def,{get shape(){let H={};for(let W in Q){if(!(W in Y.shape))throw Error(`Unrecognized key: "${W}"`);if(!Q[W])continue;H[W]=Y.shape[W]}return d8(this,"shape",H),H},checks:[]});return zw(w,z)}function Ip(w,Q){let Y=w._zod.def,z=i8(w._zod.def,{get shape(){let H={...w._zod.def.shape};for(let W in Q){if(!(W in Y.shape))throw Error(`Unrecognized key: "${W}"`);if(!Q[W])continue;delete H[W]}return d8(this,"shape",H),H},checks:[]});return zw(w,z)}function _p(w,Q){if(!m4(Q))throw Error("Invalid input to extend: expected a plain object");let Y=w._zod.def.checks;if(Y&&Y.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let H=i8(w._zod.def,{get shape(){let W={...w._zod.def.shape,...Q};return d8(this,"shape",W),W},checks:[]});return zw(w,H)}function jp(w,Q){if(!m4(Q))throw Error("Invalid input to safeExtend: expected a plain object");let Y={...w._zod.def,get shape(){let z={...w._zod.def.shape,...Q};return d8(this,"shape",z),z},checks:w._zod.def.checks};return zw(w,Y)}function kp(w,Q){let Y=i8(w._zod.def,{get shape(){let z={...w._zod.def.shape,...Q._zod.def.shape};return d8(this,"shape",z),z},get catchall(){return Q._zod.def.catchall},checks:[]});return zw(w,Y)}function gp(w,Q,Y){let z=i8(Q._zod.def,{get shape(){let H=Q._zod.def.shape,W={...H};if(Y)for(let X in Y){if(!(X in H))throw Error(`Unrecognized key: "${X}"`);if(!Y[X])continue;W[X]=w?new w({type:"optional",innerType:H[X]}):H[X]}else for(let X in H)W[X]=w?new w({type:"optional",innerType:H[X]}):H[X];return d8(this,"shape",W),W},checks:[]});return zw(Q,z)}function fp(w,Q,Y){let z=i8(Q._zod.def,{get shape(){let H=Q._zod.def.shape,W={...H};if(Y)for(let X in Y){if(!(X in W))throw Error(`Unrecognized key: "${X}"`);if(!Y[X])continue;W[X]=new w({type:"nonoptional",innerType:H[X]})}else for(let X in H)W[X]=new w({type:"nonoptional",innerType:H[X]});return d8(this,"shape",W),W},checks:[]});return zw(Q,z)}function n8(w,Q=0){if(w.aborted===!0)return!0;for(let Y=Q;Y<w.issues.length;Y++)if(w.issues[Y]?.continue!==!0)return!0;return!1}function a5(w,Q){return Q.map((Y)=>{var z;return(z=Y).path??(z.path=[]),Y.path.unshift(w),Y})}function c5(w){return typeof w==="string"?w:w?.message}function _w(w,Q,Y){let z={...w,path:w.path??[]};if(!w.message){let H=c5(w.inst?._zod.def?.error?.(w))??c5(Q?.error?.(w))??c5(Y.customError?.(w))??c5(Y.localeError?.(w))??"Invalid input";z.message=H}if(delete z.inst,delete z.continue,!Q?.reportInput)delete z.input;return z}function mV(w){if(w instanceof Set)return"set";if(w instanceof Map)return"map";if(w instanceof File)return"file";return"unknown"}function t5(w){if(Array.isArray(w))return"array";if(typeof w==="string")return"string";return"unknown"}function eQ(...w){let[Q,Y,z]=w;if(typeof Q==="string")return{message:Q,code:"custom",input:Y,inst:z};return{...Q}}function xp(w){return Object.entries(w).filter(([Q,Y])=>{return Number.isNaN(Number.parseInt(Q,10))}).map((Q)=>Q[1])}function hV(w){let Q=atob(w),Y=new Uint8Array(Q.length);for(let z=0;z<Q.length;z++)Y[z]=Q.charCodeAt(z);return Y}function oV(w){let Q="";for(let Y=0;Y<w.length;Y++)Q+=String.fromCharCode(w[Y]);return btoa(Q)}function vp(w){let Q=w.replace(/-/g,"+").replace(/_/g,"/"),Y="=".repeat((4-Q.length%4)%4);return hV(Q+Y)}function yp(w){return oV(w).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function mp(w){let Q=w.replace(/^0x/,"");if(Q.length%2!==0)throw Error("Invalid hex string length");let Y=new Uint8Array(Q.length/2);for(let z=0;z<Q.length;z+=2)Y[z/2]=Number.parseInt(Q.slice(z,z+2),16);return Y}function hp(w){return Array.from(w).map((Q)=>Q.toString(16).padStart(2,"0")).join("")}class uV{constructor(...w){}}var pV=(w,Q)=>{w.name="$ZodError",Object.defineProperty(w,"_zod",{value:w._zod,enumerable:!1}),Object.defineProperty(w,"issues",{value:Q,enumerable:!1}),w.message=JSON.stringify(Q,tQ,2),Object.defineProperty(w,"toString",{value:()=>w.message,enumerable:!1})},PH=P("$ZodError",pV),nJ=P("$ZodError",pV,{Parent:Error});function lV(w,Q=(Y)=>Y.message){let Y={},z=[];for(let H of w.issues)if(H.path.length>0)Y[H.path[0]]=Y[H.path[0]]||[],Y[H.path[0]].push(Q(H));else z.push(Q(H));return{formErrors:z,fieldErrors:Y}}function rV(w,Q=(Y)=>Y.message){let Y={_errors:[]},z=(H)=>{for(let W of H.issues)if(W.code==="invalid_union"&&W.errors.length)W.errors.map((X)=>z({issues:X}));else if(W.code==="invalid_key")z({issues:W.issues});else if(W.code==="invalid_element")z({issues:W.issues});else if(W.path.length===0)Y._errors.push(Q(W));else{let X=Y,L=0;while(L<W.path.length){let U=W.path[L];if(L!==W.path.length-1)X[U]=X[U]||{_errors:[]};else X[U]=X[U]||{_errors:[]},X[U]._errors.push(Q(W));X=X[U],L++}}};return z(w),Y}var EH=(w)=>(Q,Y,z,H)=>{let W=z?Object.assign(z,{async:!1}):{async:!1},X=Q._zod.run({value:Y,issues:[]},W);if(X instanceof Promise)throw new H8;if(X.issues.length){let L=new(H?.Err??w)(X.issues.map((U)=>_w(U,W,W8())));throw $H(L,H?.callee),L}return X.value};var SH=(w)=>async(Q,Y,z,H)=>{let W=z?Object.assign(z,{async:!0}):{async:!0},X=Q._zod.run({value:Y,issues:[]},W);if(X instanceof Promise)X=await X;if(X.issues.length){let L=new(H?.Err??w)(X.issues.map((U)=>_w(U,W,W8())));throw $H(L,H?.callee),L}return X.value};var e5=(w)=>(Q,Y,z)=>{let H=z?{...z,async:!1}:{async:!1},W=Q._zod.run({value:Y,issues:[]},H);if(W instanceof Promise)throw new H8;return W.issues.length?{success:!1,error:new(w??PH)(W.issues.map((X)=>_w(X,H,W8())))}:{success:!0,data:W.value}},cV=e5(nJ),wz=(w)=>async(Q,Y,z)=>{let H=z?Object.assign(z,{async:!0}):{async:!0},W=Q._zod.run({value:Y,issues:[]},H);if(W instanceof Promise)W=await W;return W.issues.length?{success:!1,error:new w(W.issues.map((X)=>_w(X,H,W8())))}:{success:!0,data:W.value}},dV=wz(nJ),iV=(w)=>(Q,Y,z)=>{let H=z?Object.assign(z,{direction:"backward"}):{direction:"backward"};return EH(w)(Q,Y,H)};var nV=(w)=>(Q,Y,z)=>{return EH(w)(Q,Y,z)};var sV=(w)=>async(Q,Y,z)=>{let H=z?Object.assign(z,{direction:"backward"}):{direction:"backward"};return SH(w)(Q,Y,H)};var aV=(w)=>async(Q,Y,z)=>{return SH(w)(Q,Y,z)};var tV=(w)=>(Q,Y,z)=>{let H=z?Object.assign(z,{direction:"backward"}):{direction:"backward"};return e5(w)(Q,Y,H)};var eV=(w)=>(Q,Y,z)=>{return e5(w)(Q,Y,z)};var wG=(w)=>async(Q,Y,z)=>{let H=z?Object.assign(z,{direction:"backward"}):{direction:"backward"};return wz(w)(Q,Y,H)};var QG=(w)=>async(Q,Y,z)=>{return wz(w)(Q,Y,z)};var YG=/^[cC][^\s-]{8,}$/,zG=/^[0-9a-z]+$/,HG=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,WG=/^[0-9a-vA-V]{20}$/,XG=/^[A-Za-z0-9]{27}$/,JG=/^[a-zA-Z0-9_-]{21}$/,LG=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/;var UG=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,sJ=(w)=>{if(!w)return/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${w}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`)};var qG=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;var up="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function OG(){return new RegExp(up,"u")}var ZG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,NG=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/;var FG=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,KG=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,BG=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,aJ=/^[A-Za-z0-9_-]*$/;var AG=/^\+(?:[0-9]){6,14}[0-9]$/,MG="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",TG=new RegExp(`^${MG}$`);function RG(w){return typeof w.precision==="number"?w.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":w.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${w.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}function CG(w){return new RegExp(`^${RG(w)}$`)}function DG(w){let Q=RG({precision:w.precision}),Y=["Z"];if(w.local)Y.push("");if(w.offset)Y.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let z=`${Q}(?:${Y.join("|")})`;return new RegExp(`^${MG}T(?:${z})$`)}var VG=(w)=>{let Q=w?`[\\s\\S]{${w?.minimum??0},${w?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${Q}$`)};var GG=/^-?\d+$/,$G=/^-?\d+(?:\.\d+)?/,PG=/^(?:true|false)$/i;var EG=/^[^A-Z]*$/,SG=/^[^a-z]*$/;var v6=P("$ZodCheck",(w,Q)=>{var Y;w._zod??(w._zod={}),w._zod.def=Q,(Y=w._zod).onattach??(Y.onattach=[])}),bG={number:"number",bigint:"bigint",object:"date"},tJ=P("$ZodCheckLessThan",(w,Q)=>{v6.init(w,Q);let Y=bG[typeof Q.value];w._zod.onattach.push((z)=>{let H=z._zod.bag,W=(Q.inclusive?H.maximum:H.exclusiveMaximum)??Number.POSITIVE_INFINITY;if(Q.value<W)if(Q.inclusive)H.maximum=Q.value;else H.exclusiveMaximum=Q.value}),w._zod.check=(z)=>{if(Q.inclusive?z.value<=Q.value:z.value<Q.value)return;z.issues.push({origin:Y,code:"too_big",maximum:Q.value,input:z.value,inclusive:Q.inclusive,inst:w,continue:!Q.abort})}}),eJ=P("$ZodCheckGreaterThan",(w,Q)=>{v6.init(w,Q);let Y=bG[typeof Q.value];w._zod.onattach.push((z)=>{let H=z._zod.bag,W=(Q.inclusive?H.minimum:H.exclusiveMinimum)??Number.NEGATIVE_INFINITY;if(Q.value>W)if(Q.inclusive)H.minimum=Q.value;else H.exclusiveMinimum=Q.value}),w._zod.check=(z)=>{if(Q.inclusive?z.value>=Q.value:z.value>Q.value)return;z.issues.push({origin:Y,code:"too_small",minimum:Q.value,input:z.value,inclusive:Q.inclusive,inst:w,continue:!Q.abort})}}),IG=P("$ZodCheckMultipleOf",(w,Q)=>{v6.init(w,Q),w._zod.onattach.push((Y)=>{var z;(z=Y._zod.bag).multipleOf??(z.multipleOf=Q.value)}),w._zod.check=(Y)=>{if(typeof Y.value!==typeof Q.value)throw Error("Cannot mix number and bigint in multiple_of check.");if(typeof Y.value==="bigint"?Y.value%Q.value===BigInt(0):pJ(Y.value,Q.value)===0)return;Y.issues.push({origin:typeof Y.value,code:"not_multiple_of",divisor:Q.value,input:Y.value,inst:w,continue:!Q.abort})}}),_G=P("$ZodCheckNumberFormat",(w,Q)=>{v6.init(w,Q),Q.format=Q.format||"float64";let Y=Q.format?.includes("int"),z=Y?"int":"number",[H,W]=iJ[Q.format];w._zod.onattach.push((X)=>{let L=X._zod.bag;if(L.format=Q.format,L.minimum=H,L.maximum=W,Y)L.pattern=GG}),w._zod.check=(X)=>{let L=X.value;if(Y){if(!Number.isInteger(L)){X.issues.push({expected:z,format:Q.format,code:"invalid_type",continue:!1,input:L,inst:w});return}if(!Number.isSafeInteger(L)){if(L>0)X.issues.push({input:L,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:w,origin:z,continue:!Q.abort});else X.issues.push({input:L,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:w,origin:z,continue:!Q.abort});return}}if(L<H)X.issues.push({origin:"number",input:L,code:"too_small",minimum:H,inclusive:!0,inst:w,continue:!Q.abort});if(L>W)X.issues.push({origin:"number",input:L,code:"too_big",maximum:W,inst:w})}});var jG=P("$ZodCheckMaxLength",(w,Q)=>{var Y;v6.init(w,Q),(Y=w._zod.def).when??(Y.when=(z)=>{let H=z.value;return!n5(H)&&H.length!==void 0}),w._zod.onattach.push((z)=>{let H=z._zod.bag.maximum??Number.POSITIVE_INFINITY;if(Q.maximum<H)z._zod.bag.maximum=Q.maximum}),w._zod.check=(z)=>{let H=z.value;if(H.length<=Q.maximum)return;let X=t5(H);z.issues.push({origin:X,code:"too_big",maximum:Q.maximum,inclusive:!0,input:H,inst:w,continue:!Q.abort})}}),kG=P("$ZodCheckMinLength",(w,Q)=>{var Y;v6.init(w,Q),(Y=w._zod.def).when??(Y.when=(z)=>{let H=z.value;return!n5(H)&&H.length!==void 0}),w._zod.onattach.push((z)=>{let H=z._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(Q.minimum>H)z._zod.bag.minimum=Q.minimum}),w._zod.check=(z)=>{let H=z.value;if(H.length>=Q.minimum)return;let X=t5(H);z.issues.push({origin:X,code:"too_small",minimum:Q.minimum,inclusive:!0,input:H,inst:w,continue:!Q.abort})}}),gG=P("$ZodCheckLengthEquals",(w,Q)=>{var Y;v6.init(w,Q),(Y=w._zod.def).when??(Y.when=(z)=>{let H=z.value;return!n5(H)&&H.length!==void 0}),w._zod.onattach.push((z)=>{let H=z._zod.bag;H.minimum=Q.length,H.maximum=Q.length,H.length=Q.length}),w._zod.check=(z)=>{let H=z.value,W=H.length;if(W===Q.length)return;let X=t5(H),L=W>Q.length;z.issues.push({origin:X,...L?{code:"too_big",maximum:Q.length}:{code:"too_small",minimum:Q.length},inclusive:!0,exact:!0,input:z.value,inst:w,continue:!Q.abort})}}),Qz=P("$ZodCheckStringFormat",(w,Q)=>{var Y,z;if(v6.init(w,Q),w._zod.onattach.push((H)=>{let W=H._zod.bag;if(W.format=Q.format,Q.pattern)W.patterns??(W.patterns=new Set),W.patterns.add(Q.pattern)}),Q.pattern)(Y=w._zod).check??(Y.check=(H)=>{if(Q.pattern.lastIndex=0,Q.pattern.test(H.value))return;H.issues.push({origin:"string",code:"invalid_format",format:Q.format,input:H.value,...Q.pattern?{pattern:Q.pattern.toString()}:{},inst:w,continue:!Q.abort})});else(z=w._zod).check??(z.check=()=>{})}),fG=P("$ZodCheckRegex",(w,Q)=>{Qz.init(w,Q),w._zod.check=(Y)=>{if(Q.pattern.lastIndex=0,Q.pattern.test(Y.value))return;Y.issues.push({origin:"string",code:"invalid_format",format:"regex",input:Y.value,pattern:Q.pattern.toString(),inst:w,continue:!Q.abort})}}),xG=P("$ZodCheckLowerCase",(w,Q)=>{Q.pattern??(Q.pattern=EG),Qz.init(w,Q)}),vG=P("$ZodCheckUpperCase",(w,Q)=>{Q.pattern??(Q.pattern=SG),Qz.init(w,Q)}),yG=P("$ZodCheckIncludes",(w,Q)=>{v6.init(w,Q);let Y=h4(Q.includes),z=new RegExp(typeof Q.position==="number"?`^.{${Q.position}}${Y}`:Y);Q.pattern=z,w._zod.onattach.push((H)=>{let W=H._zod.bag;W.patterns??(W.patterns=new Set),W.patterns.add(z)}),w._zod.check=(H)=>{if(H.value.includes(Q.includes,Q.position))return;H.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:Q.includes,input:H.value,inst:w,continue:!Q.abort})}}),mG=P("$ZodCheckStartsWith",(w,Q)=>{v6.init(w,Q);let Y=new RegExp(`^${h4(Q.prefix)}.*`);Q.pattern??(Q.pattern=Y),w._zod.onattach.push((z)=>{let H=z._zod.bag;H.patterns??(H.patterns=new Set),H.patterns.add(Y)}),w._zod.check=(z)=>{if(z.value.startsWith(Q.prefix))return;z.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:Q.prefix,input:z.value,inst:w,continue:!Q.abort})}}),hG=P("$ZodCheckEndsWith",(w,Q)=>{v6.init(w,Q);let Y=new RegExp(`.*${h4(Q.suffix)}$`);Q.pattern??(Q.pattern=Y),w._zod.onattach.push((z)=>{let H=z._zod.bag;H.patterns??(H.patterns=new Set),H.patterns.add(Y)}),w._zod.check=(z)=>{if(z.value.endsWith(Q.suffix))return;z.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:Q.suffix,input:z.value,inst:w,continue:!Q.abort})}});var oG=P("$ZodCheckOverwrite",(w,Q)=>{v6.init(w,Q),w._zod.check=(Y)=>{Y.value=Q.tx(Y.value)}});class wL{constructor(w=[]){if(this.content=[],this.indent=0,this)this.args=w}indented(w){this.indent+=1,w(this),this.indent-=1}write(w){if(typeof w==="function"){w(this,{execution:"sync"}),w(this,{execution:"async"});return}let Y=w.split(`
`).filter((W)=>W),z=Math.min(...Y.map((W)=>W.length-W.trimStart().length)),H=Y.map((W)=>W.slice(z)).map((W)=>" ".repeat(this.indent*2)+W);for(let W of H)this.content.push(W)}compile(){let w=Function,Q=this?.args,z=[...(this?.content??[""]).map((H)=>`  ${H}`)];return new w(...Q,z.join(`
`))}}var pG={major:4,minor:2,patch:1};var Z6=P("$ZodType",(w,Q)=>{var Y;w??(w={}),w._zod.def=Q,w._zod.bag=w._zod.bag||{},w._zod.version=pG;let z=[...w._zod.def.checks??[]];if(w._zod.traits.has("$ZodCheck"))z.unshift(w);for(let H of z)for(let W of H._zod.onattach)W(w);if(z.length===0)(Y=w._zod).deferred??(Y.deferred=[]),w._zod.deferred?.push(()=>{w._zod.run=w._zod.parse});else{let H=(X,L,U)=>{let q=n8(X),Z;for(let K of L){if(K._zod.def.when){if(!K._zod.def.when(X))continue}else if(q)continue;let B=X.issues.length,A=K._zod.check(X);if(A instanceof Promise&&U?.async===!1)throw new H8;if(Z||A instanceof Promise)Z=(Z??Promise.resolve()).then(async()=>{if(await A,X.issues.length===B)return;if(!q)q=n8(X,B)});else{if(X.issues.length===B)continue;if(!q)q=n8(X,B)}}if(Z)return Z.then(()=>{return X});return X},W=(X,L,U)=>{if(n8(X))return X.aborted=!0,X;let q=H(L,z,U);if(q instanceof Promise){if(U.async===!1)throw new H8;return q.then((Z)=>w._zod.parse(Z,U))}return w._zod.parse(q,U)};w._zod.run=(X,L)=>{if(L.skipChecks)return w._zod.parse(X,L);if(L.direction==="backward"){let q=w._zod.parse({value:X.value,issues:[]},{...L,skipChecks:!0});if(q instanceof Promise)return q.then((Z)=>{return W(Z,X,L)});return W(q,X,L)}let U=w._zod.parse(X,L);if(U instanceof Promise){if(L.async===!1)throw new H8;return U.then((q)=>H(q,z,L))}return H(U,z,L)}}w["~standard"]={validate:(H)=>{try{let W=cV(w,H);return W.success?{value:W.data}:{issues:W.error?.issues}}catch(W){return dV(w,H).then((X)=>X.success?{value:X.data}:{issues:X.error?.issues})}},vendor:"zod",version:1}}),jH=P("$ZodString",(w,Q)=>{Z6.init(w,Q),w._zod.pattern=[...w?._zod.bag?.patterns??[]].pop()??VG(w._zod.bag),w._zod.parse=(Y,z)=>{if(Q.coerce)try{Y.value=String(Y.value)}catch(H){}if(typeof Y.value==="string")return Y;return Y.issues.push({expected:"string",code:"invalid_type",input:Y.value,inst:w}),Y}}),a0=P("$ZodStringFormat",(w,Q)=>{Qz.init(w,Q),jH.init(w,Q)}),tG=P("$ZodGUID",(w,Q)=>{Q.pattern??(Q.pattern=UG),a0.init(w,Q)}),eG=P("$ZodUUID",(w,Q)=>{if(Q.version){let z={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[Q.version];if(z===void 0)throw Error(`Invalid UUID version: "${Q.version}"`);Q.pattern??(Q.pattern=sJ(z))}else Q.pattern??(Q.pattern=sJ());a0.init(w,Q)}),w$=P("$ZodEmail",(w,Q)=>{Q.pattern??(Q.pattern=qG),a0.init(w,Q)}),Q$=P("$ZodURL",(w,Q)=>{a0.init(w,Q),w._zod.check=(Y)=>{try{let z=Y.value.trim(),H=new URL(z);if(Q.hostname){if(Q.hostname.lastIndex=0,!Q.hostname.test(H.hostname))Y.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Q.hostname.source,input:Y.value,inst:w,continue:!Q.abort})}if(Q.protocol){if(Q.protocol.lastIndex=0,!Q.protocol.test(H.protocol.endsWith(":")?H.protocol.slice(0,-1):H.protocol))Y.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:Q.protocol.source,input:Y.value,inst:w,continue:!Q.abort})}if(Q.normalize)Y.value=H.href;else Y.value=z;return}catch(z){Y.issues.push({code:"invalid_format",format:"url",input:Y.value,inst:w,continue:!Q.abort})}}}),Y$=P("$ZodEmoji",(w,Q)=>{Q.pattern??(Q.pattern=OG()),a0.init(w,Q)}),z$=P("$ZodNanoID",(w,Q)=>{Q.pattern??(Q.pattern=JG),a0.init(w,Q)}),H$=P("$ZodCUID",(w,Q)=>{Q.pattern??(Q.pattern=YG),a0.init(w,Q)}),W$=P("$ZodCUID2",(w,Q)=>{Q.pattern??(Q.pattern=zG),a0.init(w,Q)}),X$=P("$ZodULID",(w,Q)=>{Q.pattern??(Q.pattern=HG),a0.init(w,Q)}),J$=P("$ZodXID",(w,Q)=>{Q.pattern??(Q.pattern=WG),a0.init(w,Q)}),L$=P("$ZodKSUID",(w,Q)=>{Q.pattern??(Q.pattern=XG),a0.init(w,Q)}),U$=P("$ZodISODateTime",(w,Q)=>{Q.pattern??(Q.pattern=DG(Q)),a0.init(w,Q)}),q$=P("$ZodISODate",(w,Q)=>{Q.pattern??(Q.pattern=TG),a0.init(w,Q)}),O$=P("$ZodISOTime",(w,Q)=>{Q.pattern??(Q.pattern=CG(Q)),a0.init(w,Q)}),Z$=P("$ZodISODuration",(w,Q)=>{Q.pattern??(Q.pattern=LG),a0.init(w,Q)}),N$=P("$ZodIPv4",(w,Q)=>{Q.pattern??(Q.pattern=ZG),a0.init(w,Q),w._zod.bag.format="ipv4"}),F$=P("$ZodIPv6",(w,Q)=>{Q.pattern??(Q.pattern=NG),a0.init(w,Q),w._zod.bag.format="ipv6",w._zod.check=(Y)=>{try{new URL(`http://[${Y.value}]`)}catch{Y.issues.push({code:"invalid_format",format:"ipv6",input:Y.value,inst:w,continue:!Q.abort})}}});var K$=P("$ZodCIDRv4",(w,Q)=>{Q.pattern??(Q.pattern=FG),a0.init(w,Q)}),B$=P("$ZodCIDRv6",(w,Q)=>{Q.pattern??(Q.pattern=KG),a0.init(w,Q),w._zod.check=(Y)=>{let z=Y.value.split("/");try{if(z.length!==2)throw Error();let[H,W]=z;if(!W)throw Error();let X=Number(W);if(`${X}`!==W)throw Error();if(X<0||X>128)throw Error();new URL(`http://[${H}]`)}catch{Y.issues.push({code:"invalid_format",format:"cidrv6",input:Y.value,inst:w,continue:!Q.abort})}}});function A$(w){if(w==="")return!0;if(w.length%4!==0)return!1;try{return atob(w),!0}catch{return!1}}var M$=P("$ZodBase64",(w,Q)=>{Q.pattern??(Q.pattern=BG),a0.init(w,Q),w._zod.bag.contentEncoding="base64",w._zod.check=(Y)=>{if(A$(Y.value))return;Y.issues.push({code:"invalid_format",format:"base64",input:Y.value,inst:w,continue:!Q.abort})}});function pp(w){if(!aJ.test(w))return!1;let Q=w.replace(/[-_]/g,(z)=>z==="-"?"+":"/"),Y=Q.padEnd(Math.ceil(Q.length/4)*4,"=");return A$(Y)}var T$=P("$ZodBase64URL",(w,Q)=>{Q.pattern??(Q.pattern=aJ),a0.init(w,Q),w._zod.bag.contentEncoding="base64url",w._zod.check=(Y)=>{if(pp(Y.value))return;Y.issues.push({code:"invalid_format",format:"base64url",input:Y.value,inst:w,continue:!Q.abort})}}),R$=P("$ZodE164",(w,Q)=>{Q.pattern??(Q.pattern=AG),a0.init(w,Q)});function lp(w,Q=null){try{let Y=w.split(".");if(Y.length!==3)return!1;let[z]=Y;if(!z)return!1;let H=JSON.parse(atob(z));if("typ"in H&&H?.typ!=="JWT")return!1;if(!H.alg)return!1;if(Q&&(!("alg"in H)||H.alg!==Q))return!1;return!0}catch{return!1}}var C$=P("$ZodJWT",(w,Q)=>{a0.init(w,Q),w._zod.check=(Y)=>{if(lp(Y.value,Q.alg))return;Y.issues.push({code:"invalid_format",format:"jwt",input:Y.value,inst:w,continue:!Q.abort})}});var YL=P("$ZodNumber",(w,Q)=>{Z6.init(w,Q),w._zod.pattern=w._zod.bag.pattern??$G,w._zod.parse=(Y,z)=>{if(Q.coerce)try{Y.value=Number(Y.value)}catch(X){}let H=Y.value;if(typeof H==="number"&&!Number.isNaN(H)&&Number.isFinite(H))return Y;let W=typeof H==="number"?Number.isNaN(H)?"NaN":!Number.isFinite(H)?"Infinity":void 0:void 0;return Y.issues.push({expected:"number",code:"invalid_type",input:H,inst:w,...W?{received:W}:{}}),Y}}),D$=P("$ZodNumberFormat",(w,Q)=>{_G.init(w,Q),YL.init(w,Q)}),V$=P("$ZodBoolean",(w,Q)=>{Z6.init(w,Q),w._zod.pattern=PG,w._zod.parse=(Y,z)=>{if(Q.coerce)try{Y.value=Boolean(Y.value)}catch(W){}let H=Y.value;if(typeof H==="boolean")return Y;return Y.issues.push({expected:"boolean",code:"invalid_type",input:H,inst:w}),Y}});var G$=P("$ZodUnknown",(w,Q)=>{Z6.init(w,Q),w._zod.parse=(Y)=>Y}),$$=P("$ZodNever",(w,Q)=>{Z6.init(w,Q),w._zod.parse=(Y,z)=>{return Y.issues.push({expected:"never",code:"invalid_type",input:Y.value,inst:w}),Y}});function lG(w,Q,Y){if(w.issues.length)Q.issues.push(...a5(Y,w.issues));Q.value[Y]=w.value}var P$=P("$ZodArray",(w,Q)=>{Z6.init(w,Q),w._zod.parse=(Y,z)=>{let H=Y.value;if(!Array.isArray(H))return Y.issues.push({expected:"array",code:"invalid_type",input:H,inst:w}),Y;Y.value=Array(H.length);let W=[];for(let X=0;X<H.length;X++){let L=H[X],U=Q.element._zod.run({value:L,issues:[]},z);if(U instanceof Promise)W.push(U.then((q)=>lG(q,Y,X)));else lG(U,Y,X)}if(W.length)return Promise.all(W).then(()=>Y);return Y}});function _H(w,Q,Y,z){if(w.issues.length)Q.issues.push(...a5(Y,w.issues));if(w.value===void 0){if(Y in z)Q.value[Y]=void 0}else Q.value[Y]=w.value}function E$(w){let Q=Object.keys(w.shape);for(let z of Q)if(!w.shape?.[z]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${z}": expected a Zod schema`);let Y=dJ(w.shape);return{...w,keys:Q,keySet:new Set(Q),numKeys:Q.length,optionalKeys:new Set(Y)}}function S$(w,Q,Y,z,H,W){let X=[],L=H.keySet,U=H.catchall._zod,q=U.def.type;for(let Z in Q){if(L.has(Z))continue;if(q==="never"){X.push(Z);continue}let K=U.run({value:Q[Z],issues:[]},z);if(K instanceof Promise)w.push(K.then((B)=>_H(B,Y,Z,Q)));else _H(K,Y,Z,Q)}if(X.length)Y.issues.push({code:"unrecognized_keys",keys:X,input:Q,inst:W});if(!w.length)return Y;return Promise.all(w).then(()=>{return Y})}var rp=P("$ZodObject",(w,Q)=>{if(Z6.init(w,Q),!Object.getOwnPropertyDescriptor(Q,"shape")?.get){let L=Q.shape;Object.defineProperty(Q,"shape",{get:()=>{let U={...L};return Object.defineProperty(Q,"shape",{value:U}),U}})}let z=i5(()=>E$(Q));o0(w._zod,"propValues",()=>{let L=Q.shape,U={};for(let q in L){let Z=L[q]._zod;if(Z.values){U[q]??(U[q]=new Set);for(let K of Z.values)U[q].add(K)}}return U});let H=aQ,W=Q.catchall,X;w._zod.parse=(L,U)=>{X??(X=z.value);let q=L.value;if(!H(q))return L.issues.push({expected:"object",code:"invalid_type",input:q,inst:w}),L;L.value={};let Z=[],K=X.shape;for(let B of X.keys){let M=K[B]._zod.run({value:q[B],issues:[]},U);if(M instanceof Promise)Z.push(M.then((T)=>_H(T,L,B,q)));else _H(M,L,B,q)}if(!W)return Z.length?Promise.all(Z).then(()=>L):L;return S$(Z,q,L,U,z.value,w)}}),b$=P("$ZodObjectJIT",(w,Q)=>{rp.init(w,Q);let Y=w._zod.parse,z=i5(()=>E$(Q)),H=(B)=>{let A=new wL(["shape","payload","ctx"]),M=z.value,T=(R)=>{let j=GH(R);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};A.write("const input = payload.value;");let $=Object.create(null),G=0;for(let R of M.keys)$[R]=`key_${G++}`;A.write("const newResult = {};");for(let R of M.keys){let j=$[R],b=GH(R);A.write(`const ${j} = ${T(R)};`),A.write(`
        if (${j}.issues.length) {
          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${b}, ...iss.path] : [${b}]
          })));
        }
        
        
        if (${j}.value === undefined) {
          if (${b} in input) {
            newResult[${b}] = undefined;
          }
        } else {
          newResult[${b}] = ${j}.value;
        }
        
      `)}A.write("payload.value = newResult;"),A.write("return payload;");let E=A.compile();return(R,j)=>E(B,R,j)},W,X=aQ,L=!VH.jitless,q=L&&rJ.value,Z=Q.catchall,K;w._zod.parse=(B,A)=>{K??(K=z.value);let M=B.value;if(!X(M))return B.issues.push({expected:"object",code:"invalid_type",input:M,inst:w}),B;if(L&&q&&A?.async===!1&&A.jitless!==!0){if(!W)W=H(Q.shape);if(B=W(B,A),!Z)return B;return S$([],M,B,A,K,w)}return Y(B,A)}});function rG(w,Q,Y,z){for(let W of w)if(W.issues.length===0)return Q.value=W.value,Q;let H=w.filter((W)=>!n8(W));if(H.length===1)return Q.value=H[0].value,H[0];return Q.issues.push({code:"invalid_union",input:Q.value,inst:Y,errors:w.map((W)=>W.issues.map((X)=>_w(X,z,W8())))}),Q}var I$=P("$ZodUnion",(w,Q)=>{Z6.init(w,Q),o0(w._zod,"optin",()=>Q.options.some((H)=>H._zod.optin==="optional")?"optional":void 0),o0(w._zod,"optout",()=>Q.options.some((H)=>H._zod.optout==="optional")?"optional":void 0),o0(w._zod,"values",()=>{if(Q.options.every((H)=>H._zod.values))return new Set(Q.options.flatMap((H)=>Array.from(H._zod.values)));return}),o0(w._zod,"pattern",()=>{if(Q.options.every((H)=>H._zod.pattern)){let H=Q.options.map((W)=>W._zod.pattern);return new RegExp(`^(${H.map((W)=>s5(W.source)).join("|")})$`)}return});let Y=Q.options.length===1,z=Q.options[0]._zod.run;w._zod.parse=(H,W)=>{if(Y)return z(H,W);let X=!1,L=[];for(let U of Q.options){let q=U._zod.run({value:H.value,issues:[]},W);if(q instanceof Promise)L.push(q),X=!0;else{if(q.issues.length===0)return q;L.push(q)}}if(!X)return rG(L,H,w,W);return Promise.all(L).then((U)=>{return rG(U,H,w,W)})}});var _$=P("$ZodIntersection",(w,Q)=>{Z6.init(w,Q),w._zod.parse=(Y,z)=>{let H=Y.value,W=Q.left._zod.run({value:H,issues:[]},z),X=Q.right._zod.run({value:H,issues:[]},z);if(W instanceof Promise||X instanceof Promise)return Promise.all([W,X]).then(([U,q])=>{return cG(Y,U,q)});return cG(Y,W,X)}});function QL(w,Q){if(w===Q)return{valid:!0,data:w};if(w instanceof Date&&Q instanceof Date&&+w===+Q)return{valid:!0,data:w};if(m4(w)&&m4(Q)){let Y=Object.keys(Q),z=Object.keys(w).filter((W)=>Y.indexOf(W)!==-1),H={...w,...Q};for(let W of z){let X=QL(w[W],Q[W]);if(!X.valid)return{valid:!1,mergeErrorPath:[W,...X.mergeErrorPath]};H[W]=X.data}return{valid:!0,data:H}}if(Array.isArray(w)&&Array.isArray(Q)){if(w.length!==Q.length)return{valid:!1,mergeErrorPath:[]};let Y=[];for(let z=0;z<w.length;z++){let H=w[z],W=Q[z],X=QL(H,W);if(!X.valid)return{valid:!1,mergeErrorPath:[z,...X.mergeErrorPath]};Y.push(X.data)}return{valid:!0,data:Y}}return{valid:!1,mergeErrorPath:[]}}function cG(w,Q,Y){if(Q.issues.length)w.issues.push(...Q.issues);if(Y.issues.length)w.issues.push(...Y.issues);if(n8(w))return w;let z=QL(Q.value,Y.value);if(!z.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(z.mergeErrorPath)}`);return w.value=z.data,w}var j$=P("$ZodEnum",(w,Q)=>{Z6.init(w,Q);let Y=d5(Q.entries),z=new Set(Y);w._zod.values=z,w._zod.pattern=new RegExp(`^(${Y.filter((H)=>cJ.has(typeof H)).map((H)=>typeof H==="string"?h4(H):H.toString()).join("|")})$`),w._zod.parse=(H,W)=>{let X=H.value;if(z.has(X))return H;return H.issues.push({code:"invalid_value",values:Y,input:X,inst:w}),H}});var k$=P("$ZodTransform",(w,Q)=>{Z6.init(w,Q),w._zod.parse=(Y,z)=>{if(z.direction==="backward")throw new r5(w.constructor.name);let H=Q.transform(Y.value,Y);if(z.async)return(H instanceof Promise?H:Promise.resolve(H)).then((X)=>{return Y.value=X,Y});if(H instanceof Promise)throw new H8;return Y.value=H,Y}});function dG(w,Q){if(w.issues.length&&Q===void 0)return{issues:[],value:void 0};return w}var g$=P("$ZodOptional",(w,Q)=>{Z6.init(w,Q),w._zod.optin="optional",w._zod.optout="optional",o0(w._zod,"values",()=>{return Q.innerType._zod.values?new Set([...Q.innerType._zod.values,void 0]):void 0}),o0(w._zod,"pattern",()=>{let Y=Q.innerType._zod.pattern;return Y?new RegExp(`^(${s5(Y.source)})?$`):void 0}),w._zod.parse=(Y,z)=>{if(Q.innerType._zod.optin==="optional"){let H=Q.innerType._zod.run(Y,z);if(H instanceof Promise)return H.then((W)=>dG(W,Y.value));return dG(H,Y.value)}if(Y.value===void 0)return Y;return Q.innerType._zod.run(Y,z)}}),f$=P("$ZodNullable",(w,Q)=>{Z6.init(w,Q),o0(w._zod,"optin",()=>Q.innerType._zod.optin),o0(w._zod,"optout",()=>Q.innerType._zod.optout),o0(w._zod,"pattern",()=>{let Y=Q.innerType._zod.pattern;return Y?new RegExp(`^(${s5(Y.source)}|null)$`):void 0}),o0(w._zod,"values",()=>{return Q.innerType._zod.values?new Set([...Q.innerType._zod.values,null]):void 0}),w._zod.parse=(Y,z)=>{if(Y.value===null)return Y;return Q.innerType._zod.run(Y,z)}}),x$=P("$ZodDefault",(w,Q)=>{Z6.init(w,Q),w._zod.optin="optional",o0(w._zod,"values",()=>Q.innerType._zod.values),w._zod.parse=(Y,z)=>{if(z.direction==="backward")return Q.innerType._zod.run(Y,z);if(Y.value===void 0)return Y.value=Q.defaultValue,Y;let H=Q.innerType._zod.run(Y,z);if(H instanceof Promise)return H.then((W)=>iG(W,Q));return iG(H,Q)}});function iG(w,Q){if(w.value===void 0)w.value=Q.defaultValue;return w}var v$=P("$ZodPrefault",(w,Q)=>{Z6.init(w,Q),w._zod.optin="optional",o0(w._zod,"values",()=>Q.innerType._zod.values),w._zod.parse=(Y,z)=>{if(z.direction==="backward")return Q.innerType._zod.run(Y,z);if(Y.value===void 0)Y.value=Q.defaultValue;return Q.innerType._zod.run(Y,z)}}),y$=P("$ZodNonOptional",(w,Q)=>{Z6.init(w,Q),o0(w._zod,"values",()=>{let Y=Q.innerType._zod.values;return Y?new Set([...Y].filter((z)=>z!==void 0)):void 0}),w._zod.parse=(Y,z)=>{let H=Q.innerType._zod.run(Y,z);if(H instanceof Promise)return H.then((W)=>nG(W,w));return nG(H,w)}});function nG(w,Q){if(!w.issues.length&&w.value===void 0)w.issues.push({code:"invalid_type",expected:"nonoptional",input:w.value,inst:Q});return w}var m$=P("$ZodCatch",(w,Q)=>{Z6.init(w,Q),o0(w._zod,"optin",()=>Q.innerType._zod.optin),o0(w._zod,"optout",()=>Q.innerType._zod.optout),o0(w._zod,"values",()=>Q.innerType._zod.values),w._zod.parse=(Y,z)=>{if(z.direction==="backward")return Q.innerType._zod.run(Y,z);let H=Q.innerType._zod.run(Y,z);if(H instanceof Promise)return H.then((W)=>{if(Y.value=W.value,W.issues.length)Y.value=Q.catchValue({...Y,error:{issues:W.issues.map((X)=>_w(X,z,W8()))},input:Y.value}),Y.issues=[];return Y});if(Y.value=H.value,H.issues.length)Y.value=Q.catchValue({...Y,error:{issues:H.issues.map((W)=>_w(W,z,W8()))},input:Y.value}),Y.issues=[];return Y}});var h$=P("$ZodPipe",(w,Q)=>{Z6.init(w,Q),o0(w._zod,"values",()=>Q.in._zod.values),o0(w._zod,"optin",()=>Q.in._zod.optin),o0(w._zod,"optout",()=>Q.out._zod.optout),o0(w._zod,"propValues",()=>Q.in._zod.propValues),w._zod.parse=(Y,z)=>{if(z.direction==="backward"){let W=Q.out._zod.run(Y,z);if(W instanceof Promise)return W.then((X)=>IH(X,Q.in,z));return IH(W,Q.in,z)}let H=Q.in._zod.run(Y,z);if(H instanceof Promise)return H.then((W)=>IH(W,Q.out,z));return IH(H,Q.out,z)}});function IH(w,Q,Y){if(w.issues.length)return w.aborted=!0,w;return Q._zod.run({value:w.value,issues:w.issues},Y)}var o$=P("$ZodReadonly",(w,Q)=>{Z6.init(w,Q),o0(w._zod,"propValues",()=>Q.innerType._zod.propValues),o0(w._zod,"values",()=>Q.innerType._zod.values),o0(w._zod,"optin",()=>Q.innerType?._zod?.optin),o0(w._zod,"optout",()=>Q.innerType?._zod?.optout),w._zod.parse=(Y,z)=>{if(z.direction==="backward")return Q.innerType._zod.run(Y,z);let H=Q.innerType._zod.run(Y,z);if(H instanceof Promise)return H.then(sG);return sG(H)}});function sG(w){return w.value=Object.freeze(w.value),w}var u$=P("$ZodCustom",(w,Q)=>{v6.init(w,Q),Z6.init(w,Q),w._zod.parse=(Y,z)=>{return Y},w._zod.check=(Y)=>{let z=Y.value,H=Q.fn(z);if(H instanceof Promise)return H.then((W)=>aG(W,Y,z,w));aG(H,Y,z,w);return}});function aG(w,Q,Y,z){if(!w){let H={code:"custom",input:Y,inst:z,path:[...z._zod.def.path??[]],continue:!z._zod.def.abort};if(z._zod.def.params)H.params=z._zod.def.params;Q.issues.push(eQ(H))}}var p$,cr0=Symbol("ZodOutput"),dr0=Symbol("ZodInput");class l${constructor(){this._map=new WeakMap,this._idmap=new Map}add(w,...Q){let Y=Q[0];if(this._map.set(w,Y),Y&&typeof Y==="object"&&"id"in Y){if(this._idmap.has(Y.id))throw Error(`ID ${Y.id} already exists in the registry`);this._idmap.set(Y.id,w)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(w){let Q=this._map.get(w);if(Q&&typeof Q==="object"&&"id"in Q)this._idmap.delete(Q.id);return this._map.delete(w),this}get(w){let Q=w._zod.parent;if(Q){let Y={...this.get(Q)??{}};delete Y.id;let z={...Y,...this._map.get(w)};return Object.keys(z).length?z:void 0}return this._map.get(w)}has(w){return this._map.has(w)}}function cp(){return new l$}(p$=globalThis).__zod_globalRegistry??(p$.__zod_globalRegistry=cp());var o4=globalThis.__zod_globalRegistry;function r$(w,Q){return new w({type:"string",...Q0(Q)})}function c$(w,Q){return new w({type:"string",format:"email",check:"string_format",abort:!1,...Q0(Q)})}function zL(w,Q){return new w({type:"string",format:"guid",check:"string_format",abort:!1,...Q0(Q)})}function d$(w,Q){return new w({type:"string",format:"uuid",check:"string_format",abort:!1,...Q0(Q)})}function i$(w,Q){return new w({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Q0(Q)})}function n$(w,Q){return new w({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Q0(Q)})}function s$(w,Q){return new w({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Q0(Q)})}function a$(w,Q){return new w({type:"string",format:"url",check:"string_format",abort:!1,...Q0(Q)})}function t$(w,Q){return new w({type:"string",format:"emoji",check:"string_format",abort:!1,...Q0(Q)})}function e$(w,Q){return new w({type:"string",format:"nanoid",check:"string_format",abort:!1,...Q0(Q)})}function wP(w,Q){return new w({type:"string",format:"cuid",check:"string_format",abort:!1,...Q0(Q)})}function QP(w,Q){return new w({type:"string",format:"cuid2",check:"string_format",abort:!1,...Q0(Q)})}function YP(w,Q){return new w({type:"string",format:"ulid",check:"string_format",abort:!1,...Q0(Q)})}function zP(w,Q){return new w({type:"string",format:"xid",check:"string_format",abort:!1,...Q0(Q)})}function HP(w,Q){return new w({type:"string",format:"ksuid",check:"string_format",abort:!1,...Q0(Q)})}function WP(w,Q){return new w({type:"string",format:"ipv4",check:"string_format",abort:!1,...Q0(Q)})}function XP(w,Q){return new w({type:"string",format:"ipv6",check:"string_format",abort:!1,...Q0(Q)})}function JP(w,Q){return new w({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Q0(Q)})}function LP(w,Q){return new w({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Q0(Q)})}function UP(w,Q){return new w({type:"string",format:"base64",check:"string_format",abort:!1,...Q0(Q)})}function qP(w,Q){return new w({type:"string",format:"base64url",check:"string_format",abort:!1,...Q0(Q)})}function OP(w,Q){return new w({type:"string",format:"e164",check:"string_format",abort:!1,...Q0(Q)})}function ZP(w,Q){return new w({type:"string",format:"jwt",check:"string_format",abort:!1,...Q0(Q)})}function NP(w,Q){return new w({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Q0(Q)})}function FP(w,Q){return new w({type:"string",format:"date",check:"string_format",...Q0(Q)})}function KP(w,Q){return new w({type:"string",format:"time",check:"string_format",precision:null,...Q0(Q)})}function BP(w,Q){return new w({type:"string",format:"duration",check:"string_format",...Q0(Q)})}function AP(w,Q){return new w({type:"number",checks:[],...Q0(Q)})}function MP(w,Q){return new w({type:"number",check:"number_format",abort:!1,format:"safeint",...Q0(Q)})}function TP(w,Q){return new w({type:"boolean",...Q0(Q)})}function RP(w){return new w({type:"unknown"})}function CP(w,Q){return new w({type:"never",...Q0(Q)})}function kH(w,Q){return new tJ({check:"less_than",...Q0(Q),value:w,inclusive:!1})}function Yz(w,Q){return new tJ({check:"less_than",...Q0(Q),value:w,inclusive:!0})}function gH(w,Q){return new eJ({check:"greater_than",...Q0(Q),value:w,inclusive:!1})}function zz(w,Q){return new eJ({check:"greater_than",...Q0(Q),value:w,inclusive:!0})}function fH(w,Q){return new IG({check:"multiple_of",...Q0(Q),value:w})}function xH(w,Q){return new jG({check:"max_length",...Q0(Q),maximum:w})}function wY(w,Q){return new kG({check:"min_length",...Q0(Q),minimum:w})}function vH(w,Q){return new gG({check:"length_equals",...Q0(Q),length:w})}function HL(w,Q){return new fG({check:"string_format",format:"regex",...Q0(Q),pattern:w})}function WL(w){return new xG({check:"string_format",format:"lowercase",...Q0(w)})}function XL(w){return new vG({check:"string_format",format:"uppercase",...Q0(w)})}function JL(w,Q){return new yG({check:"string_format",format:"includes",...Q0(Q),includes:w})}function LL(w,Q){return new mG({check:"string_format",format:"starts_with",...Q0(Q),prefix:w})}function UL(w,Q){return new hG({check:"string_format",format:"ends_with",...Q0(Q),suffix:w})}function s8(w){return new oG({check:"overwrite",tx:w})}function qL(w){return s8((Q)=>Q.normalize(w))}function OL(){return s8((w)=>w.trim())}function ZL(){return s8((w)=>w.toLowerCase())}function NL(){return s8((w)=>w.toUpperCase())}function FL(){return s8((w)=>lJ(w))}function DP(w,Q,Y){return new w({type:"array",element:Q,...Q0(Y)})}function VP(w,Q,Y){return new w({type:"custom",check:"custom",fn:Q,...Q0(Y)})}function GP(w){let Q=dp((Y)=>{return Y.addIssue=(z)=>{if(typeof z==="string")Y.issues.push(eQ(z,Y.value,Q._zod.def));else{let H=z;if(H.fatal)H.continue=!1;H.code??(H.code="custom"),H.input??(H.input=Y.value),H.inst??(H.inst=Q),H.continue??(H.continue=!Q._zod.def.abort),Y.issues.push(eQ(H))}},w(Y.value,Y)});return Q}function dp(w,Q){let Y=new v6({check:"custom",...Q0(Q)});return Y._zod.check=w,Y}function KL(w){let Q=w?.target??"draft-2020-12";if(Q==="draft-4")Q="draft-04";if(Q==="draft-7")Q="draft-07";return{processors:w.processors??{},metadataRegistry:w?.metadata??o4,target:Q,unrepresentable:w?.unrepresentable??"throw",override:w?.override??(()=>{}),io:w?.io??"output",counter:0,seen:new Map,cycles:w?.cycles??"ref",reused:w?.reused??"inline",external:w?.external??void 0}}function k6(w,Q,Y={path:[],schemaPath:[]}){var z;let H=w._zod.def,W=Q.seen.get(w);if(W){if(W.count++,Y.schemaPath.includes(w))W.cycle=Y.path;return W.schema}let X={schema:{},count:1,cycle:void 0,path:Y.path};Q.seen.set(w,X);let L=w._zod.toJSONSchema?.();if(L)X.schema=L;else{let Z={...Y,schemaPath:[...Y.schemaPath,w],path:Y.path},K=w._zod.parent;if(K)X.ref=K,k6(K,Q,Z),Q.seen.get(K).isParent=!0;else if(w._zod.processJSONSchema)w._zod.processJSONSchema(Q,X.schema,Z);else{let B=X.schema,A=Q.processors[H.type];if(!A)throw Error(`[toJSONSchema]: Non-representable type encountered: ${H.type}`);A(w,Q,B,Z)}}let U=Q.metadataRegistry.get(w);if(U)Object.assign(X.schema,U);if(Q.io==="input"&&J9(w))delete X.schema.examples,delete X.schema.default;if(Q.io==="input"&&X.schema._prefault)(z=X.schema).default??(z.default=X.schema._prefault);return delete X.schema._prefault,Q.seen.get(w).schema}function BL(w,Q){let Y=w.seen.get(Q);if(!Y)throw Error("Unprocessed schema. This is a bug in Zod.");let z=(W)=>{let X=w.target==="draft-2020-12"?"$defs":"definitions";if(w.external){let Z=w.external.registry.get(W[0])?.id,K=w.external.uri??((A)=>A);if(Z)return{ref:K(Z)};let B=W[1].defId??W[1].schema.id??`schema${w.counter++}`;return W[1].defId=B,{defId:B,ref:`${K("__shared")}#/${X}/${B}`}}if(W[1]===Y)return{ref:"#"};let U=`${"#"}/${X}/`,q=W[1].schema.id??`__schema${w.counter++}`;return{defId:q,ref:U+q}},H=(W)=>{if(W[1].schema.$ref)return;let X=W[1],{ref:L,defId:U}=z(W);if(X.def={...X.schema},U)X.defId=U;let q=X.schema;for(let Z in q)delete q[Z];q.$ref=L};if(w.cycles==="throw")for(let W of w.seen.entries()){let X=W[1];if(X.cycle)throw Error(`Cycle detected: #/${X.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let W of w.seen.entries()){let X=W[1];if(Q===W[0]){H(W);continue}if(w.external){let U=w.external.registry.get(W[0])?.id;if(Q!==W[0]&&U){H(W);continue}}if(w.metadataRegistry.get(W[0])?.id){H(W);continue}if(X.cycle){H(W);continue}if(X.count>1){if(w.reused==="ref"){H(W);continue}}}}function AL(w,Q){let Y=w.seen.get(Q);if(!Y)throw Error("Unprocessed schema. This is a bug in Zod.");let z=(X)=>{let L=w.seen.get(X),U=L.def??L.schema,q={...U};if(L.ref===null)return;let Z=L.ref;if(L.ref=null,Z){z(Z);let K=w.seen.get(Z).schema;if(K.$ref&&(w.target==="draft-07"||w.target==="draft-04"||w.target==="openapi-3.0"))U.allOf=U.allOf??[],U.allOf.push(K);else Object.assign(U,K),Object.assign(U,q)}if(!L.isParent)w.override({zodSchema:X,jsonSchema:U,path:L.path??[]})};for(let X of[...w.seen.entries()].reverse())z(X[0]);let H={};if(w.target==="draft-2020-12")H.$schema="https://json-schema.org/draft/2020-12/schema";else if(w.target==="draft-07")H.$schema="http://json-schema.org/draft-07/schema#";else if(w.target==="draft-04")H.$schema="http://json-schema.org/draft-04/schema#";else if(w.target==="openapi-3.0");if(w.external?.uri){let X=w.external.registry.get(Q)?.id;if(!X)throw Error("Schema is missing an `id` property");H.$id=w.external.uri(X)}Object.assign(H,Y.def??Y.schema);let W=w.external?.defs??{};for(let X of w.seen.entries()){let L=X[1];if(L.def&&L.defId)W[L.defId]=L.def}if(w.external);else if(Object.keys(W).length>0)if(w.target==="draft-2020-12")H.$defs=W;else H.definitions=W;try{let X=JSON.parse(JSON.stringify(H));return Object.defineProperty(X,"~standard",{value:{...Q["~standard"],jsonSchema:{input:Hz(Q,"input"),output:Hz(Q,"output")}},enumerable:!1,writable:!1}),X}catch(X){throw Error("Error converting schema to JSON.")}}function J9(w,Q){let Y=Q??{seen:new Set};if(Y.seen.has(w))return!1;Y.seen.add(w);let z=w._zod.def;if(z.type==="transform")return!0;if(z.type==="array")return J9(z.element,Y);if(z.type==="set")return J9(z.valueType,Y);if(z.type==="lazy")return J9(z.getter(),Y);if(z.type==="promise"||z.type==="optional"||z.type==="nonoptional"||z.type==="nullable"||z.type==="readonly"||z.type==="default"||z.type==="prefault")return J9(z.innerType,Y);if(z.type==="intersection")return J9(z.left,Y)||J9(z.right,Y);if(z.type==="record"||z.type==="map")return J9(z.keyType,Y)||J9(z.valueType,Y);if(z.type==="pipe")return J9(z.in,Y)||J9(z.out,Y);if(z.type==="object"){for(let H in z.shape)if(J9(z.shape[H],Y))return!0;return!1}if(z.type==="union"){for(let H of z.options)if(J9(H,Y))return!0;return!1}if(z.type==="tuple"){for(let H of z.items)if(J9(H,Y))return!0;if(z.rest&&J9(z.rest,Y))return!0;return!1}return!1}var $P=(w,Q={})=>(Y)=>{let z=KL({...Y,processors:Q});return k6(w,z),BL(z,w),AL(z,w)},Hz=(w,Q)=>(Y)=>{let{libraryOptions:z,target:H}=Y??{},W=KL({...z??{},target:H,io:Q,processors:{}});return k6(w,W),BL(W,w),AL(W,w)};var ip={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},PP=(w,Q,Y,z)=>{let H=Y;H.type="string";let{minimum:W,maximum:X,format:L,patterns:U,contentEncoding:q}=w._zod.bag;if(typeof W==="number")H.minLength=W;if(typeof X==="number")H.maxLength=X;if(L){if(H.format=ip[L]??L,H.format==="")delete H.format}if(q)H.contentEncoding=q;if(U&&U.size>0){let Z=[...U];if(Z.length===1)H.pattern=Z[0].source;else if(Z.length>1)H.allOf=[...Z.map((K)=>({...Q.target==="draft-07"||Q.target==="draft-04"||Q.target==="openapi-3.0"?{type:"string"}:{},pattern:K.source}))]}},EP=(w,Q,Y,z)=>{let H=Y,{minimum:W,maximum:X,format:L,multipleOf:U,exclusiveMaximum:q,exclusiveMinimum:Z}=w._zod.bag;if(typeof L==="string"&&L.includes("int"))H.type="integer";else H.type="number";if(typeof Z==="number")if(Q.target==="draft-04"||Q.target==="openapi-3.0")H.minimum=Z,H.exclusiveMinimum=!0;else H.exclusiveMinimum=Z;if(typeof W==="number"){if(H.minimum=W,typeof Z==="number"&&Q.target!=="draft-04")if(Z>=W)delete H.minimum;else delete H.exclusiveMinimum}if(typeof q==="number")if(Q.target==="draft-04"||Q.target==="openapi-3.0")H.maximum=q,H.exclusiveMaximum=!0;else H.exclusiveMaximum=q;if(typeof X==="number"){if(H.maximum=X,typeof q==="number"&&Q.target!=="draft-04")if(q<=X)delete H.maximum;else delete H.exclusiveMaximum}if(typeof U==="number")H.multipleOf=U},SP=(w,Q,Y,z)=>{Y.type="boolean"};var bP=(w,Q,Y,z)=>{Y.not={}};var IP=(w,Q,Y,z)=>{};var _P=(w,Q,Y,z)=>{let H=w._zod.def,W=d5(H.entries);if(W.every((X)=>typeof X==="number"))Y.type="number";if(W.every((X)=>typeof X==="string"))Y.type="string";Y.enum=W};var jP=(w,Q,Y,z)=>{if(Q.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema")};var kP=(w,Q,Y,z)=>{if(Q.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema")};var gP=(w,Q,Y,z)=>{let H=Y,W=w._zod.def,{minimum:X,maximum:L}=w._zod.bag;if(typeof X==="number")H.minItems=X;if(typeof L==="number")H.maxItems=L;H.type="array",H.items=k6(W.element,Q,{...z,path:[...z.path,"items"]})},fP=(w,Q,Y,z)=>{let H=Y,W=w._zod.def;H.type="object",H.properties={};let X=W.shape;for(let q in X)H.properties[q]=k6(X[q],Q,{...z,path:[...z.path,"properties",q]});let L=new Set(Object.keys(X)),U=new Set([...L].filter((q)=>{let Z=W.shape[q]._zod;if(Q.io==="input")return Z.optin===void 0;else return Z.optout===void 0}));if(U.size>0)H.required=Array.from(U);if(W.catchall?._zod.def.type==="never")H.additionalProperties=!1;else if(!W.catchall){if(Q.io==="output")H.additionalProperties=!1}else if(W.catchall)H.additionalProperties=k6(W.catchall,Q,{...z,path:[...z.path,"additionalProperties"]})},xP=(w,Q,Y,z)=>{let H=w._zod.def,W=H.inclusive===!1,X=H.options.map((L,U)=>k6(L,Q,{...z,path:[...z.path,W?"oneOf":"anyOf",U]}));if(W)Y.oneOf=X;else Y.anyOf=X},vP=(w,Q,Y,z)=>{let H=w._zod.def,W=k6(H.left,Q,{...z,path:[...z.path,"allOf",0]}),X=k6(H.right,Q,{...z,path:[...z.path,"allOf",1]}),L=(q)=>("allOf"in q)&&Object.keys(q).length===1,U=[...L(W)?W.allOf:[W],...L(X)?X.allOf:[X]];Y.allOf=U};var yP=(w,Q,Y,z)=>{let H=w._zod.def,W=k6(H.innerType,Q,z),X=Q.seen.get(w);if(Q.target==="openapi-3.0")X.ref=H.innerType,Y.nullable=!0;else Y.anyOf=[W,{type:"null"}]},mP=(w,Q,Y,z)=>{let H=w._zod.def;k6(H.innerType,Q,z);let W=Q.seen.get(w);W.ref=H.innerType},hP=(w,Q,Y,z)=>{let H=w._zod.def;k6(H.innerType,Q,z);let W=Q.seen.get(w);W.ref=H.innerType,Y.default=JSON.parse(JSON.stringify(H.defaultValue))},oP=(w,Q,Y,z)=>{let H=w._zod.def;k6(H.innerType,Q,z);let W=Q.seen.get(w);if(W.ref=H.innerType,Q.io==="input")Y._prefault=JSON.parse(JSON.stringify(H.defaultValue))},uP=(w,Q,Y,z)=>{let H=w._zod.def;k6(H.innerType,Q,z);let W=Q.seen.get(w);W.ref=H.innerType;let X;try{X=H.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}Y.default=X},pP=(w,Q,Y,z)=>{let H=w._zod.def,W=Q.io==="input"?H.in._zod.def.type==="transform"?H.out:H.in:H.out;k6(W,Q,z);let X=Q.seen.get(w);X.ref=W},lP=(w,Q,Y,z)=>{let H=w._zod.def;k6(H.innerType,Q,z);let W=Q.seen.get(w);W.ref=H.innerType,Y.readOnly=!0};var rP=(w,Q,Y,z)=>{let H=w._zod.def;k6(H.innerType,Q,z);let W=Q.seen.get(w);W.ref=H.innerType};var Ql=P("ZodISODateTime",(w,Q)=>{U$.init(w,Q),Y6.init(w,Q)});function cP(w){return NP(Ql,w)}var Yl=P("ZodISODate",(w,Q)=>{q$.init(w,Q),Y6.init(w,Q)});function dP(w){return FP(Yl,w)}var zl=P("ZodISOTime",(w,Q)=>{O$.init(w,Q),Y6.init(w,Q)});function iP(w){return KP(zl,w)}var Hl=P("ZodISODuration",(w,Q)=>{Z$.init(w,Q),Y6.init(w,Q)});function nP(w){return BP(Hl,w)}var sP=(w,Q)=>{PH.init(w,Q),w.name="ZodError",Object.defineProperties(w,{format:{value:(Y)=>rV(w,Y)},flatten:{value:(Y)=>lV(w,Y)},addIssue:{value:(Y)=>{w.issues.push(Y),w.message=JSON.stringify(w.issues,tQ,2)}},addIssues:{value:(Y)=>{w.issues.push(...Y),w.message=JSON.stringify(w.issues,tQ,2)}},isEmpty:{get(){return w.issues.length===0}}})},Gc0=P("ZodError",sP),j9=P("ZodError",sP,{Parent:Error});var aP=EH(j9),tP=SH(j9),eP=e5(j9),wE=wz(j9),QE=iV(j9),YE=nV(j9),zE=sV(j9),HE=aV(j9),WE=tV(j9),XE=eV(j9),JE=wG(j9),LE=QG(j9);var V6=P("ZodType",(w,Q)=>{return Z6.init(w,Q),Object.assign(w["~standard"],{jsonSchema:{input:Hz(w,"input"),output:Hz(w,"output")}}),w.toJSONSchema=$P(w,{}),w.def=Q,w.type=Q.type,Object.defineProperty(w,"_def",{value:Q}),w.check=(...Y)=>{return w.clone(v0.mergeDefs(Q,{checks:[...Q.checks??[],...Y.map((z)=>typeof z==="function"?{_zod:{check:z,def:{check:"custom"},onattach:[]}}:z)]}))},w.clone=(Y,z)=>zw(w,Y,z),w.brand=()=>w,w.register=(Y,z)=>{return Y.add(w,z),w},w.parse=(Y,z)=>aP(w,Y,z,{callee:w.parse}),w.safeParse=(Y,z)=>eP(w,Y,z),w.parseAsync=async(Y,z)=>tP(w,Y,z,{callee:w.parseAsync}),w.safeParseAsync=async(Y,z)=>wE(w,Y,z),w.spa=w.safeParseAsync,w.encode=(Y,z)=>QE(w,Y,z),w.decode=(Y,z)=>YE(w,Y,z),w.encodeAsync=async(Y,z)=>zE(w,Y,z),w.decodeAsync=async(Y,z)=>HE(w,Y,z),w.safeEncode=(Y,z)=>WE(w,Y,z),w.safeDecode=(Y,z)=>XE(w,Y,z),w.safeEncodeAsync=async(Y,z)=>JE(w,Y,z),w.safeDecodeAsync=async(Y,z)=>LE(w,Y,z),w.refine=(Y,z)=>w.check(al(Y,z)),w.superRefine=(Y)=>w.check(tl(Y)),w.overwrite=(Y)=>w.check(s8(Y)),w.optional=()=>ZE(w),w.nullable=()=>NE(w),w.nullish=()=>ZE(NE(w)),w.nonoptional=(Y)=>ll(w,Y),w.array=()=>CL(w),w.or=(Y)=>gl([w,Y]),w.and=(Y)=>xl(w,Y),w.transform=(Y)=>FE(w,yl(Y)),w.default=(Y)=>ol(w,Y),w.prefault=(Y)=>pl(w,Y),w.catch=(Y)=>cl(w,Y),w.pipe=(Y)=>FE(w,Y),w.readonly=()=>nl(w),w.describe=(Y)=>{let z=w.clone();return o4.add(z,{description:Y}),z},Object.defineProperty(w,"description",{get(){return o4.get(w)?.description},configurable:!0}),w.meta=(...Y)=>{if(Y.length===0)return o4.get(w);let z=w.clone();return o4.add(z,Y[0]),z},w.isOptional=()=>w.safeParse(void 0).success,w.isNullable=()=>w.safeParse(null).success,w}),KE=P("_ZodString",(w,Q)=>{jH.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(z,H,W)=>PP(w,z,H,W);let Y=w._zod.bag;w.format=Y.format??null,w.minLength=Y.minimum??null,w.maxLength=Y.maximum??null,w.regex=(...z)=>w.check(HL(...z)),w.includes=(...z)=>w.check(JL(...z)),w.startsWith=(...z)=>w.check(LL(...z)),w.endsWith=(...z)=>w.check(UL(...z)),w.min=(...z)=>w.check(wY(...z)),w.max=(...z)=>w.check(xH(...z)),w.length=(...z)=>w.check(vH(...z)),w.nonempty=(...z)=>w.check(wY(1,...z)),w.lowercase=(z)=>w.check(WL(z)),w.uppercase=(z)=>w.check(XL(z)),w.trim=()=>w.check(OL()),w.normalize=(...z)=>w.check(qL(...z)),w.toLowerCase=()=>w.check(ZL()),w.toUpperCase=()=>w.check(NL()),w.slugify=()=>w.check(FL())}),Ll=P("ZodString",(w,Q)=>{jH.init(w,Q),KE.init(w,Q),w.email=(Y)=>w.check(c$(Ul,Y)),w.url=(Y)=>w.check(a$(ql,Y)),w.jwt=(Y)=>w.check(ZP($l,Y)),w.emoji=(Y)=>w.check(t$(Ol,Y)),w.guid=(Y)=>w.check(zL(UE,Y)),w.uuid=(Y)=>w.check(d$(mH,Y)),w.uuidv4=(Y)=>w.check(i$(mH,Y)),w.uuidv6=(Y)=>w.check(n$(mH,Y)),w.uuidv7=(Y)=>w.check(s$(mH,Y)),w.nanoid=(Y)=>w.check(e$(Zl,Y)),w.guid=(Y)=>w.check(zL(UE,Y)),w.cuid=(Y)=>w.check(wP(Nl,Y)),w.cuid2=(Y)=>w.check(QP(Fl,Y)),w.ulid=(Y)=>w.check(YP(Kl,Y)),w.base64=(Y)=>w.check(UP(Dl,Y)),w.base64url=(Y)=>w.check(qP(Vl,Y)),w.xid=(Y)=>w.check(zP(Bl,Y)),w.ksuid=(Y)=>w.check(HP(Al,Y)),w.ipv4=(Y)=>w.check(WP(Ml,Y)),w.ipv6=(Y)=>w.check(XP(Tl,Y)),w.cidrv4=(Y)=>w.check(JP(Rl,Y)),w.cidrv6=(Y)=>w.check(LP(Cl,Y)),w.e164=(Y)=>w.check(OP(Gl,Y)),w.datetime=(Y)=>w.check(cP(Y)),w.date=(Y)=>w.check(dP(Y)),w.time=(Y)=>w.check(iP(Y)),w.duration=(Y)=>w.check(nP(Y))});function TL(w){return r$(Ll,w)}var Y6=P("ZodStringFormat",(w,Q)=>{a0.init(w,Q),KE.init(w,Q)}),Ul=P("ZodEmail",(w,Q)=>{w$.init(w,Q),Y6.init(w,Q)});var UE=P("ZodGUID",(w,Q)=>{tG.init(w,Q),Y6.init(w,Q)});var mH=P("ZodUUID",(w,Q)=>{eG.init(w,Q),Y6.init(w,Q)});var ql=P("ZodURL",(w,Q)=>{Q$.init(w,Q),Y6.init(w,Q)});var Ol=P("ZodEmoji",(w,Q)=>{Y$.init(w,Q),Y6.init(w,Q)});var Zl=P("ZodNanoID",(w,Q)=>{z$.init(w,Q),Y6.init(w,Q)});var Nl=P("ZodCUID",(w,Q)=>{H$.init(w,Q),Y6.init(w,Q)});var Fl=P("ZodCUID2",(w,Q)=>{W$.init(w,Q),Y6.init(w,Q)});var Kl=P("ZodULID",(w,Q)=>{X$.init(w,Q),Y6.init(w,Q)});var Bl=P("ZodXID",(w,Q)=>{J$.init(w,Q),Y6.init(w,Q)});var Al=P("ZodKSUID",(w,Q)=>{L$.init(w,Q),Y6.init(w,Q)});var Ml=P("ZodIPv4",(w,Q)=>{N$.init(w,Q),Y6.init(w,Q)});var Tl=P("ZodIPv6",(w,Q)=>{F$.init(w,Q),Y6.init(w,Q)});var Rl=P("ZodCIDRv4",(w,Q)=>{K$.init(w,Q),Y6.init(w,Q)});var Cl=P("ZodCIDRv6",(w,Q)=>{B$.init(w,Q),Y6.init(w,Q)});var Dl=P("ZodBase64",(w,Q)=>{M$.init(w,Q),Y6.init(w,Q)});var Vl=P("ZodBase64URL",(w,Q)=>{T$.init(w,Q),Y6.init(w,Q)});var Gl=P("ZodE164",(w,Q)=>{R$.init(w,Q),Y6.init(w,Q)});var $l=P("ZodJWT",(w,Q)=>{C$.init(w,Q),Y6.init(w,Q)});var BE=P("ZodNumber",(w,Q)=>{YL.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(z,H,W)=>EP(w,z,H,W),w.gt=(z,H)=>w.check(gH(z,H)),w.gte=(z,H)=>w.check(zz(z,H)),w.min=(z,H)=>w.check(zz(z,H)),w.lt=(z,H)=>w.check(kH(z,H)),w.lte=(z,H)=>w.check(Yz(z,H)),w.max=(z,H)=>w.check(Yz(z,H)),w.int=(z)=>w.check(qE(z)),w.safe=(z)=>w.check(qE(z)),w.positive=(z)=>w.check(gH(0,z)),w.nonnegative=(z)=>w.check(zz(0,z)),w.negative=(z)=>w.check(kH(0,z)),w.nonpositive=(z)=>w.check(Yz(0,z)),w.multipleOf=(z,H)=>w.check(fH(z,H)),w.step=(z,H)=>w.check(fH(z,H)),w.finite=()=>w;let Y=w._zod.bag;w.minValue=Math.max(Y.minimum??Number.NEGATIVE_INFINITY,Y.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,w.maxValue=Math.min(Y.maximum??Number.POSITIVE_INFINITY,Y.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,w.isInt=(Y.format??"").includes("int")||Number.isSafeInteger(Y.multipleOf??0.5),w.isFinite=!0,w.format=Y.format??null});function RL(w){return AP(BE,w)}var Pl=P("ZodNumberFormat",(w,Q)=>{D$.init(w,Q),BE.init(w,Q)});function qE(w){return MP(Pl,w)}var El=P("ZodBoolean",(w,Q)=>{V$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>SP(w,Y,z,H)});function G9(w){return TP(El,w)}var Sl=P("ZodUnknown",(w,Q)=>{G$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>IP(w,Y,z,H)});function OE(){return RP(Sl)}var bl=P("ZodNever",(w,Q)=>{$$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>bP(w,Y,z,H)});function Il(w){return CP(bl,w)}var _l=P("ZodArray",(w,Q)=>{P$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>gP(w,Y,z,H),w.element=Q.element,w.min=(Y,z)=>w.check(wY(Y,z)),w.nonempty=(Y)=>w.check(wY(1,Y)),w.max=(Y,z)=>w.check(xH(Y,z)),w.length=(Y,z)=>w.check(vH(Y,z)),w.unwrap=()=>w.element});function CL(w,Q){return DP(_l,w,Q)}var jl=P("ZodObject",(w,Q)=>{b$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>fP(w,Y,z,H),v0.defineLazy(w,"shape",()=>{return Q.shape}),w.keyof=()=>jw(Object.keys(w._zod.def.shape)),w.catchall=(Y)=>w.clone({...w._zod.def,catchall:Y}),w.passthrough=()=>w.clone({...w._zod.def,catchall:OE()}),w.loose=()=>w.clone({...w._zod.def,catchall:OE()}),w.strict=()=>w.clone({...w._zod.def,catchall:Il()}),w.strip=()=>w.clone({...w._zod.def,catchall:void 0}),w.extend=(Y)=>{return v0.extend(w,Y)},w.safeExtend=(Y)=>{return v0.safeExtend(w,Y)},w.merge=(Y)=>v0.merge(w,Y),w.pick=(Y)=>v0.pick(w,Y),w.omit=(Y)=>v0.omit(w,Y),w.partial=(...Y)=>v0.partial(AE,w,Y[0]),w.required=(...Y)=>v0.required(ME,w,Y[0])});function DL(w,Q){let Y={type:"object",shape:w??{},...v0.normalizeParams(Q)};return new jl(Y)}var kl=P("ZodUnion",(w,Q)=>{I$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>xP(w,Y,z,H),w.options=Q.options});function gl(w,Q){return new kl({type:"union",options:w,...v0.normalizeParams(Q)})}var fl=P("ZodIntersection",(w,Q)=>{_$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>vP(w,Y,z,H)});function xl(w,Q){return new fl({type:"intersection",left:w,right:Q})}var ML=P("ZodEnum",(w,Q)=>{j$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(z,H,W)=>_P(w,z,H,W),w.enum=Q.entries,w.options=Object.values(Q.entries);let Y=new Set(Object.keys(Q.entries));w.extract=(z,H)=>{let W={};for(let X of z)if(Y.has(X))W[X]=Q.entries[X];else throw Error(`Key ${X} not found in enum`);return new ML({...Q,checks:[],...v0.normalizeParams(H),entries:W})},w.exclude=(z,H)=>{let W={...Q.entries};for(let X of z)if(Y.has(X))delete W[X];else throw Error(`Key ${X} not found in enum`);return new ML({...Q,checks:[],...v0.normalizeParams(H),entries:W})}});function jw(w,Q){let Y=Array.isArray(w)?Object.fromEntries(w.map((z)=>[z,z])):w;return new ML({type:"enum",entries:Y,...v0.normalizeParams(Q)})}var vl=P("ZodTransform",(w,Q)=>{k$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>kP(w,Y,z,H),w._zod.parse=(Y,z)=>{if(z.direction==="backward")throw new r5(w.constructor.name);Y.addIssue=(W)=>{if(typeof W==="string")Y.issues.push(v0.issue(W,Y.value,Q));else{let X=W;if(X.fatal)X.continue=!1;X.code??(X.code="custom"),X.input??(X.input=Y.value),X.inst??(X.inst=w),Y.issues.push(v0.issue(X))}};let H=Q.transform(Y.value,Y);if(H instanceof Promise)return H.then((W)=>{return Y.value=W,Y});return Y.value=H,Y}});function yl(w){return new vl({type:"transform",transform:w})}var AE=P("ZodOptional",(w,Q)=>{g$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>rP(w,Y,z,H),w.unwrap=()=>w._zod.def.innerType});function ZE(w){return new AE({type:"optional",innerType:w})}var ml=P("ZodNullable",(w,Q)=>{f$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>yP(w,Y,z,H),w.unwrap=()=>w._zod.def.innerType});function NE(w){return new ml({type:"nullable",innerType:w})}var hl=P("ZodDefault",(w,Q)=>{x$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>hP(w,Y,z,H),w.unwrap=()=>w._zod.def.innerType,w.removeDefault=w.unwrap});function ol(w,Q){return new hl({type:"default",innerType:w,get defaultValue(){return typeof Q==="function"?Q():v0.shallowClone(Q)}})}var ul=P("ZodPrefault",(w,Q)=>{v$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>oP(w,Y,z,H),w.unwrap=()=>w._zod.def.innerType});function pl(w,Q){return new ul({type:"prefault",innerType:w,get defaultValue(){return typeof Q==="function"?Q():v0.shallowClone(Q)}})}var ME=P("ZodNonOptional",(w,Q)=>{y$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>mP(w,Y,z,H),w.unwrap=()=>w._zod.def.innerType});function ll(w,Q){return new ME({type:"nonoptional",innerType:w,...v0.normalizeParams(Q)})}var rl=P("ZodCatch",(w,Q)=>{m$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>uP(w,Y,z,H),w.unwrap=()=>w._zod.def.innerType,w.removeCatch=w.unwrap});function cl(w,Q){return new rl({type:"catch",innerType:w,catchValue:typeof Q==="function"?Q:()=>Q})}var dl=P("ZodPipe",(w,Q)=>{h$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>pP(w,Y,z,H),w.in=Q.in,w.out=Q.out});function FE(w,Q){return new dl({type:"pipe",in:w,out:Q})}var il=P("ZodReadonly",(w,Q)=>{o$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>lP(w,Y,z,H),w.unwrap=()=>w._zod.def.innerType});function nl(w){return new il({type:"readonly",innerType:w})}var sl=P("ZodCustom",(w,Q)=>{u$.init(w,Q),V6.init(w,Q),w._zod.processJSONSchema=(Y,z,H)=>jP(w,Y,z,H)});function al(w,Q={}){return VP(sl,w,Q)}function tl(w){return GP(w)}var wr=oz({"$schema?":"string","arrowParens?":"'always' | 'avoid'","bracketSameLine?":"boolean","bracketSpacing?":"boolean","embeddedLanguageFormatting?":"'auto' | 'off'","endOfLine?":"'lf' | 'crlf' | 'cr'","experimentalOperatorPosition?":"'end' | 'start'","experimentalSortImports?":oz({"ignoreCase?":"boolean","newlinesBetween?":"boolean","order?":"'asc' | 'desc'","partitionByComment?":"boolean","partitionByNewline?":"boolean","sortSideEffects?":"boolean"}).or("null | undefined"),"experimentalSortPackageJson?":"boolean","ignorePatterns?":"string[]","jsxSingleQuote?":"boolean","objectWrap?":"'preserve' | 'collapse' | 'always'","printWidth?":"number.integer","quoteProps?":"'as-needed' | 'consistent' | 'preserve'","semi?":"boolean","singleAttributePerLine?":"boolean","singleQuote?":"boolean","tabWidth?":"number.integer","trailingComma?":"'none' | 'es5' | 'all'","useTabs?":"boolean"}),Qr=CJ(x.Object({$schema:x.Optional(x.String()),arrowParens:x.Optional(x.Union([x.Literal("always"),x.Literal("avoid")])),bracketSameLine:x.Optional(x.Boolean()),bracketSpacing:x.Optional(x.Boolean()),embeddedLanguageFormatting:x.Optional(x.Union([x.Literal("auto"),x.Literal("off")])),endOfLine:x.Optional(x.Union([x.Literal("lf"),x.Literal("crlf"),x.Literal("cr")])),experimentalOperatorPosition:x.Optional(x.Union([x.Literal("end"),x.Literal("start")])),experimentalSortImports:x.Optional(x.Object({ignoreCase:x.Optional(x.Boolean()),newlinesBetween:x.Optional(x.Boolean()),order:x.Optional(x.Union([x.Literal("asc"),x.Literal("desc")])),partitionByComment:x.Optional(x.Boolean()),partitionByNewline:x.Optional(x.Boolean()),sortSideEffects:x.Optional(x.Boolean())})),experimentalSortPackageJson:x.Optional(x.Boolean()),ignorePatterns:x.Optional(x.Array(x.String())),jsxSingleQuote:x.Optional(x.Boolean()),objectWrap:x.Optional(x.Union([x.Literal("preserve"),x.Literal("collapse"),x.Literal("always")])),printWidth:x.Optional(x.Integer()),quoteProps:x.Optional(x.Union([x.Literal("as-needed"),x.Literal("consistent"),x.Literal("preserve")])),semi:x.Optional(x.Boolean()),singleAttributePerLine:x.Optional(x.Boolean()),singleQuote:x.Optional(x.Boolean()),tabWidth:x.Optional(x.Integer()),trailingComma:x.Optional(x.Union([x.Literal("none"),x.Literal("es5"),x.Literal("all")])),useTabs:x.Optional(x.Boolean())})),Yr=DL({$schema:TL().optional(),arrowParens:jw(["always","avoid"]).optional(),bracketSameLine:G9().optional(),bracketSpacing:G9().optional(),embeddedLanguageFormatting:jw(["auto","off"]).optional(),endOfLine:jw(["lf","crlf","cr"]).optional(),experimentalOperatorPosition:jw(["end","start"]).optional(),experimentalSortImports:DL({ignoreCase:G9().optional(),newlinesBetween:G9().optional(),order:jw(["asc","desc"]).optional(),partitionByComment:G9().optional(),partitionByNewline:G9().optional(),sortSideEffects:G9().optional()}).optional(),experimentalSortPackageJson:G9().optional(),ignorePatterns:CL(TL()).optional(),jsxSingleQuote:G9().optional(),objectWrap:jw(["preserve","collapse","always"]).optional(),printWidth:RL().int().optional(),quoteProps:jw(["as-needed","consistent","preserve"]).optional(),semi:G9().optional(),singleAttributePerLine:G9().optional(),singleQuote:G9().optional(),tabWidth:RL().int().optional(),trailingComma:jw(["none","es5","all"]).optional(),useTabs:G9().optional()}),zr=UH({$schema:x0(qH()),arrowParens:x0(Sw(["always","avoid"])),bracketSameLine:x0(H9()),bracketSpacing:x0(H9()),embeddedLanguageFormatting:x0(Sw(["auto","off"])),endOfLine:x0(Sw(["lf","crlf","cr"])),experimentalOperatorPosition:x0(Sw(["end","start"])),experimentalSortImports:x0(UH({ignoreCase:x0(H9()),newlinesBetween:x0(H9()),order:x0(Sw(["asc","desc"])),partitionByComment:x0(H9()),partitionByNewline:x0(H9()),sortSideEffects:x0(H9())})),experimentalSortPackageJson:x0(H9()),ignorePatterns:x0(VJ(qH())),jsxSingleQuote:x0(H9()),objectWrap:x0(Sw(["preserve","collapse","always"])),printWidth:x0(LH()),quoteProps:x0(Sw(["as-needed","consistent","preserve"])),semi:x0(H9()),singleAttributePerLine:x0(H9()),singleQuote:x0(H9()),tabWidth:x0(LH()),trailingComma:x0(Sw(["none","es5","all"])),useTabs:x0(H9())}),Hr=DH({$schema:RH().nullable(),arrowParens:Iw().nullable(),bracketSameLine:X9().nullable(),bracketSpacing:X9().nullable(),embeddedLanguageFormatting:Iw().nullable(),endOfLine:Iw().nullable(),experimentalOperatorPosition:Iw().nullable(),experimentalSortImports:DH({ignoreCase:X9().nullable(),newlinesBetween:X9().nullable(),order:Iw().nullable(),partitionByComment:X9().nullable(),partitionByNewline:X9().nullable(),sortSideEffects:X9().nullable()}).nullable(),experimentalSortPackageJson:X9().nullable(),ignorePatterns:mJ(RH()).nullable(),jsxSingleQuote:X9().nullable(),objectWrap:Iw().nullable(),printWidth:CH().nullable(),quoteProps:Iw().nullable(),semi:X9().nullable(),singleAttributePerLine:X9().nullable(),singleQuote:X9().nullable(),tabWidth:CH().nullable(),trailingComma:Iw().nullable(),useTabs:X9().nullable()}),Wr=_X({$schema:l0(bX),arrowParens:l0(lw(["always","avoid"])),bracketSameLine:l0(K9),bracketSpacing:l0(K9),embeddedLanguageFormatting:l0(lw(["auto","off"])),endOfLine:l0(lw(["lf","crlf","cr"])),experimentalOperatorPosition:l0(lw(["end","start"])),experimentalSortImports:IO(_X({ignoreCase:l0(K9),newlinesBetween:l0(K9),order:l0(lw(["asc","desc"])),partitionByComment:l0(K9),partitionByNewline:l0(K9),sortSideEffects:l0(K9)})),experimentalSortPackageJson:l0(K9),ignorePatterns:l0(_O(bX)),jsxSingleQuote:l0(K9),objectWrap:l0(lw(["preserve","collapse","always"])),printWidth:l0(IX),quoteProps:l0(lw(["as-needed","consistent","preserve"])),semi:l0(K9),singleAttributePerLine:l0(K9),singleQuote:l0(K9),tabWidth:l0(IX),trailingComma:l0(lw(["none","es5","all"])),useTabs:l0(K9)}),QY=JX(await el(".oxfmtrc.json","utf8"));s1(()=>{X4("typebox",()=>{F8(Qr.Check(QY))}),X4("arktype",()=>{F8(wr.assert(QY))}),X4("zod",()=>{F8(Yr.safeParse(QY))}),X4("valibot",()=>{F8(WV(zr,QY))}),X4("yup",()=>{try{F8(Hr.validateSync(QY))}catch{}}),X4("sury",()=>{F8(jO(QY,Wr))})});await a1({});
